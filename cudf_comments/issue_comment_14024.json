[
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1701717411",
        "html_url": "https://github.com/rapidsai/cudf/issues/14024#issuecomment-1701717411",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14024",
        "id": 1701717411,
        "node_id": "IC_kwDOBWUGps5lbiWj",
        "user": {
            "login": "etseidl",
            "id": 25541553,
            "node_id": "MDQ6VXNlcjI1NTQxNTUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/25541553?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/etseidl",
            "html_url": "https://github.com/etseidl",
            "followers_url": "https://api.github.com/users/etseidl/followers",
            "following_url": "https://api.github.com/users/etseidl/following{/other_user}",
            "gists_url": "https://api.github.com/users/etseidl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/etseidl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/etseidl/subscriptions",
            "organizations_url": "https://api.github.com/users/etseidl/orgs",
            "repos_url": "https://api.github.com/users/etseidl/repos",
            "events_url": "https://api.github.com/users/etseidl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/etseidl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-08-31T20:12:12Z",
        "updated_at": "2023-08-31T20:12:12Z",
        "author_association": "CONTRIBUTOR",
        "body": "The `value` in `KeyValue` is an optional field in the spec, so it's correct to write nothing if it isn't set.  In #14000 I've started using `std::optional` for optional fields, to distinguish from merely empty but present fields. Perhaps that could be done throughout the Parquet thrift objects.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1701717411/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1701744077",
        "html_url": "https://github.com/rapidsai/cudf/issues/14024#issuecomment-1701744077",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14024",
        "id": 1701744077,
        "node_id": "IC_kwDOBWUGps5lbo3N",
        "user": {
            "login": "vuule",
            "id": 16005690,
            "node_id": "MDQ6VXNlcjE2MDA1Njkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/16005690?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vuule",
            "html_url": "https://github.com/vuule",
            "followers_url": "https://api.github.com/users/vuule/followers",
            "following_url": "https://api.github.com/users/vuule/following{/other_user}",
            "gists_url": "https://api.github.com/users/vuule/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vuule/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vuule/subscriptions",
            "organizations_url": "https://api.github.com/users/vuule/orgs",
            "repos_url": "https://api.github.com/users/vuule/repos",
            "events_url": "https://api.github.com/users/vuule/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vuule/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-08-31T20:34:45Z",
        "updated_at": "2023-08-31T20:34:45Z",
        "author_association": "CONTRIBUTOR",
        "body": "@etseidl I assume that the key-value pair is optional, but is it okay to include the key without the value? ",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1701744077/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1701750623",
        "html_url": "https://github.com/rapidsai/cudf/issues/14024#issuecomment-1701750623",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14024",
        "id": 1701750623,
        "node_id": "IC_kwDOBWUGps5lbqdf",
        "user": {
            "login": "etseidl",
            "id": 25541553,
            "node_id": "MDQ6VXNlcjI1NTQxNTUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/25541553?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/etseidl",
            "html_url": "https://github.com/etseidl",
            "followers_url": "https://api.github.com/users/etseidl/followers",
            "following_url": "https://api.github.com/users/etseidl/following{/other_user}",
            "gists_url": "https://api.github.com/users/etseidl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/etseidl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/etseidl/subscriptions",
            "organizations_url": "https://api.github.com/users/etseidl/orgs",
            "repos_url": "https://api.github.com/users/etseidl/repos",
            "events_url": "https://api.github.com/users/etseidl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/etseidl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-08-31T20:39:33Z",
        "updated_at": "2023-08-31T20:47:56Z",
        "author_association": "CONTRIBUTOR",
        "body": "> @etseidl I assume that the key-value pair is optional, but is it okay to include the key without the value? \r\n\r\nAccording to the thrift idl, yes.\r\n\r\n```thrift\r\n struct KeyValue {\r\n  1: required string key\r\n  2: optional string value\r\n}\r\n```\r\n\r\nAlso optional in `FileMetaData`\r\n```thrift\r\nstruct FileMetaData {\r\n  ...\r\n  /** Optional key/value metadata **/\r\n  5: optional list<KeyValue> key_value_metadata\r\n}\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1701750623/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1701884029",
        "html_url": "https://github.com/rapidsai/cudf/issues/14024#issuecomment-1701884029",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14024",
        "id": 1701884029,
        "node_id": "IC_kwDOBWUGps5lcLB9",
        "user": {
            "login": "ttnghia",
            "id": 7416935,
            "node_id": "MDQ6VXNlcjc0MTY5MzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7416935?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ttnghia",
            "html_url": "https://github.com/ttnghia",
            "followers_url": "https://api.github.com/users/ttnghia/followers",
            "following_url": "https://api.github.com/users/ttnghia/following{/other_user}",
            "gists_url": "https://api.github.com/users/ttnghia/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ttnghia/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ttnghia/subscriptions",
            "organizations_url": "https://api.github.com/users/ttnghia/orgs",
            "repos_url": "https://api.github.com/users/ttnghia/repos",
            "events_url": "https://api.github.com/users/ttnghia/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ttnghia/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-08-31T22:54:12Z",
        "updated_at": "2023-08-31T22:54:12Z",
        "author_association": "CONTRIBUTOR",
        "body": "That's interesting. Then such \"optional\" should mean the user can specify it as an optional, instead of the current behavior (the library ignores writing empty string without the user's knowledge). So #14000 should be the way to go instead.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1701884029/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1701916274",
        "html_url": "https://github.com/rapidsai/cudf/issues/14024#issuecomment-1701916274",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14024",
        "id": 1701916274,
        "node_id": "IC_kwDOBWUGps5lcS5y",
        "user": {
            "login": "etseidl",
            "id": 25541553,
            "node_id": "MDQ6VXNlcjI1NTQxNTUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/25541553?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/etseidl",
            "html_url": "https://github.com/etseidl",
            "followers_url": "https://api.github.com/users/etseidl/followers",
            "following_url": "https://api.github.com/users/etseidl/following{/other_user}",
            "gists_url": "https://api.github.com/users/etseidl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/etseidl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/etseidl/subscriptions",
            "organizations_url": "https://api.github.com/users/etseidl/orgs",
            "repos_url": "https://api.github.com/users/etseidl/repos",
            "events_url": "https://api.github.com/users/etseidl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/etseidl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-08-31T23:42:36Z",
        "updated_at": "2023-09-01T00:18:56Z",
        "author_association": "CONTRIBUTOR",
        "body": "> That's interesting. Then such \"optional\" should mean the user can specify it as an optional, instead of the current behavior (the library ignores writing empty string without the user's knowledge). So #14000 should be the way to go instead.\r\n\r\nYes, I think making more use of `optional` would make things clearer (although I didn't notice someone beat me to it :sweat_smile:  @PointKernel apparently) https://github.com/rapidsai/cudf/blob/ad9fa501192332ca8ce310ffe967473ec0945a97/cpp/src/io/parquet/compact_protocol_reader.hpp#L265",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1701916274/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1707355201",
        "html_url": "https://github.com/rapidsai/cudf/issues/14024#issuecomment-1707355201",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14024",
        "id": 1707355201,
        "node_id": "IC_kwDOBWUGps5lxCxB",
        "user": {
            "login": "PointKernel",
            "id": 12716979,
            "node_id": "MDQ6VXNlcjEyNzE2OTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/12716979?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/PointKernel",
            "html_url": "https://github.com/PointKernel",
            "followers_url": "https://api.github.com/users/PointKernel/followers",
            "following_url": "https://api.github.com/users/PointKernel/following{/other_user}",
            "gists_url": "https://api.github.com/users/PointKernel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/PointKernel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/PointKernel/subscriptions",
            "organizations_url": "https://api.github.com/users/PointKernel/orgs",
            "repos_url": "https://api.github.com/users/PointKernel/repos",
            "events_url": "https://api.github.com/users/PointKernel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/PointKernel/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-09-05T21:51:10Z",
        "updated_at": "2023-09-05T21:51:10Z",
        "author_association": "MEMBER",
        "body": "Yeah, using `std::optional` to properly handle optional field reading/writing was on my TODO list but then got distracted by other tasks.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1707355201/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1947540510",
        "html_url": "https://github.com/rapidsai/cudf/issues/14024#issuecomment-1947540510",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14024",
        "id": 1947540510,
        "node_id": "IC_kwDOBWUGps50FRwe",
        "user": {
            "login": "vuule",
            "id": 16005690,
            "node_id": "MDQ6VXNlcjE2MDA1Njkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/16005690?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vuule",
            "html_url": "https://github.com/vuule",
            "followers_url": "https://api.github.com/users/vuule/followers",
            "following_url": "https://api.github.com/users/vuule/following{/other_user}",
            "gists_url": "https://api.github.com/users/vuule/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vuule/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vuule/subscriptions",
            "organizations_url": "https://api.github.com/users/vuule/orgs",
            "repos_url": "https://api.github.com/users/vuule/repos",
            "events_url": "https://api.github.com/users/vuule/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vuule/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2024-02-16T00:12:38Z",
        "updated_at": "2024-02-16T00:12:38Z",
        "author_association": "CONTRIBUTOR",
        "body": "This issue has been at least partially addressed. We need to make another pass over `CompactProtocolReader::read` functions to verify that all optional fields are treated as such.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1947540510/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]
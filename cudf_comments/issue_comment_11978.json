[
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1289454625",
        "html_url": "https://github.com/rapidsai/cudf/issues/11978#issuecomment-1289454625",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/11978",
        "id": 1289454625,
        "node_id": "IC_kwDOBWUGps5M24Qh",
        "user": {
            "login": "vyasr",
            "id": 1538165,
            "node_id": "MDQ6VXNlcjE1MzgxNjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1538165?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vyasr",
            "html_url": "https://github.com/vyasr",
            "followers_url": "https://api.github.com/users/vyasr/followers",
            "following_url": "https://api.github.com/users/vyasr/following{/other_user}",
            "gists_url": "https://api.github.com/users/vyasr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vyasr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vyasr/subscriptions",
            "organizations_url": "https://api.github.com/users/vyasr/orgs",
            "repos_url": "https://api.github.com/users/vyasr/repos",
            "events_url": "https://api.github.com/users/vyasr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vyasr/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-10-24T18:51:02Z",
        "updated_at": "2022-10-24T18:51:02Z",
        "author_association": "CONTRIBUTOR",
        "body": "I should clarify. It may be acceptable to write tests of detail APIs. Some detail APIs are important enough and used by multiple public APIs, so they may benefit from dedicated testing. However, I suspect that in many cases we are using detail APIs to construct tests for public APIs. One specific instance that I know occurs is the use of vector factories in the detail namespace. Those uses are suspect and should be analyzed. The JNI should certainly not need to rely on detail APIs.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1289454625/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1289941344",
        "html_url": "https://github.com/rapidsai/cudf/issues/11978#issuecomment-1289941344",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/11978",
        "id": 1289941344,
        "node_id": "IC_kwDOBWUGps5M4vFg",
        "user": {
            "login": "ttnghia",
            "id": 7416935,
            "node_id": "MDQ6VXNlcjc0MTY5MzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7416935?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ttnghia",
            "html_url": "https://github.com/ttnghia",
            "followers_url": "https://api.github.com/users/ttnghia/followers",
            "following_url": "https://api.github.com/users/ttnghia/following{/other_user}",
            "gists_url": "https://api.github.com/users/ttnghia/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ttnghia/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ttnghia/subscriptions",
            "organizations_url": "https://api.github.com/users/ttnghia/orgs",
            "repos_url": "https://api.github.com/users/ttnghia/repos",
            "events_url": "https://api.github.com/users/ttnghia/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ttnghia/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-10-25T03:53:38Z",
        "updated_at": "2022-10-25T03:53:38Z",
        "author_association": "CONTRIBUTOR",
        "body": "Note that some/most of the detail APIs used in Java are due to not having their public version to call. In order to fulfill the guideline, we also need to implement the public interface for them.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1289941344/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1291144794",
        "html_url": "https://github.com/rapidsai/cudf/issues/11978#issuecomment-1291144794",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/11978",
        "id": 1291144794,
        "node_id": "IC_kwDOBWUGps5M9U5a",
        "user": {
            "login": "vyasr",
            "id": 1538165,
            "node_id": "MDQ6VXNlcjE1MzgxNjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1538165?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vyasr",
            "html_url": "https://github.com/vyasr",
            "followers_url": "https://api.github.com/users/vyasr/followers",
            "following_url": "https://api.github.com/users/vyasr/following{/other_user}",
            "gists_url": "https://api.github.com/users/vyasr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vyasr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vyasr/subscriptions",
            "organizations_url": "https://api.github.com/users/vyasr/orgs",
            "repos_url": "https://api.github.com/users/vyasr/repos",
            "events_url": "https://api.github.com/users/vyasr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vyasr/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-10-25T21:07:13Z",
        "updated_at": "2022-10-25T21:07:13Z",
        "author_association": "CONTRIBUTOR",
        "body": "Yup I agree, I think there will be cases where we need new public APIs. That indicates a hole in libcudf's API though, not a reason to use the detail APIs externally.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1291144794/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1292132940",
        "html_url": "https://github.com/rapidsai/cudf/issues/11978#issuecomment-1292132940",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/11978",
        "id": 1292132940,
        "node_id": "IC_kwDOBWUGps5NBGJM",
        "user": {
            "login": "jlowe",
            "id": 1360766,
            "node_id": "MDQ6VXNlcjEzNjA3NjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1360766?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jlowe",
            "html_url": "https://github.com/jlowe",
            "followers_url": "https://api.github.com/users/jlowe/followers",
            "following_url": "https://api.github.com/users/jlowe/following{/other_user}",
            "gists_url": "https://api.github.com/users/jlowe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jlowe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jlowe/subscriptions",
            "organizations_url": "https://api.github.com/users/jlowe/orgs",
            "repos_url": "https://api.github.com/users/jlowe/repos",
            "events_url": "https://api.github.com/users/jlowe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jlowe/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-10-26T14:23:57Z",
        "updated_at": "2022-10-26T14:23:57Z",
        "author_association": "MEMBER",
        "body": "Related to the comment about needing public APIs, note there is a growing amount of Spark-specific JNI code leveraging libcudf at https://github.com/NVIDIA/spark-rapids-jni/tree/branch-22.12/src/main/cpp.  There's a number of detail references in that code, including:\r\n```\r\ncudf::detail::bitmask_and\r\ncudf::detail::gather\r\ncudf::detail::make_counting_transform_iterator\r\ncudf::detail::negative_index_policy\r\ncudf::detail::sequence\r\ncudf::detail::single_lane_block_sum_reduce\r\ncudf::detail::size_in_bits\r\ncudf::detail::valid_if\r\ncudf::detail::warp_size\r\ncudf::strings::detail::make_offsets_child_column\r\ncudf::test::detail::column_wrapper\r\ncudf::test::detail::make_null_mask\r\nnumeric::detail::abs\r\n```\r\n\r\nI haven't looked at these in detail (no pun intended).  Some of these may be using the detail interface solely to specify a specific stream to use, and that will be addressed when libcudf exposes streams in the public APIs.  Just wanted to point out another source base that can indicate what might need to be promoted to a public API.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1292132940/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1294067238",
        "html_url": "https://github.com/rapidsai/cudf/issues/11978#issuecomment-1294067238",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/11978",
        "id": 1294067238,
        "node_id": "IC_kwDOBWUGps5NIeYm",
        "user": {
            "login": "vyasr",
            "id": 1538165,
            "node_id": "MDQ6VXNlcjE1MzgxNjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1538165?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vyasr",
            "html_url": "https://github.com/vyasr",
            "followers_url": "https://api.github.com/users/vyasr/followers",
            "following_url": "https://api.github.com/users/vyasr/following{/other_user}",
            "gists_url": "https://api.github.com/users/vyasr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vyasr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vyasr/subscriptions",
            "organizations_url": "https://api.github.com/users/vyasr/orgs",
            "repos_url": "https://api.github.com/users/vyasr/repos",
            "events_url": "https://api.github.com/users/vyasr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vyasr/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-10-27T21:13:01Z",
        "updated_at": "2022-10-27T21:13:01Z",
        "author_association": "CONTRIBUTOR",
        "body": "@jlowe thanks! That definitely looks like a mixed bag: `bitmask_and` is something that we should expose publicly (I know that Python could use it too), `detail::gather` is most likely just being used to pass a stream, `make_counting_transform_iterator` and `warp_size` are conveniences that the JNI probably shouldn't be relying on, etc. Once stream APIs exist we can probably trim out some of these and reassess the rest.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1294067238/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]
[
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1871041745",
        "html_url": "https://github.com/rapidsai/cudf/issues/14674#issuecomment-1871041745",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14674",
        "id": 1871041745,
        "node_id": "IC_kwDOBWUGps5vhdTR",
        "user": {
            "login": "shwina",
            "id": 3190405,
            "node_id": "MDQ6VXNlcjMxOTA0MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3190405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shwina",
            "html_url": "https://github.com/shwina",
            "followers_url": "https://api.github.com/users/shwina/followers",
            "following_url": "https://api.github.com/users/shwina/following{/other_user}",
            "gists_url": "https://api.github.com/users/shwina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shwina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shwina/subscriptions",
            "organizations_url": "https://api.github.com/users/shwina/orgs",
            "repos_url": "https://api.github.com/users/shwina/repos",
            "events_url": "https://api.github.com/users/shwina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shwina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-12-28T10:37:56Z",
        "updated_at": "2023-12-28T10:37:56Z",
        "author_association": "CONTRIBUTOR",
        "body": "Thanks for reporting @paulsbrookes!\r\n\r\nThe `isinstance` checks against `np.ndarray` failing is a significant, but known limitation currently. Ideally, more code would accept \"array-like\" objects rather than do hard instancechecks against `np.ndarray`. This can be done by e.g., checking for the `__array_interface__` attribute, or using `try-except` with a call to `np.asarray`. But, I know a lot of third-party code is not written this way. We hope to have a resolution for this soon.\r\n\r\nThe other `isinstance` check against `BaseOffset` seems a bug. I'll investigate and report back.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1871041745/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1871322086",
        "html_url": "https://github.com/rapidsai/cudf/issues/14674#issuecomment-1871322086",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14674",
        "id": 1871322086,
        "node_id": "IC_kwDOBWUGps5vihvm",
        "user": {
            "login": "paulsbrookes",
            "id": 15247443,
            "node_id": "MDQ6VXNlcjE1MjQ3NDQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/15247443?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/paulsbrookes",
            "html_url": "https://github.com/paulsbrookes",
            "followers_url": "https://api.github.com/users/paulsbrookes/followers",
            "following_url": "https://api.github.com/users/paulsbrookes/following{/other_user}",
            "gists_url": "https://api.github.com/users/paulsbrookes/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/paulsbrookes/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/paulsbrookes/subscriptions",
            "organizations_url": "https://api.github.com/users/paulsbrookes/orgs",
            "repos_url": "https://api.github.com/users/paulsbrookes/repos",
            "events_url": "https://api.github.com/users/paulsbrookes/events{/privacy}",
            "received_events_url": "https://api.github.com/users/paulsbrookes/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-12-28T16:28:49Z",
        "updated_at": "2023-12-28T16:28:49Z",
        "author_association": "NONE",
        "body": "Thanks @shwina!\r\n\r\nOne workaround I've found for dealing with situations where third-party libraries do not know how to deal with a cuDF pandas DataFrame is to recreate the dataframe as follows:\r\n\r\n```\r\nimport cudf.pandas\r\nimport numpy as np\r\ncudf.pandas.install()\r\nimport pandas as pd\r\nfrom cudf.pandas.module_accelerator import disable_module_accelerator\r\n\r\ndf = pd.DataFrame([0, 1, 2])\r\n\r\nwith disable_module_accelerator():\r\n    column_types = {col: dtype for col, dtype in df.dtypes.items()}\r\n    df = pd.DataFrame(df, columns=df.columns, index=df.index)\r\n    df = df.astype(column_types)\r\n\r\nassert isinstance(df.to_numpy(), np.ndarray)\r\n```\r\n\r\nThe code block above passes without an assertion error. If I understand correctly this creates a regular pandas dataframe from the cudf pandas dataframe which can then be used by third party libraries as normal.\r\n\r\n@shwina do you know of any alternatives to this?",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1871322086/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1871367944",
        "html_url": "https://github.com/rapidsai/cudf/issues/14674#issuecomment-1871367944",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14674",
        "id": 1871367944,
        "node_id": "IC_kwDOBWUGps5vis8I",
        "user": {
            "login": "shwina",
            "id": 3190405,
            "node_id": "MDQ6VXNlcjMxOTA0MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3190405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shwina",
            "html_url": "https://github.com/shwina",
            "followers_url": "https://api.github.com/users/shwina/followers",
            "following_url": "https://api.github.com/users/shwina/following{/other_user}",
            "gists_url": "https://api.github.com/users/shwina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shwina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shwina/subscriptions",
            "organizations_url": "https://api.github.com/users/shwina/orgs",
            "repos_url": "https://api.github.com/users/shwina/repos",
            "events_url": "https://api.github.com/users/shwina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shwina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-12-28T17:33:51Z",
        "updated_at": "2023-12-28T17:33:51Z",
        "author_association": "CONTRIBUTOR",
        "body": ">  If I understand correctly this creates a regular pandas dataframe from the cudf pandas dataframe which can then be used by third party libraries as normal.\r\n\r\nCorrect - it also means that third-party libraries won't be able to leverage the GPU in any way.\r\n\r\n> @shwina do you know of any alternatives to this?\r\n\r\nNo - that's right. The `disable_module_accelerator` is how you can temporarily make it so that `pd` is in fact the \"real\" `pandas`. We don't document this just quite yet, and in an ideal world you wouldn't have to use it at all, but it's fine as a workaround for now.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1871367944/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1871368873",
        "html_url": "https://github.com/rapidsai/cudf/issues/14674#issuecomment-1871368873",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14674",
        "id": 1871368873,
        "node_id": "IC_kwDOBWUGps5vitKp",
        "user": {
            "login": "shwina",
            "id": 3190405,
            "node_id": "MDQ6VXNlcjMxOTA0MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3190405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shwina",
            "html_url": "https://github.com/shwina",
            "followers_url": "https://api.github.com/users/shwina/followers",
            "following_url": "https://api.github.com/users/shwina/following{/other_user}",
            "gists_url": "https://api.github.com/users/shwina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shwina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shwina/subscriptions",
            "organizations_url": "https://api.github.com/users/shwina/orgs",
            "repos_url": "https://api.github.com/users/shwina/repos",
            "events_url": "https://api.github.com/users/shwina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shwina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-12-28T17:35:17Z",
        "updated_at": "2023-12-28T17:35:17Z",
        "author_association": "CONTRIBUTOR",
        "body": "I opened https://github.com/rapidsai/cudf/pull/14678, which addresses the first issue you raised (instancechecks against `pd.tseries.offsets.BaseOffset`).",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1871368873/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1871896302",
        "html_url": "https://github.com/rapidsai/cudf/issues/14674#issuecomment-1871896302",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14674",
        "id": 1871896302,
        "node_id": "IC_kwDOBWUGps5vkt7u",
        "user": {
            "login": "paulsbrookes",
            "id": 15247443,
            "node_id": "MDQ6VXNlcjE1MjQ3NDQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/15247443?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/paulsbrookes",
            "html_url": "https://github.com/paulsbrookes",
            "followers_url": "https://api.github.com/users/paulsbrookes/followers",
            "following_url": "https://api.github.com/users/paulsbrookes/following{/other_user}",
            "gists_url": "https://api.github.com/users/paulsbrookes/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/paulsbrookes/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/paulsbrookes/subscriptions",
            "organizations_url": "https://api.github.com/users/paulsbrookes/orgs",
            "repos_url": "https://api.github.com/users/paulsbrookes/repos",
            "events_url": "https://api.github.com/users/paulsbrookes/events{/privacy}",
            "received_events_url": "https://api.github.com/users/paulsbrookes/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-12-29T10:01:57Z",
        "updated_at": "2023-12-29T10:01:57Z",
        "author_association": "NONE",
        "body": "Thanks @shwina!",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1871896302/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]
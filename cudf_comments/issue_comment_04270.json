[
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/592106373",
        "html_url": "https://github.com/rapidsai/cudf/issues/4270#issuecomment-592106373",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4270",
        "id": 592106373,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU5MjEwNjM3Mw==",
        "user": {
            "login": "kkraus14",
            "id": 3665167,
            "node_id": "MDQ6VXNlcjM2NjUxNjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3665167?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kkraus14",
            "html_url": "https://github.com/kkraus14",
            "followers_url": "https://api.github.com/users/kkraus14/followers",
            "following_url": "https://api.github.com/users/kkraus14/following{/other_user}",
            "gists_url": "https://api.github.com/users/kkraus14/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kkraus14/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kkraus14/subscriptions",
            "organizations_url": "https://api.github.com/users/kkraus14/orgs",
            "repos_url": "https://api.github.com/users/kkraus14/repos",
            "events_url": "https://api.github.com/users/kkraus14/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kkraus14/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-02-27T18:24:54Z",
        "updated_at": "2020-02-27T18:29:08Z",
        "author_association": "COLLABORATOR",
        "body": "> @shwina correct me if I'm wrong, but I don't anticipate this should be a problem from the Python/Cython side nor require significant changes?\r\n\r\nWe currently release the buffers from a Column and those control the memory lifetime directly via smart pointers. For creating `column_view` instances, we currently have this function: https://github.com/rapidsai/cudf/blob/branch-0.13/python/cudf/cudf/_libxx/column.pyx#L335-L369\r\n\r\nIt sounds like we'll need to change the `vector[column_view]` to use a `column_view*` which we then no longer know the lifetime of. This is a bit of a pain for us on the Cython side, but we have a couple of options from my perspective:\r\n1) We add an attribute to our `Column` cython class that keeps a reference to a `vector[column_view]` to keep it alive. Note: this doesn't work when children columns can have children unless we recursively add all of the children `column_view` to the vector.\r\n2) We create a `ColumnView` cython class that keeps a reference to a `vector[column_view]` and a corresponding list of `ColumnView` to handle keeping children of children of children of etc. alive.\r\n\r\nNumber 2 is probably the better long term solution but is a bit of annoying work as of now.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/592106373/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/592110105",
        "html_url": "https://github.com/rapidsai/cudf/issues/4270#issuecomment-592110105",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4270",
        "id": 592110105,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU5MjExMDEwNQ==",
        "user": {
            "login": "jrhemstad",
            "id": 15221289,
            "node_id": "MDQ6VXNlcjE1MjIxMjg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/15221289?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jrhemstad",
            "html_url": "https://github.com/jrhemstad",
            "followers_url": "https://api.github.com/users/jrhemstad/followers",
            "following_url": "https://api.github.com/users/jrhemstad/following{/other_user}",
            "gists_url": "https://api.github.com/users/jrhemstad/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jrhemstad/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jrhemstad/subscriptions",
            "organizations_url": "https://api.github.com/users/jrhemstad/orgs",
            "repos_url": "https://api.github.com/users/jrhemstad/repos",
            "events_url": "https://api.github.com/users/jrhemstad/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jrhemstad/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-02-27T18:33:03Z",
        "updated_at": "2020-02-27T18:35:40Z",
        "author_association": "CONTRIBUTOR",
        "body": "You'd just need to make [this `vector`](https://github.com/rapidsai/cudf/blob/branch-0.13/python/cudf/cudf/_libxx/column.pyx#L344) stay alive for the lifetime of the Python column object.\r\n\r\nInstead of creating a `column_view` on the fly for a Python column every time you need to pass into libcudf, why not just construct and store the `column_view` once? I think this is what you're suggesting in 2. ",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/592110105/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/592112476",
        "html_url": "https://github.com/rapidsai/cudf/issues/4270#issuecomment-592112476",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4270",
        "id": 592112476,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU5MjExMjQ3Ng==",
        "user": {
            "login": "kkraus14",
            "id": 3665167,
            "node_id": "MDQ6VXNlcjM2NjUxNjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3665167?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kkraus14",
            "html_url": "https://github.com/kkraus14",
            "followers_url": "https://api.github.com/users/kkraus14/followers",
            "following_url": "https://api.github.com/users/kkraus14/following{/other_user}",
            "gists_url": "https://api.github.com/users/kkraus14/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kkraus14/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kkraus14/subscriptions",
            "organizations_url": "https://api.github.com/users/kkraus14/orgs",
            "repos_url": "https://api.github.com/users/kkraus14/repos",
            "events_url": "https://api.github.com/users/kkraus14/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kkraus14/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-02-27T18:38:27Z",
        "updated_at": "2020-02-27T18:38:27Z",
        "author_association": "COLLABORATOR",
        "body": "> You'd just need to make [this `vector`](https://github.com/rapidsai/cudf/blob/branch-0.13/python/cudf/cudf/_libxx/column.pyx#L344) stay alive for the lifetime of the Python column object.\r\n\r\nWhat about the `column_view` children of those `column_view`? Nothing would be controlling their lifetime since they'd now be `column_view*`.\r\n\r\n> Instead of creating a column_view on the fly for a Python column every time you need to pass into libcudf, why not just construct and store the column_view once? I think this is what you're suggesting in #2.\r\n\r\nWe'd then need to somehow invalidate that `column_view` whenever we do something potentially mutable, which in the currently state of using legacy things as well is still somewhat all over the place. My initial thought is to basically replace where we call `.view()` currently with something like `view().column_view()` where `.view()` returns a `ColumnView` and `.column_view()` returns the C++ `column_view`, but this can lead to situations where we accidentally create an ephemeral instance of `ColumnView` and then end up with a dangling pointer in the `column_view`.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/592112476/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/592115779",
        "html_url": "https://github.com/rapidsai/cudf/issues/4270#issuecomment-592115779",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4270",
        "id": 592115779,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU5MjExNTc3OQ==",
        "user": {
            "login": "jrhemstad",
            "id": 15221289,
            "node_id": "MDQ6VXNlcjE1MjIxMjg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/15221289?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jrhemstad",
            "html_url": "https://github.com/jrhemstad",
            "followers_url": "https://api.github.com/users/jrhemstad/followers",
            "following_url": "https://api.github.com/users/jrhemstad/following{/other_user}",
            "gists_url": "https://api.github.com/users/jrhemstad/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jrhemstad/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jrhemstad/subscriptions",
            "organizations_url": "https://api.github.com/users/jrhemstad/orgs",
            "repos_url": "https://api.github.com/users/jrhemstad/repos",
            "events_url": "https://api.github.com/users/jrhemstad/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jrhemstad/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-02-27T18:45:43Z",
        "updated_at": "2020-02-27T18:45:43Z",
        "author_association": "CONTRIBUTOR",
        "body": "Understood that it will require a bit of work.\r\n\r\nIt sounds like the pros still outweigh the cons. Eliminating this pervasive compiler error will be a huge win. So unless it's totally impossible to make this change without significant effort, it still seems like something we should do.\r\n\r\nAnd to be clear, this wouldn't be tackled until post-GTC, 0.14 timeframe. ",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/592115779/reactions",
            "total_count": 2,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/593712747",
        "html_url": "https://github.com/rapidsai/cudf/issues/4270#issuecomment-593712747",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4270",
        "id": 593712747,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU5MzcxMjc0Nw==",
        "user": {
            "login": "harrism",
            "id": 783069,
            "node_id": "MDQ6VXNlcjc4MzA2OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/783069?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/harrism",
            "html_url": "https://github.com/harrism",
            "followers_url": "https://api.github.com/users/harrism/followers",
            "following_url": "https://api.github.com/users/harrism/following{/other_user}",
            "gists_url": "https://api.github.com/users/harrism/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/harrism/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/harrism/subscriptions",
            "organizations_url": "https://api.github.com/users/harrism/orgs",
            "repos_url": "https://api.github.com/users/harrism/repos",
            "events_url": "https://api.github.com/users/harrism/events{/privacy}",
            "received_events_url": "https://api.github.com/users/harrism/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-03-03T01:05:50Z",
        "updated_at": "2020-03-03T01:05:50Z",
        "author_association": "MEMBER",
        "body": "I think this is a nice bit if tech debt to tackle in 0.14.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/593712747/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/623800578",
        "html_url": "https://github.com/rapidsai/cudf/issues/4270#issuecomment-623800578",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4270",
        "id": 623800578,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzgwMDU3OA==",
        "user": {
            "login": "harrism",
            "id": 783069,
            "node_id": "MDQ6VXNlcjc4MzA2OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/783069?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/harrism",
            "html_url": "https://github.com/harrism",
            "followers_url": "https://api.github.com/users/harrism/followers",
            "following_url": "https://api.github.com/users/harrism/following{/other_user}",
            "gists_url": "https://api.github.com/users/harrism/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/harrism/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/harrism/subscriptions",
            "organizations_url": "https://api.github.com/users/harrism/orgs",
            "repos_url": "https://api.github.com/users/harrism/repos",
            "events_url": "https://api.github.com/users/harrism/events{/privacy}",
            "received_events_url": "https://api.github.com/users/harrism/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-05T02:18:17Z",
        "updated_at": "2020-05-05T02:18:17Z",
        "author_association": "MEMBER",
        "body": "@jrhemstad can you document here what you ran up against that lead to reprioritizing this?",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/623800578/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/798962734",
        "html_url": "https://github.com/rapidsai/cudf/issues/4270#issuecomment-798962734",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4270",
        "id": 798962734,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5ODk2MjczNA==",
        "user": {
            "login": "github-actions[bot]",
            "id": 41898282,
            "node_id": "MDM6Qm90NDE4OTgyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions%5Bbot%5D",
            "html_url": "https://github.com/apps/github-actions",
            "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2021-03-14T19:14:17Z",
        "updated_at": "2021-03-14T19:14:17Z",
        "author_association": "NONE",
        "body": "This issue has been labeled `inactive-90d` due to no recent activity in the past 90 days. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/798962734/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/798962744",
        "html_url": "https://github.com/rapidsai/cudf/issues/4270#issuecomment-798962744",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4270",
        "id": 798962744,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5ODk2Mjc0NA==",
        "user": {
            "login": "github-actions[bot]",
            "id": 41898282,
            "node_id": "MDM6Qm90NDE4OTgyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions%5Bbot%5D",
            "html_url": "https://github.com/apps/github-actions",
            "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2021-03-14T19:14:20Z",
        "updated_at": "2021-03-14T19:14:20Z",
        "author_association": "NONE",
        "body": "This issue has been labeled `inactive-30d` due to no recent activity in the past 30 days. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed. This issue will be labeled `inactive-90d` if there is no activity in the next 60 days.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/798962744/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/799870899",
        "html_url": "https://github.com/rapidsai/cudf/issues/4270#issuecomment-799870899",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4270",
        "id": 799870899,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5OTg3MDg5OQ==",
        "user": {
            "login": "harrism",
            "id": 783069,
            "node_id": "MDQ6VXNlcjc4MzA2OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/783069?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/harrism",
            "html_url": "https://github.com/harrism",
            "followers_url": "https://api.github.com/users/harrism/followers",
            "following_url": "https://api.github.com/users/harrism/following{/other_user}",
            "gists_url": "https://api.github.com/users/harrism/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/harrism/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/harrism/subscriptions",
            "organizations_url": "https://api.github.com/users/harrism/orgs",
            "repos_url": "https://api.github.com/users/harrism/repos",
            "events_url": "https://api.github.com/users/harrism/events{/privacy}",
            "received_events_url": "https://api.github.com/users/harrism/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-16T01:19:59Z",
        "updated_at": "2021-03-16T01:19:59Z",
        "author_association": "MEMBER",
        "body": "This is still relevant. @jrhemstad instead of storing a pointer and size, I guess `column_view` could just store a `host_span<column_view>`?",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/799870899/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/799880057",
        "html_url": "https://github.com/rapidsai/cudf/issues/4270#issuecomment-799880057",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4270",
        "id": 799880057,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5OTg4MDA1Nw==",
        "user": {
            "login": "jrhemstad",
            "id": 15221289,
            "node_id": "MDQ6VXNlcjE1MjIxMjg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/15221289?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jrhemstad",
            "html_url": "https://github.com/jrhemstad",
            "followers_url": "https://api.github.com/users/jrhemstad/followers",
            "following_url": "https://api.github.com/users/jrhemstad/following{/other_user}",
            "gists_url": "https://api.github.com/users/jrhemstad/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jrhemstad/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jrhemstad/subscriptions",
            "organizations_url": "https://api.github.com/users/jrhemstad/orgs",
            "repos_url": "https://api.github.com/users/jrhemstad/repos",
            "events_url": "https://api.github.com/users/jrhemstad/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jrhemstad/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-16T01:46:09Z",
        "updated_at": "2021-03-16T01:46:27Z",
        "author_association": "CONTRIBUTOR",
        "body": "> This is still relevant. @jrhemstad instead of storing a pointer and size, I guess `column_view` could just store a `host_span<column_view>`?\r\n\r\nIt could, yeah. I remember I went down the path of making this change (not the `host_span` specifically) and running into what felt like a showstopper. I can't remember what it was right now. I'd have to revisit and think about it. ",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/799880057/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]
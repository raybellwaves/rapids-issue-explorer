[
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1494765258",
        "html_url": "https://github.com/rapidsai/cudf/issues/13048#issuecomment-1494765258",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/13048",
        "id": 1494765258,
        "node_id": "IC_kwDOBWUGps5ZGE7K",
        "user": {
            "login": "bdice",
            "id": 3943761,
            "node_id": "MDQ6VXNlcjM5NDM3NjE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3943761?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bdice",
            "html_url": "https://github.com/bdice",
            "followers_url": "https://api.github.com/users/bdice/followers",
            "following_url": "https://api.github.com/users/bdice/following{/other_user}",
            "gists_url": "https://api.github.com/users/bdice/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bdice/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bdice/subscriptions",
            "organizations_url": "https://api.github.com/users/bdice/orgs",
            "repos_url": "https://api.github.com/users/bdice/repos",
            "events_url": "https://api.github.com/users/bdice/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bdice/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-03T18:13:04Z",
        "updated_at": "2023-04-03T18:14:02Z",
        "author_association": "CONTRIBUTOR",
        "body": "This is a great use of a \"Story\" issue for documenting this work. I have some very high level comments / ideas:\r\n\r\n- Some of these algorithms might benefit from using [Cooperative Groups](https://developer.nvidia.com/blog/cooperative-groups/) and/or studying implementations of related algorithms in CUB.\r\n- For some of these cases, I suspect that \"prefix strings\" as described in the [Velox paper](https://vldb.org/pvldb/vol15/p3372-pedreira.pdf) could be useful. That would use a (non-Arrow) layout with a fixed-width prefix that could be computed as a temporary column used to quickly eliminate possible matches. Filtering and ordering are specifically called out in that paper.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1494765258/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1507872992",
        "html_url": "https://github.com/rapidsai/cudf/issues/13048#issuecomment-1507872992",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/13048",
        "id": 1507872992,
        "node_id": "IC_kwDOBWUGps5Z4FDg",
        "user": {
            "login": "GregoryKimball",
            "id": 12725111,
            "node_id": "MDQ6VXNlcjEyNzI1MTEx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12725111?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GregoryKimball",
            "html_url": "https://github.com/GregoryKimball",
            "followers_url": "https://api.github.com/users/GregoryKimball/followers",
            "following_url": "https://api.github.com/users/GregoryKimball/following{/other_user}",
            "gists_url": "https://api.github.com/users/GregoryKimball/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GregoryKimball/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GregoryKimball/subscriptions",
            "organizations_url": "https://api.github.com/users/GregoryKimball/orgs",
            "repos_url": "https://api.github.com/users/GregoryKimball/repos",
            "events_url": "https://api.github.com/users/GregoryKimball/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GregoryKimball/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-04-14T03:18:53Z",
        "updated_at": "2023-04-14T03:18:53Z",
        "author_association": "CONTRIBUTOR",
        "body": "After studying the results of the strings microbenchmarks in libcudf, I'd like to share some results and early thoughts on the performance we should target with long strings. \r\n\r\nFirst, here is data throughput versus data size for the `split_record` API. It shows about 15-35 GB/s throughput at the ~100 MB data size for string lengths between 32 and 8192 bytes.\r\n<img width=\"899\" alt=\"image\" src=\"https://user-images.githubusercontent.com/12725111/231931798-1fef4e13-00f0-43ad-8963-904df29e73c7.png\">\r\n\r\nNext, here is the same plot for `filter_characters_of_type`. It shows 20 GB/s throughput for ~100 MB data size and strings lengths <100 bytes. For longer strings the throughput falls to the 1-6 GB/s range.\r\n<img width=\"906\" alt=\"image\" src=\"https://user-images.githubusercontent.com/12725111/231932289-9f85f3cd-8c89-42ea-a7e9-88368da538d5.png\">\r\n\r\nSo perhaps we should target data throughputs for long strings to be better than 80% of data throughput for short strings.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1507872992/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1692268017",
        "html_url": "https://github.com/rapidsai/cudf/issues/13048#issuecomment-1692268017",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/13048",
        "id": 1692268017,
        "node_id": "IC_kwDOBWUGps5k3fXx",
        "user": {
            "login": "GregoryKimball",
            "id": 12725111,
            "node_id": "MDQ6VXNlcjEyNzI1MTEx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12725111?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GregoryKimball",
            "html_url": "https://github.com/GregoryKimball",
            "followers_url": "https://api.github.com/users/GregoryKimball/followers",
            "following_url": "https://api.github.com/users/GregoryKimball/following{/other_user}",
            "gists_url": "https://api.github.com/users/GregoryKimball/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GregoryKimball/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GregoryKimball/subscriptions",
            "organizations_url": "https://api.github.com/users/GregoryKimball/orgs",
            "repos_url": "https://api.github.com/users/GregoryKimball/repos",
            "events_url": "https://api.github.com/users/GregoryKimball/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GregoryKimball/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-08-24T19:12:38Z",
        "updated_at": "2023-08-24T19:12:38Z",
        "author_association": "CONTRIBUTOR",
        "body": "Hello @davidwendt, I was discussing this issue with @elstehle. Do you think the \"combining\" or \"copying\" strings algorithms could benefit from [DeviceBatchMemcpy](https://github.com/NVIDIA/cub/pull/359)?",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1692268017/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1697875214",
        "html_url": "https://github.com/rapidsai/cudf/issues/13048#issuecomment-1697875214",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/13048",
        "id": 1697875214,
        "node_id": "IC_kwDOBWUGps5lM4UO",
        "user": {
            "login": "davidwendt",
            "id": 45795991,
            "node_id": "MDQ6VXNlcjQ1Nzk1OTkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/45795991?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/davidwendt",
            "html_url": "https://github.com/davidwendt",
            "followers_url": "https://api.github.com/users/davidwendt/followers",
            "following_url": "https://api.github.com/users/davidwendt/following{/other_user}",
            "gists_url": "https://api.github.com/users/davidwendt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/davidwendt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/davidwendt/subscriptions",
            "organizations_url": "https://api.github.com/users/davidwendt/orgs",
            "repos_url": "https://api.github.com/users/davidwendt/repos",
            "events_url": "https://api.github.com/users/davidwendt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/davidwendt/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-08-29T17:39:50Z",
        "updated_at": "2023-08-29T17:39:50Z",
        "author_association": "CONTRIBUTOR",
        "body": "> Hello @davidwendt, I was discussing this issue with @elstehle. Do you think the \"combining\" or \"copying\" strings algorithms could benefit from [DeviceBatchMemcpy](https://github.com/NVIDIA/cub/pull/359)?\r\n\r\nThere are several parts of the strings (and nvtext) API implementations that basically resolve into a fragmented set of (pointer,size) pairs which are passed to a factory that performs an optimized gather function to build a contiguous byte array for an output strings column. So a significant impact here may be to improve that gather function by taking advantage of `DeviceBatchMemcpy` perhaps.\r\n\r\nThe factory function that uses the gather is illustrated in my blog post which use the custom kernel here: https://github.com/rapidsai/cudf/blob/cd56cc2b4cc47a1d0c63e56fac945a66905c28df/cpp/examples/strings/custom_prealloc.cu#L118\r\n\r\nI'll locate other places that libcudf uses this factory function that also include benchmarks.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1697875214/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/2030317551",
        "html_url": "https://github.com/rapidsai/cudf/issues/13048#issuecomment-2030317551",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/13048",
        "id": 2030317551,
        "node_id": "IC_kwDOBWUGps55BC_v",
        "user": {
            "login": "GregoryKimball",
            "id": 12725111,
            "node_id": "MDQ6VXNlcjEyNzI1MTEx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12725111?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GregoryKimball",
            "html_url": "https://github.com/GregoryKimball",
            "followers_url": "https://api.github.com/users/GregoryKimball/followers",
            "following_url": "https://api.github.com/users/GregoryKimball/following{/other_user}",
            "gists_url": "https://api.github.com/users/GregoryKimball/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GregoryKimball/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GregoryKimball/subscriptions",
            "organizations_url": "https://api.github.com/users/GregoryKimball/orgs",
            "repos_url": "https://api.github.com/users/GregoryKimball/repos",
            "events_url": "https://api.github.com/users/GregoryKimball/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GregoryKimball/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2024-04-01T18:33:59Z",
        "updated_at": "2024-04-01T18:33:59Z",
        "author_association": "CONTRIBUTOR",
        "body": "Spark-RAPIDS identified long strings performance issues in `find` (#15405) as well as `upper`/`lower` (#15406)",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/2030317551/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]
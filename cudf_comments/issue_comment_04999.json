[
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/618471297",
        "html_url": "https://github.com/rapidsai/cudf/issues/4999#issuecomment-618471297",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4999",
        "id": 618471297,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYxODQ3MTI5Nw==",
        "user": {
            "login": "kkraus14",
            "id": 3665167,
            "node_id": "MDQ6VXNlcjM2NjUxNjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3665167?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kkraus14",
            "html_url": "https://github.com/kkraus14",
            "followers_url": "https://api.github.com/users/kkraus14/followers",
            "following_url": "https://api.github.com/users/kkraus14/following{/other_user}",
            "gists_url": "https://api.github.com/users/kkraus14/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kkraus14/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kkraus14/subscriptions",
            "organizations_url": "https://api.github.com/users/kkraus14/orgs",
            "repos_url": "https://api.github.com/users/kkraus14/repos",
            "events_url": "https://api.github.com/users/kkraus14/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kkraus14/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-04-23T15:38:48Z",
        "updated_at": "2020-04-23T15:38:48Z",
        "author_association": "COLLABORATOR",
        "body": "cc @vuule @OlivierNV \r\n\r\nWe shouldn't consider this until we refactor the CSV reader based on #1229",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/618471297/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/632639152",
        "html_url": "https://github.com/rapidsai/cudf/issues/4999#issuecomment-632639152",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4999",
        "id": 632639152,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzMjYzOTE1Mg==",
        "user": {
            "login": "miguelusque",
            "id": 26169771,
            "node_id": "MDQ6VXNlcjI2MTY5Nzcx",
            "avatar_url": "https://avatars.githubusercontent.com/u/26169771?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/miguelusque",
            "html_url": "https://github.com/miguelusque",
            "followers_url": "https://api.github.com/users/miguelusque/followers",
            "following_url": "https://api.github.com/users/miguelusque/following{/other_user}",
            "gists_url": "https://api.github.com/users/miguelusque/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/miguelusque/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/miguelusque/subscriptions",
            "organizations_url": "https://api.github.com/users/miguelusque/orgs",
            "repos_url": "https://api.github.com/users/miguelusque/repos",
            "events_url": "https://api.github.com/users/miguelusque/events{/privacy}",
            "received_events_url": "https://api.github.com/users/miguelusque/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-22T11:17:12Z",
        "updated_at": "2020-05-22T11:17:12Z",
        "author_association": "MEMBER",
        "body": "Hi all,\r\n\r\nI was wondering if there is any progress on this feature request.\r\n\r\nThanks!\r\n\r\nMiguel",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/632639152/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/632957137",
        "html_url": "https://github.com/rapidsai/cudf/issues/4999#issuecomment-632957137",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4999",
        "id": 632957137,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzMjk1NzEzNw==",
        "user": {
            "login": "vuule",
            "id": 16005690,
            "node_id": "MDQ6VXNlcjE2MDA1Njkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/16005690?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vuule",
            "html_url": "https://github.com/vuule",
            "followers_url": "https://api.github.com/users/vuule/followers",
            "following_url": "https://api.github.com/users/vuule/following{/other_user}",
            "gists_url": "https://api.github.com/users/vuule/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vuule/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vuule/subscriptions",
            "organizations_url": "https://api.github.com/users/vuule/orgs",
            "repos_url": "https://api.github.com/users/vuule/repos",
            "events_url": "https://api.github.com/users/vuule/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vuule/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-23T00:46:32Z",
        "updated_at": "2020-05-23T00:46:32Z",
        "author_association": "CONTRIBUTOR",
        "body": "Hi Miguel, the team is still wrapping up the prioritized issues for the 0.14 release. ",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/632957137/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/717778636",
        "html_url": "https://github.com/rapidsai/cudf/issues/4999#issuecomment-717778636",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4999",
        "id": 717778636,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzc3ODYzNg==",
        "user": {
            "login": "miguelusque",
            "id": 26169771,
            "node_id": "MDQ6VXNlcjI2MTY5Nzcx",
            "avatar_url": "https://avatars.githubusercontent.com/u/26169771?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/miguelusque",
            "html_url": "https://github.com/miguelusque",
            "followers_url": "https://api.github.com/users/miguelusque/followers",
            "following_url": "https://api.github.com/users/miguelusque/following{/other_user}",
            "gists_url": "https://api.github.com/users/miguelusque/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/miguelusque/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/miguelusque/subscriptions",
            "organizations_url": "https://api.github.com/users/miguelusque/orgs",
            "repos_url": "https://api.github.com/users/miguelusque/repos",
            "events_url": "https://api.github.com/users/miguelusque/events{/privacy}",
            "received_events_url": "https://api.github.com/users/miguelusque/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-10-28T08:28:18Z",
        "updated_at": "2020-10-28T08:28:18Z",
        "author_association": "MEMBER",
        "body": "Hi!\r\n\r\nI was wondering if you could please have a look at the feature request above.\r\n\r\nThanks!\r\n\r\nMiguel ",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/717778636/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/717981699",
        "html_url": "https://github.com/rapidsai/cudf/issues/4999#issuecomment-717981699",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4999",
        "id": 717981699,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzk4MTY5OQ==",
        "user": {
            "login": "kkraus14",
            "id": 3665167,
            "node_id": "MDQ6VXNlcjM2NjUxNjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3665167?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kkraus14",
            "html_url": "https://github.com/kkraus14",
            "followers_url": "https://api.github.com/users/kkraus14/followers",
            "following_url": "https://api.github.com/users/kkraus14/following{/other_user}",
            "gists_url": "https://api.github.com/users/kkraus14/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kkraus14/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kkraus14/subscriptions",
            "organizations_url": "https://api.github.com/users/kkraus14/orgs",
            "repos_url": "https://api.github.com/users/kkraus14/repos",
            "events_url": "https://api.github.com/users/kkraus14/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kkraus14/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-10-28T14:45:04Z",
        "updated_at": "2020-10-28T14:45:04Z",
        "author_association": "COLLABORATOR",
        "body": "> Hi!\r\n> \r\n> I was wondering if you could please have a look at the feature request above.\r\n> \r\n> Thanks!\r\n> \r\n> Miguel\r\n\r\ncuIO is going through a large refactoring to make supporting requests like these easier moving forward. We'll re-evaluate this request once the refactoring is completed.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/717981699/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/798962582",
        "html_url": "https://github.com/rapidsai/cudf/issues/4999#issuecomment-798962582",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4999",
        "id": 798962582,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5ODk2MjU4Mg==",
        "user": {
            "login": "github-actions[bot]",
            "id": 41898282,
            "node_id": "MDM6Qm90NDE4OTgyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions%5Bbot%5D",
            "html_url": "https://github.com/apps/github-actions",
            "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2021-03-14T19:13:40Z",
        "updated_at": "2021-03-14T19:13:40Z",
        "author_association": "NONE",
        "body": "This issue has been labeled `inactive-90d` due to no recent activity in the past 90 days. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/798962582/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/799636549",
        "html_url": "https://github.com/rapidsai/cudf/issues/4999#issuecomment-799636549",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4999",
        "id": 799636549,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc5OTYzNjU0OQ==",
        "user": {
            "login": "miguelusque",
            "id": 26169771,
            "node_id": "MDQ6VXNlcjI2MTY5Nzcx",
            "avatar_url": "https://avatars.githubusercontent.com/u/26169771?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/miguelusque",
            "html_url": "https://github.com/miguelusque",
            "followers_url": "https://api.github.com/users/miguelusque/followers",
            "following_url": "https://api.github.com/users/miguelusque/following{/other_user}",
            "gists_url": "https://api.github.com/users/miguelusque/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/miguelusque/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/miguelusque/subscriptions",
            "organizations_url": "https://api.github.com/users/miguelusque/orgs",
            "repos_url": "https://api.github.com/users/miguelusque/repos",
            "events_url": "https://api.github.com/users/miguelusque/events{/privacy}",
            "received_events_url": "https://api.github.com/users/miguelusque/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-15T18:11:32Z",
        "updated_at": "2021-03-15T18:11:32Z",
        "author_association": "MEMBER",
        "body": "I think this feature request is still relevant.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/799636549/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1171750880",
        "html_url": "https://github.com/rapidsai/cudf/issues/4999#issuecomment-1171750880",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4999",
        "id": 1171750880,
        "node_id": "IC_kwDOBWUGps5F13_g",
        "user": {
            "login": "GregoryKimball",
            "id": 12725111,
            "node_id": "MDQ6VXNlcjEyNzI1MTEx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12725111?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GregoryKimball",
            "html_url": "https://github.com/GregoryKimball",
            "followers_url": "https://api.github.com/users/GregoryKimball/followers",
            "following_url": "https://api.github.com/users/GregoryKimball/following{/other_user}",
            "gists_url": "https://api.github.com/users/GregoryKimball/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GregoryKimball/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GregoryKimball/subscriptions",
            "organizations_url": "https://api.github.com/users/GregoryKimball/orgs",
            "repos_url": "https://api.github.com/users/GregoryKimball/repos",
            "events_url": "https://api.github.com/users/GregoryKimball/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GregoryKimball/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-06-30T22:55:12Z",
        "updated_at": "2022-06-30T22:55:12Z",
        "author_association": "CONTRIBUTOR",
        "body": "Thank you @miguelusque for raising this idea. With byte-range support available for `read_csv`, we don't plan on implementing chunked CSV reading. ",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1171750880/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1171765683",
        "html_url": "https://github.com/rapidsai/cudf/issues/4999#issuecomment-1171765683",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4999",
        "id": 1171765683,
        "node_id": "IC_kwDOBWUGps5F17mz",
        "user": {
            "login": "GregoryKimball",
            "id": 12725111,
            "node_id": "MDQ6VXNlcjEyNzI1MTEx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12725111?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GregoryKimball",
            "html_url": "https://github.com/GregoryKimball",
            "followers_url": "https://api.github.com/users/GregoryKimball/followers",
            "following_url": "https://api.github.com/users/GregoryKimball/following{/other_user}",
            "gists_url": "https://api.github.com/users/GregoryKimball/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GregoryKimball/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GregoryKimball/subscriptions",
            "organizations_url": "https://api.github.com/users/GregoryKimball/orgs",
            "repos_url": "https://api.github.com/users/GregoryKimball/repos",
            "events_url": "https://api.github.com/users/GregoryKimball/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GregoryKimball/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-06-30T23:21:38Z",
        "updated_at": "2022-06-30T23:21:38Z",
        "author_association": "CONTRIBUTOR",
        "body": "Re-opening this after a discussion with @miguelusque. We could implement CSV chunked reading at the cuDF-python layer or the libcudf layer to achieve the desired outcome. ",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1171765683/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1337596658",
        "html_url": "https://github.com/rapidsai/cudf/issues/4999#issuecomment-1337596658",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4999",
        "id": 1337596658,
        "node_id": "IC_kwDOBWUGps5Puhry",
        "user": {
            "login": "shwina",
            "id": 3190405,
            "node_id": "MDQ6VXNlcjMxOTA0MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3190405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shwina",
            "html_url": "https://github.com/shwina",
            "followers_url": "https://api.github.com/users/shwina/followers",
            "following_url": "https://api.github.com/users/shwina/following{/other_user}",
            "gists_url": "https://api.github.com/users/shwina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shwina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shwina/subscriptions",
            "organizations_url": "https://api.github.com/users/shwina/orgs",
            "repos_url": "https://api.github.com/users/shwina/repos",
            "events_url": "https://api.github.com/users/shwina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shwina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-12-05T15:42:32Z",
        "updated_at": "2022-12-05T15:42:32Z",
        "author_association": "CONTRIBUTOR",
        "body": "@vuule, @GregoryKimball - it looks like chunking is implemented for `write_csv` at the `libcudf` level, but not `read_csv`. \r\n\r\n> We could implement CSV chunked reading at the cuDF-python layer\r\n\r\nWould this be accomplished via a combination of `skip_rows` and `nrows` to read the chunks, and `concat` to combine them? \r\n\r\nThat sounds doable, but I wanted to double check whether using `skip_rows` would actually result in lower (**peak**) memory usage than reading the entire `.csv`? ",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1337596658/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1337727698",
        "html_url": "https://github.com/rapidsai/cudf/issues/4999#issuecomment-1337727698",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4999",
        "id": 1337727698,
        "node_id": "IC_kwDOBWUGps5PvBrS",
        "user": {
            "login": "shwina",
            "id": 3190405,
            "node_id": "MDQ6VXNlcjMxOTA0MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3190405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shwina",
            "html_url": "https://github.com/shwina",
            "followers_url": "https://api.github.com/users/shwina/followers",
            "following_url": "https://api.github.com/users/shwina/following{/other_user}",
            "gists_url": "https://api.github.com/users/shwina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shwina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shwina/subscriptions",
            "organizations_url": "https://api.github.com/users/shwina/orgs",
            "repos_url": "https://api.github.com/users/shwina/repos",
            "events_url": "https://api.github.com/users/shwina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shwina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-12-05T16:56:34Z",
        "updated_at": "2022-12-05T16:57:28Z",
        "author_association": "CONTRIBUTOR",
        "body": "> whether using skip_rows would actually result in lower (peak) memory usage than reading the entire .csv?\r\n\r\nEmperically, the answer is yes (using `byte_range` as suggested by @miguelusque as opposed to `skip_rows`):\r\n\r\n```python\r\nimport cudf\r\nfrom dask.utils import format_bytes, parse_bytes\r\nimport rmm\r\n\r\nfrom contextlib import contextmanager\r\n\r\n\r\ndef make_csv():\r\n    data = cudf.datasets.randomdata(10_000_000, dtypes={'a': str, 'b': str, 'c': str, 'd': str})\r\n    data.to_csv(\"test.csv\", index=False)\r\n\r\n@contextmanager\r\ndef peak_memory(*args, **kwargs):\r\n    old_mr = rmm.mr.get_current_device_resource()\r\n    mr = rmm.mr.StatisticsResourceAdaptor(old_mr)    \r\n    rmm.mr.set_current_device_resource(mr)\r\n    initial_peak_mem = mr.allocation_counts[\"peak_bytes\"]\r\n    try:\r\n        yield\r\n    finally:\r\n        final_peak_mem = mr.allocation_counts[\"peak_bytes\"]\r\n        print(format_bytes(final_peak_mem - initial_peak_mem))\r\n        rmm.mr.set_current_device_resource(old_mr)\r\n\r\ndef chunked_csv_reader(fname, chunksize, *args, **kwargs):\r\n    chunksize = parse_bytes(chunksize)\r\n    chunks = []\r\n    offset = 0\r\n    while True:\r\n        try:\r\n            chunk = cudf.read_csv(\"test.csv\", byte_range=[offset, chunksize], header=None, *args, **kwargs)\r\n        except RuntimeError as e:\r\n            if \"Offset is past end of file\" in str(e):\r\n                break\r\n        chunks.append(chunk) \r\n        offset += chunksize\r\n    return cudf.concat(chunks, ignore_index=True)\r\n\r\nif __name__ == \"__main__\":\r\n    make_csv()\r\n\r\n    with peak_memory():\r\n        cudf.read_csv(\"test.csv\", index_col=False)\r\n\r\n    with peak_memory():\r\n        chunked_csv_reader(\"test.csv\", \"100 MiB\", dtype=[str, str, str, str], index_col=False)\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n1.35 GiB\r\n716.98 MiB\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1337727698/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1341587120",
        "html_url": "https://github.com/rapidsai/cudf/issues/4999#issuecomment-1341587120",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4999",
        "id": 1341587120,
        "node_id": "IC_kwDOBWUGps5P9v6w",
        "user": {
            "login": "vuule",
            "id": 16005690,
            "node_id": "MDQ6VXNlcjE2MDA1Njkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/16005690?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vuule",
            "html_url": "https://github.com/vuule",
            "followers_url": "https://api.github.com/users/vuule/followers",
            "following_url": "https://api.github.com/users/vuule/following{/other_user}",
            "gists_url": "https://api.github.com/users/vuule/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vuule/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vuule/subscriptions",
            "organizations_url": "https://api.github.com/users/vuule/orgs",
            "repos_url": "https://api.github.com/users/vuule/repos",
            "events_url": "https://api.github.com/users/vuule/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vuule/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-12-07T20:57:37Z",
        "updated_at": "2022-12-07T20:57:37Z",
        "author_association": "CONTRIBUTOR",
        "body": "Great demonstration of how `byte_range` helps here!\r\n`skip_rows` should also reduce the peak memory use, but it would be slower than `byte_range`. On the other hand, `byte_range` is not 100% reliable, see https://github.com/rapidsai/cudf/issues/7602.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1341587120/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1341588428",
        "html_url": "https://github.com/rapidsai/cudf/issues/4999#issuecomment-1341588428",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/4999",
        "id": 1341588428,
        "node_id": "IC_kwDOBWUGps5P9wPM",
        "user": {
            "login": "vuule",
            "id": 16005690,
            "node_id": "MDQ6VXNlcjE2MDA1Njkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/16005690?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vuule",
            "html_url": "https://github.com/vuule",
            "followers_url": "https://api.github.com/users/vuule/followers",
            "following_url": "https://api.github.com/users/vuule/following{/other_user}",
            "gists_url": "https://api.github.com/users/vuule/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vuule/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vuule/subscriptions",
            "organizations_url": "https://api.github.com/users/vuule/orgs",
            "repos_url": "https://api.github.com/users/vuule/repos",
            "events_url": "https://api.github.com/users/vuule/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vuule/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-12-07T20:58:53Z",
        "updated_at": "2022-12-07T20:58:53Z",
        "author_association": "CONTRIBUTOR",
        "body": "related https://github.com/rapidsai/cudf/issues/10554",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1341588428/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]
[
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1723193916",
        "html_url": "https://github.com/rapidsai/cudf/issues/14117#issuecomment-1723193916",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14117",
        "id": 1723193916,
        "node_id": "IC_kwDOBWUGps5mtdo8",
        "user": {
            "login": "wence-",
            "id": 1126981,
            "node_id": "MDQ6VXNlcjExMjY5ODE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1126981?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wence-",
            "html_url": "https://github.com/wence-",
            "followers_url": "https://api.github.com/users/wence-/followers",
            "following_url": "https://api.github.com/users/wence-/following{/other_user}",
            "gists_url": "https://api.github.com/users/wence-/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wence-/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wence-/subscriptions",
            "organizations_url": "https://api.github.com/users/wence-/orgs",
            "repos_url": "https://api.github.com/users/wence-/repos",
            "events_url": "https://api.github.com/users/wence-/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wence-/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-09-18T11:09:13Z",
        "updated_at": "2023-09-18T11:09:13Z",
        "author_association": "CONTRIBUTOR",
        "body": "> `with tf.device(\"/GPU:1\"):`\r\n\r\nDoes this leave device-1 as the currently active context?",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1723193916/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1723200803",
        "html_url": "https://github.com/rapidsai/cudf/issues/14117#issuecomment-1723200803",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14117",
        "id": 1723200803,
        "node_id": "IC_kwDOBWUGps5mtfUj",
        "user": {
            "login": "isVoid",
            "id": 13521008,
            "node_id": "MDQ6VXNlcjEzNTIxMDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/13521008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/isVoid",
            "html_url": "https://github.com/isVoid",
            "followers_url": "https://api.github.com/users/isVoid/followers",
            "following_url": "https://api.github.com/users/isVoid/following{/other_user}",
            "gists_url": "https://api.github.com/users/isVoid/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/isVoid/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/isVoid/subscriptions",
            "organizations_url": "https://api.github.com/users/isVoid/orgs",
            "repos_url": "https://api.github.com/users/isVoid/repos",
            "events_url": "https://api.github.com/users/isVoid/events{/privacy}",
            "received_events_url": "https://api.github.com/users/isVoid/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-09-18T11:14:13Z",
        "updated_at": "2023-09-18T11:14:13Z",
        "author_association": "CONTRIBUTOR",
        "body": "It does: https://www.tensorflow.org/guide/gpu#manual_device_placement\r\n\r\n> you can use with tf.device to create a device context, and all the operations within that context will run on the same designated device.\r\n\r\nAlthough it doesn't matter which device I choose, the error is repeatable.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1723200803/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1723213318",
        "html_url": "https://github.com/rapidsai/cudf/issues/14117#issuecomment-1723213318",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14117",
        "id": 1723213318,
        "node_id": "IC_kwDOBWUGps5mtiYG",
        "user": {
            "login": "wence-",
            "id": 1126981,
            "node_id": "MDQ6VXNlcjExMjY5ODE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1126981?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wence-",
            "html_url": "https://github.com/wence-",
            "followers_url": "https://api.github.com/users/wence-/followers",
            "following_url": "https://api.github.com/users/wence-/following{/other_user}",
            "gists_url": "https://api.github.com/users/wence-/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wence-/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wence-/subscriptions",
            "organizations_url": "https://api.github.com/users/wence-/orgs",
            "repos_url": "https://api.github.com/users/wence-/repos",
            "events_url": "https://api.github.com/users/wence-/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wence-/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-09-18T11:23:29Z",
        "updated_at": "2023-09-18T11:23:29Z",
        "author_association": "CONTRIBUTOR",
        "body": "FWIW, this WFM in a rapids-compose container (I did `mamba install tensorflow` to get version 2.12.1):\r\n```\r\nIn [1]: import cudf\r\n   ...: import tensorflow as tf\r\n   ...: from cuda import cudart\r\n   ...: df = cudf.DataFrame({\"a\": [1, 2, 3], \"b\": [4, 5, 6]})\r\n   ...: \r\n   ...: print(cudart.cudaGetDevice())\r\n   ...: with tf.device(\"/GPU:1\"):\r\n   ...:     # Perform some operations on the GPU with tf\r\n   ...:     inp = tf.keras.Input(shape=(), name=\"inp\", dtype=tf.int64)\r\n   ...:     b = inp[:, tf.newaxis]\r\n   ...:     print(cudart.cudaGetDevice())\r\n   ...: \r\n   ...: # Copy data to host\r\n   ...: print(cudart.cudaGetDevice())\r\n   ...: pdf = df.to_pandas()\r\n\r\n2023-09-18 12:22:32.889821: I tensorflow/core/util/port.cc:110] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.\r\n2023-09-18 12:22:32.928206: I tensorflow/core/platform/cpu_feature_guard.cc:182] This TensorFlow binary is optimized to use available CPU instructions in performance-critical operations.\r\nTo enable the following instructions: SSE4.1 SSE4.2 AVX AVX2 AVX512F AVX512_VNNI FMA, in other operations, rebuild TensorFlow with the appropriate compiler flags.\r\n(<cudaError_t.cudaSuccess: 0>, 0)\r\n2023-09-18 12:22:36.558988: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1635] Created device /job:localhost/replica:0/task:0/device:GPU:0 with 46304 MB memory:  -> device: 0, name: NVIDIA RTX A6000, pci bus id: 0000:17:00.0, compute capability: 8.6\r\n2023-09-18 12:22:36.559648: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1635] Created device /job:localhost/replica:0/task:0/device:GPU:1 with 44191 MB memory:  -> device: 1, name: NVIDIA RTX A6000, pci bus id: 0000:b3:00.0, compute capability: 8.6\r\n(<cudaError_t.cudaSuccess: 0>, 1)\r\n(<cudaError_t.cudaSuccess: 0>, 1)\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1723213318/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1723220399",
        "html_url": "https://github.com/rapidsai/cudf/issues/14117#issuecomment-1723220399",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14117",
        "id": 1723220399,
        "node_id": "IC_kwDOBWUGps5mtkGv",
        "user": {
            "login": "isVoid",
            "id": 13521008,
            "node_id": "MDQ6VXNlcjEzNTIxMDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/13521008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/isVoid",
            "html_url": "https://github.com/isVoid",
            "followers_url": "https://api.github.com/users/isVoid/followers",
            "following_url": "https://api.github.com/users/isVoid/following{/other_user}",
            "gists_url": "https://api.github.com/users/isVoid/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/isVoid/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/isVoid/subscriptions",
            "organizations_url": "https://api.github.com/users/isVoid/orgs",
            "repos_url": "https://api.github.com/users/isVoid/repos",
            "events_url": "https://api.github.com/users/isVoid/events{/privacy}",
            "received_events_url": "https://api.github.com/users/isVoid/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-09-18T11:29:04Z",
        "updated_at": "2023-09-18T11:29:20Z",
        "author_association": "CONTRIBUTOR",
        "body": "I think I installed tensorflow the same way. It's also the same version (2.12.1). But running on bare metal.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1723220399/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1723224953",
        "html_url": "https://github.com/rapidsai/cudf/issues/14117#issuecomment-1723224953",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14117",
        "id": 1723224953,
        "node_id": "IC_kwDOBWUGps5mtlN5",
        "user": {
            "login": "isVoid",
            "id": 13521008,
            "node_id": "MDQ6VXNlcjEzNTIxMDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/13521008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/isVoid",
            "html_url": "https://github.com/isVoid",
            "followers_url": "https://api.github.com/users/isVoid/followers",
            "following_url": "https://api.github.com/users/isVoid/following{/other_user}",
            "gists_url": "https://api.github.com/users/isVoid/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/isVoid/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/isVoid/subscriptions",
            "organizations_url": "https://api.github.com/users/isVoid/orgs",
            "repos_url": "https://api.github.com/users/isVoid/repos",
            "events_url": "https://api.github.com/users/isVoid/events{/privacy}",
            "received_events_url": "https://api.github.com/users/isVoid/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-09-18T11:32:27Z",
        "updated_at": "2023-09-18T11:32:27Z",
        "author_association": "CONTRIBUTOR",
        "body": "Which cuda version do you use?",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1723224953/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1723238987",
        "html_url": "https://github.com/rapidsai/cudf/issues/14117#issuecomment-1723238987",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14117",
        "id": 1723238987,
        "node_id": "IC_kwDOBWUGps5mtopL",
        "user": {
            "login": "wence-",
            "id": 1126981,
            "node_id": "MDQ6VXNlcjExMjY5ODE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1126981?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wence-",
            "html_url": "https://github.com/wence-",
            "followers_url": "https://api.github.com/users/wence-/followers",
            "following_url": "https://api.github.com/users/wence-/following{/other_user}",
            "gists_url": "https://api.github.com/users/wence-/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wence-/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wence-/subscriptions",
            "organizations_url": "https://api.github.com/users/wence-/orgs",
            "repos_url": "https://api.github.com/users/wence-/repos",
            "events_url": "https://api.github.com/users/wence-/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wence-/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-09-18T11:42:46Z",
        "updated_at": "2023-09-18T11:42:46Z",
        "author_association": "CONTRIBUTOR",
        "body": "I have `NVIDIA-SMI 525.125.06   Driver Version: 525.125.06   CUDA Version: 12.0` and:\r\n```\r\n$ mamba list | grep cuda\r\n# packages in environment at /home/wence/Documents/src/rapids/compose/etc/conda/cuda_11.8/envs/rapids:\r\ncuda-nvtx                 11.8.86                       0    nvidia\r\ncuda-python               11.8.2          py310h01a121a_0    conda-forge\r\ncuda-sanitizer-api        11.8.86                       0    nvidia\r\ncuda-version              11.8                 h70ddcb2_2    conda-forge\r\ncudatoolkit               11.8.0              h4ba93d1_12    conda-forge\r\ndask-cuda                 23.10.00a       py310_230911_g63ba2cc_12    rapidsai-nightly\r\nlibkvikio                 23.10.00a       cuda11_230911_gc85abd5_17    rapidsai-nightly\r\ntensorflow                2.12.1          cuda112py310h457873b_0    conda-forge\r\ntensorflow-base           2.12.1          cuda112py310h622e808_0    conda-forge\r\ntensorflow-estimator      2.12.1          cuda112py310ha5e6de5_0    conda-forge\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1723238987/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1725488649",
        "html_url": "https://github.com/rapidsai/cudf/issues/14117#issuecomment-1725488649",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14117",
        "id": 1725488649,
        "node_id": "IC_kwDOBWUGps5m2N4J",
        "user": {
            "login": "isVoid",
            "id": 13521008,
            "node_id": "MDQ6VXNlcjEzNTIxMDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/13521008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/isVoid",
            "html_url": "https://github.com/isVoid",
            "followers_url": "https://api.github.com/users/isVoid/followers",
            "following_url": "https://api.github.com/users/isVoid/following{/other_user}",
            "gists_url": "https://api.github.com/users/isVoid/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/isVoid/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/isVoid/subscriptions",
            "organizations_url": "https://api.github.com/users/isVoid/orgs",
            "repos_url": "https://api.github.com/users/isVoid/repos",
            "events_url": "https://api.github.com/users/isVoid/events{/privacy}",
            "received_events_url": "https://api.github.com/users/isVoid/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-09-19T13:16:15Z",
        "updated_at": "2023-09-19T13:16:15Z",
        "author_association": "CONTRIBUTOR",
        "body": "xref: https://github.com/tensorflow/tensorflow/issues/61911",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1725488649/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]
[
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/731331227",
        "html_url": "https://github.com/rapidsai/cudf/issues/6810#issuecomment-731331227",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/6810",
        "id": 731331227,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczMTMzMTIyNw==",
        "user": {
            "login": "kkraus14",
            "id": 3665167,
            "node_id": "MDQ6VXNlcjM2NjUxNjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3665167?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kkraus14",
            "html_url": "https://github.com/kkraus14",
            "followers_url": "https://api.github.com/users/kkraus14/followers",
            "following_url": "https://api.github.com/users/kkraus14/following{/other_user}",
            "gists_url": "https://api.github.com/users/kkraus14/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kkraus14/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kkraus14/subscriptions",
            "organizations_url": "https://api.github.com/users/kkraus14/orgs",
            "repos_url": "https://api.github.com/users/kkraus14/repos",
            "events_url": "https://api.github.com/users/kkraus14/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kkraus14/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-20T18:14:57Z",
        "updated_at": "2020-11-20T18:14:57Z",
        "author_association": "COLLABORATOR",
        "body": "cc @jrhemstad I think this would require an option in libcudf to control `NaN` behavior in groupby aggregations, but I'm not sure what our thoughts are from the libcudf side.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/731331227/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/731342821",
        "html_url": "https://github.com/rapidsai/cudf/issues/6810#issuecomment-731342821",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/6810",
        "id": 731342821,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczMTM0MjgyMQ==",
        "user": {
            "login": "jrhemstad",
            "id": 15221289,
            "node_id": "MDQ6VXNlcjE1MjIxMjg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/15221289?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jrhemstad",
            "html_url": "https://github.com/jrhemstad",
            "followers_url": "https://api.github.com/users/jrhemstad/followers",
            "following_url": "https://api.github.com/users/jrhemstad/following{/other_user}",
            "gists_url": "https://api.github.com/users/jrhemstad/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jrhemstad/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jrhemstad/subscriptions",
            "organizations_url": "https://api.github.com/users/jrhemstad/orgs",
            "repos_url": "https://api.github.com/users/jrhemstad/repos",
            "events_url": "https://api.github.com/users/jrhemstad/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jrhemstad/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-20T18:40:26Z",
        "updated_at": "2020-11-20T18:40:47Z",
        "author_association": "CONTRIBUTOR",
        "body": "`NaN + x == NaN \u2200 x` ",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/731342821/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/780094234",
        "html_url": "https://github.com/rapidsai/cudf/issues/6810#issuecomment-780094234",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/6810",
        "id": 780094234,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc4MDA5NDIzNA==",
        "user": {
            "login": "github-actions[bot]",
            "id": 41898282,
            "node_id": "MDM6Qm90NDE4OTgyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions%5Bbot%5D",
            "html_url": "https://github.com/apps/github-actions",
            "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2021-02-16T20:20:38Z",
        "updated_at": "2021-02-16T20:20:38Z",
        "author_association": "NONE",
        "body": "This issue has been marked stale due to no recent activity in the past 30d. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed. This issue will be marked rotten if there is no activity in the next 60d.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/780094234/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/842638631",
        "html_url": "https://github.com/rapidsai/cudf/issues/6810#issuecomment-842638631",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/6810",
        "id": 842638631,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg0MjYzODYzMQ==",
        "user": {
            "login": "github-actions[bot]",
            "id": 41898282,
            "node_id": "MDM6Qm90NDE4OTgyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions%5Bbot%5D",
            "html_url": "https://github.com/apps/github-actions",
            "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2021-05-17T21:05:14Z",
        "updated_at": "2021-05-17T21:05:14Z",
        "author_association": "NONE",
        "body": "This issue has been labeled `inactive-90d` due to no recent activity in the past 90 days. Please close this issue if no further response or action is needed. Otherwise, please respond with a comment indicating any updates or changes to the original issue and/or confirm this issue still needs to be addressed.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/842638631/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1281632376",
        "html_url": "https://github.com/rapidsai/cudf/issues/6810#issuecomment-1281632376",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/6810",
        "id": 1281632376,
        "node_id": "IC_kwDOBWUGps5MZCh4",
        "user": {
            "login": "vyasr",
            "id": 1538165,
            "node_id": "MDQ6VXNlcjE1MzgxNjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1538165?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vyasr",
            "html_url": "https://github.com/vyasr",
            "followers_url": "https://api.github.com/users/vyasr/followers",
            "following_url": "https://api.github.com/users/vyasr/following{/other_user}",
            "gists_url": "https://api.github.com/users/vyasr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vyasr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vyasr/subscriptions",
            "organizations_url": "https://api.github.com/users/vyasr/orgs",
            "repos_url": "https://api.github.com/users/vyasr/repos",
            "events_url": "https://api.github.com/users/vyasr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vyasr/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-10-17T23:38:18Z",
        "updated_at": "2022-10-17T23:38:18Z",
        "author_association": "CONTRIBUTOR",
        "body": "@shwina @brandon-b-miller what do we want to do with something like this? I think with a lot of our more recent discussions around NaN and NULL we have been OK accepting this kind of discrepancy based on the fact that we don't conflate the two, right?",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1281632376/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1282562605",
        "html_url": "https://github.com/rapidsai/cudf/issues/6810#issuecomment-1282562605",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/6810",
        "id": 1282562605,
        "node_id": "IC_kwDOBWUGps5Mclot",
        "user": {
            "login": "shwina",
            "id": 3190405,
            "node_id": "MDQ6VXNlcjMxOTA0MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3190405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shwina",
            "html_url": "https://github.com/shwina",
            "followers_url": "https://api.github.com/users/shwina/followers",
            "following_url": "https://api.github.com/users/shwina/following{/other_user}",
            "gists_url": "https://api.github.com/users/shwina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shwina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shwina/subscriptions",
            "organizations_url": "https://api.github.com/users/shwina/orgs",
            "repos_url": "https://api.github.com/users/shwina/repos",
            "events_url": "https://api.github.com/users/shwina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shwina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-10-18T15:16:33Z",
        "updated_at": "2022-10-18T15:17:53Z",
        "author_association": "CONTRIBUTOR",
        "body": "I don't think this is related to the NaN v/s N/A discussion. Pandas seems to ignore both in groupby reductions:\r\n\r\n```python\r\nIn [86]: df = pd.DataFrame({'key':[0,0,0],'val':[pd.NA, 1, pd.NA]})\r\n\r\nIn [87]: df\r\nOut[87]: \r\n   key   val\r\n0    0  <NA>\r\n1    0     1\r\n2    0  <NA>\r\n\r\nIn [88]: df.groupby('key').sum()\r\nOut[88]: \r\n     val\r\nkey     \r\n0      1\r\n\r\nIn [89]: df = pd.DataFrame({'key':[0,0,0],'val':[np.nan, 1, np.nan]})\r\n\r\nIn [90]: df\r\nOut[90]: \r\n   key  val\r\n0    0  NaN\r\n1    0  1.0\r\n2    0  NaN\r\n\r\nIn [91]: df.groupby('key').sum()\r\nOut[91]: \r\n     val\r\nkey     \r\n0    1.0\r\n```\r\n\r\nFWIW, cuDF _also_ ignore nulls and NaNs for plain (i.e., not grouped) reductions:\r\n\r\n```python\r\nIn [92]: cudf.Series([1, 2, None]).sum()\r\nOut[92]: 3\r\n\r\nIn [93]: cudf.Series([1, 2, np.nan], nan_as_null=False).sum()\r\nOut[93]: 3.0\r\n```\r\n\r\nNote that a `skipna=` kwarg can be used to control null handling in plain reductions:\r\n\r\n```python\r\ncudf.Series([1, 2, None]).sum(skipna=False)\r\nnan\r\n```\r\n\r\n`GroupBy.sum()` (both in Pandas and cuDF) lacks a similar `skipna=` kwarg. In Pandas, you can work around this using a callable aggregation:\r\n\r\n```python\r\ndf.groupby('key').agg(lambda x: x.sum(skipna=False))\r\n```\r\n\r\n---\r\n\r\nHere are a few proposals for how to proceed:\r\n\r\n1. We consider this a bug and change our groupby reduction behaviour to ignore nulls, exactly like Pandas\r\n2. We change nothing, and document the difference in behaviour in our [user guide](https://docs.rapids.ai/api/cudf/stable/user_guide/groupby.html).\r\n3. We introduce a `skipna=` argument to group reductions, allowing the user to control whether or not nulls should be skipped, defaulting to `True` to match Pandas behaviour, and allowing `False` to support cuDF's current behaviour:\r\n\r\n   ```python\r\n   df.groupby('key').sum(skipna=False)\r\n   ```\r\n\r\nWe could also ask if Pandas would be interested in supporting (3).",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1282562605/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]
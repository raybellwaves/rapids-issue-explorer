[
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1006997006",
        "html_url": "https://github.com/rapidsai/cudf/issues/3676#issuecomment-1006997006",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/3676",
        "id": 1006997006,
        "node_id": "IC_kwDOBWUGps48BY4O",
        "user": {
            "login": "beckernick",
            "id": 8457388,
            "node_id": "MDQ6VXNlcjg0NTczODg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8457388?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/beckernick",
            "html_url": "https://github.com/beckernick",
            "followers_url": "https://api.github.com/users/beckernick/followers",
            "following_url": "https://api.github.com/users/beckernick/following{/other_user}",
            "gists_url": "https://api.github.com/users/beckernick/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/beckernick/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/beckernick/subscriptions",
            "organizations_url": "https://api.github.com/users/beckernick/orgs",
            "repos_url": "https://api.github.com/users/beckernick/repos",
            "events_url": "https://api.github.com/users/beckernick/events{/privacy}",
            "received_events_url": "https://api.github.com/users/beckernick/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-01-06T22:59:35Z",
        "updated_at": "2022-01-06T22:59:35Z",
        "author_association": "MEMBER",
        "body": "Based on the following small benchmark, this can probably be done fast enough in Python.\r\n\r\n```python\r\nimport cudf\r\nimport numpy as np\r\n\u200b\r\ndef mad(self):\r\n    # mad formula\r\n    n = len(self)\r\n    m = self.mean()\r\n    mad = ((self - m).abs() / n).sum()\r\n    return mad\r\n\u200b\r\nnrows = (1e6, 10e6)\r\nfor n in nrows:\r\n    s = cudf.Series(np.random.normal(10, 5, int(n)), dtype=\"float32\")\r\n    ps = s.to_pandas()\r\n    print(f\"{int(n):,} rows:\")\r\n    %time mp = ps.mad()\r\n    %time mg = mad(s)\r\n    print()\r\n1,000,000 rows:\r\nCPU times: user 22.9 ms, sys: 0 ns, total: 22.9 ms\r\nWall time: 22.5 ms\r\nCPU times: user 782 \u00b5s, sys: 3.24 ms, total: 4.02 ms\r\nWall time: 3.89 ms\r\n\r\n10,000,000 rows:\r\nCPU times: user 213 ms, sys: 100 ms, total: 313 ms\r\nWall time: 313 ms\r\nCPU times: user 1.23 ms, sys: 4.25 ms, total: 5.49 ms\r\nWall time: 5.24 ms\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1006997006/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]
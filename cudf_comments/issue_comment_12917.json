[
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1474113309",
        "html_url": "https://github.com/rapidsai/cudf/issues/12917#issuecomment-1474113309",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/12917",
        "id": 1474113309,
        "node_id": "IC_kwDOBWUGps5X3S8d",
        "user": {
            "login": "GregoryKimball",
            "id": 12725111,
            "node_id": "MDQ6VXNlcjEyNzI1MTEx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12725111?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GregoryKimball",
            "html_url": "https://github.com/GregoryKimball",
            "followers_url": "https://api.github.com/users/GregoryKimball/followers",
            "following_url": "https://api.github.com/users/GregoryKimball/following{/other_user}",
            "gists_url": "https://api.github.com/users/GregoryKimball/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GregoryKimball/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GregoryKimball/subscriptions",
            "organizations_url": "https://api.github.com/users/GregoryKimball/orgs",
            "repos_url": "https://api.github.com/users/GregoryKimball/repos",
            "events_url": "https://api.github.com/users/GregoryKimball/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GregoryKimball/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-17T16:43:29Z",
        "updated_at": "2023-03-17T16:43:29Z",
        "author_association": "CONTRIBUTOR",
        "body": "Thank you @vaceslav for sharing this detailed performance comparison. The \"category\" type in cuDF is a relatively new feature, and part of the poor performance is that we haven't mapped any category functions to the underlying [libcudf dictionary type](https://github.com/rapidsai/cudf/tree/branch-23.04/cpp/src/dictionary). \r\n\r\nWould you please share a bit more about why categories are important to your work, rather than just using non-category string columns?\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1474113309/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1482623938",
        "html_url": "https://github.com/rapidsai/cudf/issues/12917#issuecomment-1482623938",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/12917",
        "id": 1482623938,
        "node_id": "IC_kwDOBWUGps5YXwvC",
        "user": {
            "login": "vaceslav",
            "id": 24871,
            "node_id": "MDQ6VXNlcjI0ODcx",
            "avatar_url": "https://avatars.githubusercontent.com/u/24871?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vaceslav",
            "html_url": "https://github.com/vaceslav",
            "followers_url": "https://api.github.com/users/vaceslav/followers",
            "following_url": "https://api.github.com/users/vaceslav/following{/other_user}",
            "gists_url": "https://api.github.com/users/vaceslav/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vaceslav/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vaceslav/subscriptions",
            "organizations_url": "https://api.github.com/users/vaceslav/orgs",
            "repos_url": "https://api.github.com/users/vaceslav/repos",
            "events_url": "https://api.github.com/users/vaceslav/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vaceslav/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-24T11:03:54Z",
        "updated_at": "2023-03-24T11:03:54Z",
        "author_association": "NONE",
        "body": "Hello @GregoryKimball ,\r\n\r\nto answer to your question \"why categories are important\" is easy: performance :-) \r\nThat is why everyone of us use cuDF. It is more faster that pandas implementation. \r\n\r\nHere are key points:\r\n- category consumes much less memory\r\n- df column as category is much faster than string, because of internal structure. (at least in pandas)\r\n\r\nIn our business use case we have many DataFrames and need to calculate data on the fly. Means under 1 second per request.  In worst case we have 5_000_000 rows and  need to calculate some **groupby** + aggregate operations.\r\nWe are working with Geospatial data and some of our columns have [geohash](https://en.wikipedia.org/wiki/Geohash) value. There are more than 500_000 unique values per column.\r\n\r\nIf we use strings the amount of data is about 2.5 GB. That data needs to be transfered to the GPU. It takes about 2 seconds.\r\nIf we use categories the amount of data is about 250 MB. \r\n\r\nBecause of slow performance in cuDF we made following workaround: We converted our strings to int64. \r\nNow amount of data is about 300-400 MB and the performance is good. \r\n\r\nBut nevertheless it would be great to have good performance with categorical data. ",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1482623938/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]
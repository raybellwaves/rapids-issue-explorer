[
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1811115963",
        "html_url": "https://github.com/rapidsai/cudf/issues/14412#issuecomment-1811115963",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14412",
        "id": 1811115963,
        "node_id": "IC_kwDOBWUGps5r82-7",
        "user": {
            "login": "bdice",
            "id": 3943761,
            "node_id": "MDQ6VXNlcjM5NDM3NjE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3943761?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bdice",
            "html_url": "https://github.com/bdice",
            "followers_url": "https://api.github.com/users/bdice/followers",
            "following_url": "https://api.github.com/users/bdice/following{/other_user}",
            "gists_url": "https://api.github.com/users/bdice/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bdice/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bdice/subscriptions",
            "organizations_url": "https://api.github.com/users/bdice/orgs",
            "repos_url": "https://api.github.com/users/bdice/repos",
            "events_url": "https://api.github.com/users/bdice/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bdice/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-11-14T19:50:43Z",
        "updated_at": "2023-11-14T19:50:43Z",
        "author_association": "CONTRIBUTOR",
        "body": "This code block is the piece in question:\r\n\r\nhttps://github.com/rapidsai/cudf/blob/b446a6f187241e765c925da1053ece2679313a06/cpp/src/groupby/hash/groupby.cu#L654-L656\r\n\r\n@ttnghia, you added this in #13676. Do you know if this fallback is still required, or why?\r\n\r\nWe discussed this a bit here: https://github.com/rapidsai/cudf/pull/13676#discussion_r1260196703\r\n\r\nSide note, I'm punching my past self -- I asked this question on that PR, and never submitted my review: \r\n![image](https://github.com/rapidsai/cudf/assets/3943761/01e9d6f3-f021-44b0-91cf-235fe57d340e)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1811115963/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 1,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1811161299",
        "html_url": "https://github.com/rapidsai/cudf/issues/14412#issuecomment-1811161299",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14412",
        "id": 1811161299,
        "node_id": "IC_kwDOBWUGps5r9CDT",
        "user": {
            "login": "ttnghia",
            "id": 7416935,
            "node_id": "MDQ6VXNlcjc0MTY5MzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7416935?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ttnghia",
            "html_url": "https://github.com/ttnghia",
            "followers_url": "https://api.github.com/users/ttnghia/followers",
            "following_url": "https://api.github.com/users/ttnghia/following{/other_user}",
            "gists_url": "https://api.github.com/users/ttnghia/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ttnghia/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ttnghia/subscriptions",
            "organizations_url": "https://api.github.com/users/ttnghia/orgs",
            "repos_url": "https://api.github.com/users/ttnghia/repos",
            "events_url": "https://api.github.com/users/ttnghia/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ttnghia/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-11-14T20:11:15Z",
        "updated_at": "2023-11-14T20:11:57Z",
        "author_association": "CONTRIBUTOR",
        "body": "> @ttnghia, you added this in #13676. Do you know if this fallback is still required, or why?\r\n\r\nBecause hash-based aggregations are implemented for plain type only, using the operator such as `<` instead of user-provided comparator. See `struct update_target_element` in `cpp/include/cudf/detail/aggregation/aggregation.cuh`.\r\n\r\nIf we want to support hash-based aggregates for nested types, we need to rewrite such `struct update_target_element` such that we can compare rows using a row comparator instead.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1811161299/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1811205582",
        "html_url": "https://github.com/rapidsai/cudf/issues/14412#issuecomment-1811205582",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14412",
        "id": 1811205582,
        "node_id": "IC_kwDOBWUGps5r9M3O",
        "user": {
            "login": "bdice",
            "id": 3943761,
            "node_id": "MDQ6VXNlcjM5NDM3NjE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3943761?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bdice",
            "html_url": "https://github.com/bdice",
            "followers_url": "https://api.github.com/users/bdice/followers",
            "following_url": "https://api.github.com/users/bdice/following{/other_user}",
            "gists_url": "https://api.github.com/users/bdice/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bdice/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bdice/subscriptions",
            "organizations_url": "https://api.github.com/users/bdice/orgs",
            "repos_url": "https://api.github.com/users/bdice/repos",
            "events_url": "https://api.github.com/users/bdice/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bdice/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-11-14T20:32:37Z",
        "updated_at": "2023-11-14T20:32:37Z",
        "author_association": "CONTRIBUTOR",
        "body": "Great, that was helpful. I think we can do this. I think the rough plan would be to preprocess the table so we have device comparators that can be used, pass the preprocessed table info through all the aggregation machinery, and use the device comparator where needed in `update_target_element`. Does that sound right to you?\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1811205582/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1811231902",
        "html_url": "https://github.com/rapidsai/cudf/issues/14412#issuecomment-1811231902",
        "issue_url": "https://api.github.com/repos/rapidsai/cudf/issues/14412",
        "id": 1811231902,
        "node_id": "IC_kwDOBWUGps5r9TSe",
        "user": {
            "login": "ttnghia",
            "id": 7416935,
            "node_id": "MDQ6VXNlcjc0MTY5MzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7416935?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ttnghia",
            "html_url": "https://github.com/ttnghia",
            "followers_url": "https://api.github.com/users/ttnghia/followers",
            "following_url": "https://api.github.com/users/ttnghia/following{/other_user}",
            "gists_url": "https://api.github.com/users/ttnghia/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ttnghia/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ttnghia/subscriptions",
            "organizations_url": "https://api.github.com/users/ttnghia/orgs",
            "repos_url": "https://api.github.com/users/ttnghia/repos",
            "events_url": "https://api.github.com/users/ttnghia/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ttnghia/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-11-14T20:38:21Z",
        "updated_at": "2023-11-14T20:38:56Z",
        "author_association": "CONTRIBUTOR",
        "body": "Yes that sounds good. Note that we only need to rework for `ARGMIN` and `ARGMAX` (other aggregations are `SUM`, `PRODUCT` etc that can't support nested types), not for everything thus the amount of work should not be very heavy.",
        "reactions": {
            "url": "https://api.github.com/repos/rapidsai/cudf/issues/comments/1811231902/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]
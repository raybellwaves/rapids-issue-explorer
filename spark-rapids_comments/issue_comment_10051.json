[
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1874070961",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/10051#issuecomment-1874070961",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/10051",
        "id": 1874070961,
        "node_id": "IC_kwDOD7z77c5vtA2x",
        "user": {
            "login": "NvTimLiu",
            "id": 50287591,
            "node_id": "MDQ6VXNlcjUwMjg3NTkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/50287591?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NvTimLiu",
            "html_url": "https://github.com/NvTimLiu",
            "followers_url": "https://api.github.com/users/NvTimLiu/followers",
            "following_url": "https://api.github.com/users/NvTimLiu/following{/other_user}",
            "gists_url": "https://api.github.com/users/NvTimLiu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NvTimLiu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NvTimLiu/subscriptions",
            "organizations_url": "https://api.github.com/users/NvTimLiu/orgs",
            "repos_url": "https://api.github.com/users/NvTimLiu/repos",
            "events_url": "https://api.github.com/users/NvTimLiu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NvTimLiu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2024-01-02T14:08:15Z",
        "updated_at": "2024-01-02T14:08:15Z",
        "author_association": "COLLABORATOR",
        "body": "@gerashegalov  I'm adding dependency check for the pre-merge and nightly build jobs, according to our discuss method\r\n\r\n```\r\n1, Create a fresh local dir such as /tmp/local-release-repo\r\n2, mvn deploy:deploy-file -Durl=file:/tmp/local-release-repo  xxx \\\r\n3, Create another fresh local directory for /tmp/test-get-dest\r\n4, Create a fresh empty dir /tmp/m2-cache every iteration such that there are no cached side-effects from one \r\n depenendcy:get to another\r\n5, execute depenency:get xxx\r\n    -Dmaven.repo.local=/tmp/m2-cache\r\n```\r\n\r\nThe dependency check still failed on `jdk-profiles` on current branch-24.02, are you going to fix it first?",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1874070961/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1876342144",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/10051#issuecomment-1876342144",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/10051",
        "id": 1876342144,
        "node_id": "IC_kwDOD7z77c5v1rWA",
        "user": {
            "login": "gerashegalov",
            "id": 3187938,
            "node_id": "MDQ6VXNlcjMxODc5Mzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3187938?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gerashegalov",
            "html_url": "https://github.com/gerashegalov",
            "followers_url": "https://api.github.com/users/gerashegalov/followers",
            "following_url": "https://api.github.com/users/gerashegalov/following{/other_user}",
            "gists_url": "https://api.github.com/users/gerashegalov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gerashegalov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gerashegalov/subscriptions",
            "organizations_url": "https://api.github.com/users/gerashegalov/orgs",
            "repos_url": "https://api.github.com/users/gerashegalov/repos",
            "events_url": "https://api.github.com/users/gerashegalov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gerashegalov/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2024-01-04T05:28:47Z",
        "updated_at": "2024-01-04T05:28:47Z",
        "author_association": "COLLABORATOR",
        "body": "Hi @NvTimLiu\r\n\r\n> The dependency check still failed on jdk-profiles on current branch-24.02, are you going to fix it first?\r\n\r\nThe test should mimic the release deploy logic irrespective whether this issue (eliminating parent and intermediate poms) is fixed.\r\n\r\nIf the test is failing it means it still does not reflect that currently deploy-file for jdk-profiles is required.\r\n\r\nIdeally the test should share the same script  \r\nhttps://github.com/NVIDIA/spark-rapids/blob/ed1fa9f0c92f8c7c1a4cbdedf2b4d61db6d1beca/jenkins/deploy.sh#L97-L107\r\n\r\njust with different parameters. It would be helpful to create a file with the list of the artifacts required for the release. Then we could use it as the input in the release/test script. \r\n\r\nOnce this issue is fixed we will drop the jdk-profiles module from this list, but the test remains valid.\r\n\r\n\r\n  ",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1876342144/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1877121816",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/10051#issuecomment-1877121816",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/10051",
        "id": 1877121816,
        "node_id": "IC_kwDOD7z77c5v4psY",
        "user": {
            "login": "NvTimLiu",
            "id": 50287591,
            "node_id": "MDQ6VXNlcjUwMjg3NTkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/50287591?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NvTimLiu",
            "html_url": "https://github.com/NvTimLiu",
            "followers_url": "https://api.github.com/users/NvTimLiu/followers",
            "following_url": "https://api.github.com/users/NvTimLiu/following{/other_user}",
            "gists_url": "https://api.github.com/users/NvTimLiu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NvTimLiu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NvTimLiu/subscriptions",
            "organizations_url": "https://api.github.com/users/NvTimLiu/orgs",
            "repos_url": "https://api.github.com/users/NvTimLiu/repos",
            "events_url": "https://api.github.com/users/NvTimLiu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NvTimLiu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2024-01-04T13:47:22Z",
        "updated_at": "2024-01-04T13:52:53Z",
        "author_association": "COLLABORATOR",
        "body": "> Hi @NvTimLiu\r\n> \r\n> > The dependency check still failed on jdk-profiles on current branch-24.02, are you going to fix it first?\r\n> \r\n> The test should mimic the release deploy logic irrespective whether this issue (eliminating parent and intermediate poms) is fixed.\r\n> \r\n> If the test is failing it means it still does not reflect that currently deploy-file for jdk-profiles is required.\r\n> \r\n> Ideally the test should share the same script\r\n> \r\n> https://github.com/NVIDIA/spark-rapids/blob/ed1fa9f0c92f8c7c1a4cbdedf2b4d61db6d1beca/jenkins/deploy.sh#L97-L107\r\n> \r\n> just with different parameters. It would be helpful to create a file with the list of the artifacts required for the release. Then we could use it as the input in the release/test script.\r\n> \r\n> Once this issue is fixed we will drop the jdk-profiles module from this list, but the test remains valid.\r\n\r\n\r\n @gerashegalov Thanks for the explanation.\r\n\r\nI agree we can reuse the  deploy script `[spark-rapids/jenkins/deploy.sh](https://github.com/NVIDIA/spark-rapids/blob/ed1fa9f0c92f8c7c1a4cbdedf2b4d61db6d1beca/jenkins/deploy.sh#L97-L107)` to do dependency check for the to-be-released artifacts.\r\n\r\nA file list of artifacts needs extra script for deploy.sh to work with, e.g.\r\nfile list: ` pom.xml, dist/pom.xml, rapids.jar, rapids-cuda11.jar`,  then `deploy.sh` should parse from the `file list` the parent pom, dist pom, classifier jar, main jar, etc.\r\n\r\nOver all, we need to refactor  deploy.sh `[spark-rapids/jenkins/deploy.sh](https://github.com/NVIDIA/spark-rapids/blob/ed1fa9f0c92f8c7c1a4cbdedf2b4d61db6d1beca/jenkins/deploy.sh#L97-L107)` to work with `list file`.\r\n\r\nLet me check if we should break this issue into diff tasks.",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1877121816/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1879449470",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/10051#issuecomment-1879449470",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/10051",
        "id": 1879449470,
        "node_id": "IC_kwDOD7z77c5wBh9-",
        "user": {
            "login": "gerashegalov",
            "id": 3187938,
            "node_id": "MDQ6VXNlcjMxODc5Mzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3187938?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gerashegalov",
            "html_url": "https://github.com/gerashegalov",
            "followers_url": "https://api.github.com/users/gerashegalov/followers",
            "following_url": "https://api.github.com/users/gerashegalov/following{/other_user}",
            "gists_url": "https://api.github.com/users/gerashegalov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gerashegalov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gerashegalov/subscriptions",
            "organizations_url": "https://api.github.com/users/gerashegalov/orgs",
            "repos_url": "https://api.github.com/users/gerashegalov/repos",
            "events_url": "https://api.github.com/users/gerashegalov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gerashegalov/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2024-01-06T00:17:33Z",
        "updated_at": "2024-01-08T20:07:27Z",
        "author_association": "COLLABORATOR",
        "body": "@NvTimLiu I'll file some other issue for discussing a reproducible deploy test. To reiterate, we will need this test regardless of what our poms look like. \r\n\r\nThis issue #10051 is about a potential simplification of published poms ",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1879449470/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]
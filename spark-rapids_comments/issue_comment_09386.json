[
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1751089734",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1751089734",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1751089734,
        "node_id": "IC_kwDOD7z77c5oX4JG",
        "user": {
            "login": "abellina",
            "id": 1901059,
            "node_id": "MDQ6VXNlcjE5MDEwNTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1901059?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abellina",
            "html_url": "https://github.com/abellina",
            "followers_url": "https://api.github.com/users/abellina/followers",
            "following_url": "https://api.github.com/users/abellina/following{/other_user}",
            "gists_url": "https://api.github.com/users/abellina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abellina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abellina/subscriptions",
            "organizations_url": "https://api.github.com/users/abellina/orgs",
            "repos_url": "https://api.github.com/users/abellina/repos",
            "events_url": "https://api.github.com/users/abellina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abellina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-06T16:41:31Z",
        "updated_at": "2023-10-06T16:41:31Z",
        "author_association": "COLLABORATOR",
        "body": "Hello @Nikhilpa1!\r\n\r\nIt seems that the TCP ports in the range logged are failing to be bound by our socket.\r\n\r\nYou can set the starting port we will attempt using `spark.rapids.shuffle.ucx.listenerStartPort`. By default we will try 16 times (`spark.port.maxRetries`) by starting at a port and going up by one in case a retry is needed. \r\n\r\nIf you don't set `listenerStartPort` we start trying at a random port above 1024.",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1751089734/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1752273950",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1752273950",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1752273950,
        "node_id": "IC_kwDOD7z77c5ocZQe",
        "user": {
            "login": "Nikhilpa1",
            "id": 36602072,
            "node_id": "MDQ6VXNlcjM2NjAyMDcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/36602072?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Nikhilpa1",
            "html_url": "https://github.com/Nikhilpa1",
            "followers_url": "https://api.github.com/users/Nikhilpa1/followers",
            "following_url": "https://api.github.com/users/Nikhilpa1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Nikhilpa1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Nikhilpa1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Nikhilpa1/subscriptions",
            "organizations_url": "https://api.github.com/users/Nikhilpa1/orgs",
            "repos_url": "https://api.github.com/users/Nikhilpa1/repos",
            "events_url": "https://api.github.com/users/Nikhilpa1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Nikhilpa1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-09T02:42:38Z",
        "updated_at": "2023-10-09T02:42:38Z",
        "author_association": "NONE",
        "body": "I tried mentioning the listener start port(through `spark.rapids.shuffle.ucx.listenerStartPort`) that I used when running the perf_test, and even then, I am encountering the same error. Do you have any suggestions?",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1752273950/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1756177059",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1756177059",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1756177059,
        "node_id": "IC_kwDOD7z77c5orSKj",
        "user": {
            "login": "abellina",
            "id": 1901059,
            "node_id": "MDQ6VXNlcjE5MDEwNTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1901059?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abellina",
            "html_url": "https://github.com/abellina",
            "followers_url": "https://api.github.com/users/abellina/followers",
            "following_url": "https://api.github.com/users/abellina/following{/other_user}",
            "gists_url": "https://api.github.com/users/abellina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abellina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abellina/subscriptions",
            "organizations_url": "https://api.github.com/users/abellina/orgs",
            "repos_url": "https://api.github.com/users/abellina/repos",
            "events_url": "https://api.github.com/users/abellina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abellina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-10T20:29:19Z",
        "updated_at": "2023-10-10T20:29:19Z",
        "author_association": "COLLABORATOR",
        "body": "@Nikhilpa1 for some reason the executors are not able to bind to the tcp ports and I am not sure why. Is this running under a container by any chance?\r\n\r\nOne thing we can try is looking at the UCX logs (`spark.executorEnv.UCX_LOG_LEVEL=info`, then `spark.executorEnv.UCX_LOG_FILE=/tmp/ucx_%h_%p.log`) should give us some UCX-level logs.\r\n\r\nAlso, I'd try without:\r\n```\r\n\"--conf\" \"spark.executorEnv.UCX_TLS=tcp,cuda_copy,cuda_ipc,rc\"\r\n\"--conf\" \"spark.executorEnv.UCX_NET_DEVICES=en0,mlx5_0:1\"\r\n```\r\nto see if UCX will pick the right interfaces to use.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1756177059/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1764921159",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1764921159",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1764921159,
        "node_id": "IC_kwDOD7z77c5pMo9H",
        "user": {
            "login": "Nikhilpa1",
            "id": 36602072,
            "node_id": "MDQ6VXNlcjM2NjAyMDcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/36602072?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Nikhilpa1",
            "html_url": "https://github.com/Nikhilpa1",
            "followers_url": "https://api.github.com/users/Nikhilpa1/followers",
            "following_url": "https://api.github.com/users/Nikhilpa1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Nikhilpa1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Nikhilpa1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Nikhilpa1/subscriptions",
            "organizations_url": "https://api.github.com/users/Nikhilpa1/orgs",
            "repos_url": "https://api.github.com/users/Nikhilpa1/repos",
            "events_url": "https://api.github.com/users/Nikhilpa1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Nikhilpa1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-16T17:13:16Z",
        "updated_at": "2023-10-16T17:13:16Z",
        "author_association": "NONE",
        "body": "No, it is not running on a container. \r\nTrying without \r\n`\"--conf\" \"spark.executorEnv.UCX_TLS=tcp,cuda_copy,cuda_ipc,rc\"\r\n\"--conf\" \"spark.executorEnv.UCX_NET_DEVICES=en0,mlx5_0:1\"`\r\ndidn't help. Please let me know if you need more info about the system or on the run.\r\n\r\nAdditionally, Can I get the details of the configuration specifics that were used to compare ucx on vs off performance.",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1764921159/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1764951597",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1764951597",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1764951597,
        "node_id": "IC_kwDOD7z77c5pMwYt",
        "user": {
            "login": "abellina",
            "id": 1901059,
            "node_id": "MDQ6VXNlcjE5MDEwNTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1901059?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abellina",
            "html_url": "https://github.com/abellina",
            "followers_url": "https://api.github.com/users/abellina/followers",
            "following_url": "https://api.github.com/users/abellina/following{/other_user}",
            "gists_url": "https://api.github.com/users/abellina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abellina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abellina/subscriptions",
            "organizations_url": "https://api.github.com/users/abellina/orgs",
            "repos_url": "https://api.github.com/users/abellina/repos",
            "events_url": "https://api.github.com/users/abellina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abellina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-16T17:33:15Z",
        "updated_at": "2023-10-16T17:33:15Z",
        "author_association": "COLLABORATOR",
        "body": "> One thing we can try is looking at the UCX logs (spark.executorEnv.UCX_LOG_LEVEL=info, then spark.executorEnv.UCX_LOG_FILE=/tmp/ucx_%h_%p.log) should give us some UCX-level logs.\r\n\r\n@Nikhilpa1 were you able to generate a log file with the above? This would be helpful.\r\n\r\n> Additionally, Can I get the details of the configuration specifics that were used to compare ucx on vs off performance.\r\n\r\nPlease take a look a this GTC presentation for results we have presented in the past: https://www.nvidia.com/en-us/on-demand/session/gtcspring21-s31822/. \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1764951597/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766553492",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1766553492",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1766553492,
        "node_id": "IC_kwDOD7z77c5pS3eU",
        "user": {
            "login": "Nikhilpa1",
            "id": 36602072,
            "node_id": "MDQ6VXNlcjM2NjAyMDcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/36602072?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Nikhilpa1",
            "html_url": "https://github.com/Nikhilpa1",
            "followers_url": "https://api.github.com/users/Nikhilpa1/followers",
            "following_url": "https://api.github.com/users/Nikhilpa1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Nikhilpa1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Nikhilpa1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Nikhilpa1/subscriptions",
            "organizations_url": "https://api.github.com/users/Nikhilpa1/orgs",
            "repos_url": "https://api.github.com/users/Nikhilpa1/repos",
            "events_url": "https://api.github.com/users/Nikhilpa1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Nikhilpa1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-17T14:37:12Z",
        "updated_at": "2023-10-17T14:37:20Z",
        "author_association": "NONE",
        "body": "> Were you able to generate a log file with the above? This would be helpful.\r\n\r\nYes.\r\n[1697552387.833492] [gpu11:19890:0]          parser.c:2000 UCX  INFO  UCX_* env variables: UCX_MEMTYPE_CACHE=n UCX_MAX_RNDV_RAILS=1 UCX_LOG_FILE=/home/kanaka.3/tmp/ucx_with_only_net.log UCX_RNDV_SCHEME=put_zcopy UCX_NET_DEVICES=en0,mlx5_0:1 UCX_LOG_LEVEL=info UCX_ERROR_SIGNALS= UCX_IB_RX_QUEUE_LEN=1024\r\n[1697552387.850624] [gpu11:19890:0] rdmacm_listener.c:83   UCX  DIAG  rdma_bind_addr(addr=10.1.1.11:50956) failed: No such device\r\n[1697552387.850642] [gpu11:19890:0]    ucp_listener.c:245  UCX  DIAG  failed to create UCT listener on CM 0x2ac175ab25b0 (component rdmacm) with address 10.1.1.11:50956 status No such device\r\n[1697552387.871581] [gpu11:19890:a]       rdmacm_cm.c:712  UCX  DIAG  [cep 0x2ac1bc029990 <invalid>->10.1.1.10:8368 client Success] got error event RDMA_CM_EVENT_ADDR_ERROR, event status No such device (-19)\r\n[1697552387.871606] [gpu11:19890:a]          uct_cm.c:100  UCX  DIAG  resolve callback failed with error: Destination is unreachable\r\n[1697552387.871939] [gpu11:19890:1]       wireup_cm.c:91   UCX  DIAG  ep 0x2abe4ffa20b0: client switching from rdmacm to tcp in attempt to connect to the server\r\n[1697552387.872051] [gpu11:19890:a]       rdmacm_cm.c:712  UCX  DIAG  [cep 0x2ac1bc02a040 <invalid>->10.1.1.12:23238 client Success] got error event RDMA_CM_EVENT_ADDR_ERROR, event status No such device (-19)\r\n[1697552387.872061] [gpu11:19890:a]          uct_cm.c:100  UCX  DIAG  resolve callback failed with error: Destination is unreachable\r\n[1697552387.872078] [gpu11:19890:1]       wireup_cm.c:91   UCX  DIAG  ep 0x2abe4ffa2108: client switching from rdmacm to tcp in attempt to connect to the server\r\n[1697552387.872843] [gpu11:19890:1]      ucp_worker.c:1783 UCX  INFO  ep_cfg[2]: tag(tcp/en0) am(tcp/en0)\r\n[1697552387.876788] [gpu11:19890:1]      ucp_worker.c:1783 UCX  INFO      ep_cfg[3]: tag(tcp/en0) am(tcp/en0)\r\n[1697552387.877323] [gpu11:19890:1]      ucp_worker.c:1783 UCX  INFO    ep_cfg[4]: tag(rc_mlx5/mlx5_0:1) am(rc_mlx5/mlx5_0:1) ka(ud_mlx5/mlx5_0:1)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766553492/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766657433",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1766657433",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1766657433,
        "node_id": "IC_kwDOD7z77c5pTQ2Z",
        "user": {
            "login": "abellina",
            "id": 1901059,
            "node_id": "MDQ6VXNlcjE5MDEwNTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1901059?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abellina",
            "html_url": "https://github.com/abellina",
            "followers_url": "https://api.github.com/users/abellina/followers",
            "following_url": "https://api.github.com/users/abellina/following{/other_user}",
            "gists_url": "https://api.github.com/users/abellina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abellina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abellina/subscriptions",
            "organizations_url": "https://api.github.com/users/abellina/orgs",
            "repos_url": "https://api.github.com/users/abellina/repos",
            "events_url": "https://api.github.com/users/abellina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abellina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-17T15:28:24Z",
        "updated_at": "2023-10-17T15:28:24Z",
        "author_association": "COLLABORATOR",
        "body": "@yosefe @petro-rudenko any ideas on what is happening with this?\r\n```\r\n[1697552387.850624] [gpu11:19890:0] rdmacm_listener.c:83 UCX DIAG rdma_bind_addr(addr=10.1.1.11:50956) failed: No such device\r\n[1697552387.850642] [gpu11:19890:0] ucp_listener.c:245 UCX DIAG failed to create UCT listener on CM 0x2ac175ab25b0 (component rdmacm) with address 10.1.1.11:50956 status No such device\r\n```\r\n\r\nIt looks like the NIC with IP address 10.1.1.11 doesn't support RDMACM but we are attempting it? \r\n\r\n@Nikhilpa1 one attempt you can make is disabling RDMACM, as a test:\r\n\r\nPlease set `spark.executorEnv.UCX_SOCKADDR_TLS_PRIORITY=tcp,sockcm`. Also please share logs when you run with ths environment variable. And thanks!!!",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766657433/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766702899",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1766702899",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1766702899,
        "node_id": "IC_kwDOD7z77c5pTb8z",
        "user": {
            "login": "Nikhilpa1",
            "id": 36602072,
            "node_id": "MDQ6VXNlcjM2NjAyMDcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/36602072?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Nikhilpa1",
            "html_url": "https://github.com/Nikhilpa1",
            "followers_url": "https://api.github.com/users/Nikhilpa1/followers",
            "following_url": "https://api.github.com/users/Nikhilpa1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Nikhilpa1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Nikhilpa1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Nikhilpa1/subscriptions",
            "organizations_url": "https://api.github.com/users/Nikhilpa1/orgs",
            "repos_url": "https://api.github.com/users/Nikhilpa1/repos",
            "events_url": "https://api.github.com/users/Nikhilpa1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Nikhilpa1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-17T15:52:11Z",
        "updated_at": "2023-10-17T15:52:11Z",
        "author_association": "NONE",
        "body": "Thanks for the response.\r\nDisabling rdma with `spark.executorEnv.UCX_SOCKADDR_TLS_PRIORITY=tcp,sockcm` worked fine..\r\n[1697557791.108393] [gpu12:8008 :0]          parser.c:2000 UCX  INFO  UCX_* env variables: UCX_MEMTYPE_CACHE=n UCX_MAX_RNDV_RAILS=1 UCX_RNDV_SCHEME=put_zcopy UCX_SOCKADDR_TLS_PRIORITY=tcp,sockcm UCX_NET_DEVICES=en0,mlx5_0:1 UCX_LOG_LEVEL=info UCX_ERROR_SIGNALS= UCX_IB_RX_QUEUE_LEN=1024\r\n[1697557791.174517] [gpu12:8008 :1]      ucp_worker.c:1783 UCX  INFO  ep_cfg[2]: tag(tcp/en0) am(tcp/en0)\r\n[1697557791.178327] [gpu12:8008 :1]      ucp_worker.c:1783 UCX  INFO      ep_cfg[3]: tag(tcp/en0) am(tcp/en0)\r\n[1697557791.178942] [gpu12:8008 :1]      ucp_worker.c:1783 UCX  INFO    ep_cfg[4]: tag(rc_mlx5/mlx5_0:1) am(rc_mlx5/mlx5_0:1) ka(ud_mlx5/mlx5_0:1)\r\nBut, I am still facing\r\n23/10/17 11:48:02 ERROR TaskSchedulerImpl: Lost executor 11 on 10.1.1.12: Remote RPC client disassociated. Likely due to containers exceeding thresholds, or network issues. Check driver logs for WARN messages.",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766702899/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766724605",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1766724605",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1766724605,
        "node_id": "IC_kwDOD7z77c5pThP9",
        "user": {
            "login": "abellina",
            "id": 1901059,
            "node_id": "MDQ6VXNlcjE5MDEwNTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1901059?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abellina",
            "html_url": "https://github.com/abellina",
            "followers_url": "https://api.github.com/users/abellina/followers",
            "following_url": "https://api.github.com/users/abellina/following{/other_user}",
            "gists_url": "https://api.github.com/users/abellina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abellina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abellina/subscriptions",
            "organizations_url": "https://api.github.com/users/abellina/orgs",
            "repos_url": "https://api.github.com/users/abellina/repos",
            "events_url": "https://api.github.com/users/abellina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abellina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-17T16:04:18Z",
        "updated_at": "2023-10-17T16:04:18Z",
        "author_association": "COLLABORATOR",
        "body": "Thanks @Nikhilpa1. Progress! \r\n\r\nDo you know if there are other executor logs within executor 11 that would tell us what happened? The error here could mean too many things to pin it down without looking at the executor log (stderr AND stdout).",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766724605/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766734307",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1766734307",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1766734307,
        "node_id": "IC_kwDOD7z77c5pTjnj",
        "user": {
            "login": "Nikhilpa1",
            "id": 36602072,
            "node_id": "MDQ6VXNlcjM2NjAyMDcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/36602072?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Nikhilpa1",
            "html_url": "https://github.com/Nikhilpa1",
            "followers_url": "https://api.github.com/users/Nikhilpa1/followers",
            "following_url": "https://api.github.com/users/Nikhilpa1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Nikhilpa1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Nikhilpa1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Nikhilpa1/subscriptions",
            "organizations_url": "https://api.github.com/users/Nikhilpa1/orgs",
            "repos_url": "https://api.github.com/users/Nikhilpa1/repos",
            "events_url": "https://api.github.com/users/Nikhilpa1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Nikhilpa1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-17T16:09:58Z",
        "updated_at": "2023-10-17T16:09:58Z",
        "author_association": "NONE",
        "body": "In executor logs,\r\n\r\nERROR BlockManagerStorageEndpoint: Error in removing shuffle 109\r\njava.lang.IllegalStateException: An executor with RapidsShuffleManager is trying to use a ShuffleBufferCatalog that isn't initialized.\r\n        at org.apache.spark.sql.rapids.RapidsShuffleInternalManagerBase.resolver$lzycompute(RapidsShuffleInternalManagerBase.scala:1152)\r\n        at org.apache.spark.sql.rapids.RapidsShuffleInternalManagerBase.resolver(RapidsShuffleInternalManagerBase.scala:1136)\r\n        at org.apache.spark.sql.rapids.RapidsShuffleInternalManagerBase.shuffleBlockResolver(RapidsShuffleInternalManagerBase.scala:1409)\r\n        at org.apache.spark.sql.rapids.RapidsShuffleInternalManagerBase.unregisterShuffle(RapidsShuffleInternalManagerBase.scala:1393)\r\n        at org.apache.spark.sql.rapids.ProxyRapidsShuffleInternalManagerBase.unregisterShuffle(RapidsShuffleInternalManagerBase.scala:1486)\r\n        at org.apache.spark.storage.BlockManagerStorageEndpoint$$anonfun$receiveAndReply$1.$anonfun$applyOrElse$3(BlockManagerStorageEndpoint.scala:61)\r\n        at scala.runtime.java8.JFunction0$mcZ$sp.apply(JFunction0$mcZ$sp.java:23)\r\n        at org.apache.spark.storage.BlockManagerStorageEndpoint.$anonfun$doAsync$1(BlockManagerStorageEndpoint.scala:89)\r\n        at scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659)\r\n        at scala.util.Success.$anonfun$map$1(Try.scala:255)\r\n        at scala.util.Success.map(Try.scala:213)\r\n        at scala.concurrent.Future.$anonfun$map$1(Future.scala:292)\r\n        at scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)\r\n        at scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)\r\n        at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766734307/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766747813",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1766747813",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1766747813,
        "node_id": "IC_kwDOD7z77c5pTm6l",
        "user": {
            "login": "abellina",
            "id": 1901059,
            "node_id": "MDQ6VXNlcjE5MDEwNTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1901059?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abellina",
            "html_url": "https://github.com/abellina",
            "followers_url": "https://api.github.com/users/abellina/followers",
            "following_url": "https://api.github.com/users/abellina/following{/other_user}",
            "gists_url": "https://api.github.com/users/abellina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abellina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abellina/subscriptions",
            "organizations_url": "https://api.github.com/users/abellina/orgs",
            "repos_url": "https://api.github.com/users/abellina/repos",
            "events_url": "https://api.github.com/users/abellina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abellina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-17T16:17:58Z",
        "updated_at": "2023-10-17T16:17:58Z",
        "author_association": "COLLABORATOR",
        "body": "Ok, mind providing the beginning of the executor log? (Up until when you start getting assigned tasks). \r\n\r\nWe should see us start to get memory for the GPU and what seems to be happening is that we are not fully initializing. This could happen if the version of Spark running in the executors is somehow different than the one running on the driver as we are looking to match that the classname provided under `spark.shuffle.manager` is the one that would match our shim (for Spark 3.3.0 in this case).",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766747813/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766766488",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1766766488",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1766766488,
        "node_id": "IC_kwDOD7z77c5pTreY",
        "user": {
            "login": "Nikhilpa1",
            "id": 36602072,
            "node_id": "MDQ6VXNlcjM2NjAyMDcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/36602072?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Nikhilpa1",
            "html_url": "https://github.com/Nikhilpa1",
            "followers_url": "https://api.github.com/users/Nikhilpa1/followers",
            "following_url": "https://api.github.com/users/Nikhilpa1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Nikhilpa1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Nikhilpa1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Nikhilpa1/subscriptions",
            "organizations_url": "https://api.github.com/users/Nikhilpa1/orgs",
            "repos_url": "https://api.github.com/users/Nikhilpa1/repos",
            "events_url": "https://api.github.com/users/Nikhilpa1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Nikhilpa1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-17T16:28:02Z",
        "updated_at": "2023-10-17T16:28:02Z",
        "author_association": "NONE",
        "body": "I've double-checked the version of Spark with the shim, and it is 3.3.0.\r\nI have the executor logs here. Please use it for your reference.\r\n[stdout.zip](https://github.com/NVIDIA/spark-rapids/files/12936525/stdout.zip)",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766766488/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766801718",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1766801718",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1766801718,
        "node_id": "IC_kwDOD7z77c5pT0E2",
        "user": {
            "login": "abellina",
            "id": 1901059,
            "node_id": "MDQ6VXNlcjE5MDEwNTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1901059?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abellina",
            "html_url": "https://github.com/abellina",
            "followers_url": "https://api.github.com/users/abellina/followers",
            "following_url": "https://api.github.com/users/abellina/following{/other_user}",
            "gists_url": "https://api.github.com/users/abellina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abellina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abellina/subscriptions",
            "organizations_url": "https://api.github.com/users/abellina/orgs",
            "repos_url": "https://api.github.com/users/abellina/repos",
            "events_url": "https://api.github.com/users/abellina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abellina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-17T16:48:01Z",
        "updated_at": "2023-10-17T16:48:01Z",
        "author_association": "COLLABORATOR",
        "body": "The log here shows that executorId 2 died had an issue, so we stopped the connection. I don't see the exception you are seeing above.\r\n\r\nI think we should try `UCX_TLS=tcp,cuda_copy,cuda_ipc` to remove RDMA alltogether, and I'll try to repro this on my side.",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766801718/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766876125",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1766876125",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1766876125,
        "node_id": "IC_kwDOD7z77c5pUGPd",
        "user": {
            "login": "Nikhilpa1",
            "id": 36602072,
            "node_id": "MDQ6VXNlcjM2NjAyMDcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/36602072?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Nikhilpa1",
            "html_url": "https://github.com/Nikhilpa1",
            "followers_url": "https://api.github.com/users/Nikhilpa1/followers",
            "following_url": "https://api.github.com/users/Nikhilpa1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Nikhilpa1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Nikhilpa1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Nikhilpa1/subscriptions",
            "organizations_url": "https://api.github.com/users/Nikhilpa1/orgs",
            "repos_url": "https://api.github.com/users/Nikhilpa1/repos",
            "events_url": "https://api.github.com/users/Nikhilpa1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Nikhilpa1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-17T17:39:27Z",
        "updated_at": "2023-10-17T17:39:27Z",
        "author_association": "NONE",
        "body": "Using `UCX_TLS=tcp,cuda_copy,cuda_ipc` fixed the issue of lost executors, but the performance improvement with UCX is minimal.",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766876125/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766924342",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1766924342",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1766924342,
        "node_id": "IC_kwDOD7z77c5pUSA2",
        "user": {
            "login": "abellina",
            "id": 1901059,
            "node_id": "MDQ6VXNlcjE5MDEwNTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1901059?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abellina",
            "html_url": "https://github.com/abellina",
            "followers_url": "https://api.github.com/users/abellina/followers",
            "following_url": "https://api.github.com/users/abellina/following{/other_user}",
            "gists_url": "https://api.github.com/users/abellina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abellina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abellina/subscriptions",
            "organizations_url": "https://api.github.com/users/abellina/orgs",
            "repos_url": "https://api.github.com/users/abellina/repos",
            "events_url": "https://api.github.com/users/abellina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abellina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-17T18:12:59Z",
        "updated_at": "2023-10-17T18:12:59Z",
        "author_association": "COLLABORATOR",
        "body": "Ok, that's good and bad :) \r\n\r\nAt least we know there's some sort of issue with the RDMA part and that it is inside of UCX. Can you remove the UCX_TLS setting and share the UCX logs for all executors? That will help triage what is happening there.\r\n\r\nIn terms of the improvement: how much are you shuffling? Do you spend a lot of time blocked in shuffle before?\r\n\r\nOne of the big benefits we get with UCX is in the writes: because we are caching all the GPU blocks instead of writing them to files. That said, if the size of shuffle is rather large and causes us to spill, we will copy those raw bytes to disk on the spill (it doesn't go through the regular Spark compression/encryption (if enabled) pipe).\r\n\r\nThat said, if you are spending enough time writing shuffle before and all the bytes were to fit in GPU memory, I'd expect some performance improvement here because we are not writing to disk.\r\n\r\nOn the read, there seems to be an issue in your setup where RDMA isn't 100% there. Could you share the output of `ucx_info -d`? That would help the UCX team tell us what is missing. ",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1766924342/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1767002610",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1767002610",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1767002610,
        "node_id": "IC_kwDOD7z77c5pUlHy",
        "user": {
            "login": "Nikhilpa1",
            "id": 36602072,
            "node_id": "MDQ6VXNlcjM2NjAyMDcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/36602072?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Nikhilpa1",
            "html_url": "https://github.com/Nikhilpa1",
            "followers_url": "https://api.github.com/users/Nikhilpa1/followers",
            "following_url": "https://api.github.com/users/Nikhilpa1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Nikhilpa1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Nikhilpa1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Nikhilpa1/subscriptions",
            "organizations_url": "https://api.github.com/users/Nikhilpa1/orgs",
            "repos_url": "https://api.github.com/users/Nikhilpa1/repos",
            "events_url": "https://api.github.com/users/Nikhilpa1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Nikhilpa1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-17T19:08:01Z",
        "updated_at": "2023-10-17T19:08:12Z",
        "author_association": "NONE",
        "body": ">Can you remove the UCX_TLS setting and share the UCX logs for all executors?\r\n\r\nWhen run without UCX_TLS setting, facing lost executor,\r\n[Archive.zip](https://github.com/NVIDIA/spark-rapids/files/12940505/Archive.zip)\r\n\r\n>Could you share the output of ucx_info -d?\r\n\r\nPlease find it here: [ucx_info_d.txt](https://github.com/NVIDIA/spark-rapids/files/12941147/ucx_info_d.txt)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1767002610/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1767047032",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1767047032",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1767047032,
        "node_id": "IC_kwDOD7z77c5pUv94",
        "user": {
            "login": "abellina",
            "id": 1901059,
            "node_id": "MDQ6VXNlcjE5MDEwNTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1901059?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abellina",
            "html_url": "https://github.com/abellina",
            "followers_url": "https://api.github.com/users/abellina/followers",
            "following_url": "https://api.github.com/users/abellina/following{/other_user}",
            "gists_url": "https://api.github.com/users/abellina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abellina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abellina/subscriptions",
            "organizations_url": "https://api.github.com/users/abellina/orgs",
            "repos_url": "https://api.github.com/users/abellina/repos",
            "events_url": "https://api.github.com/users/abellina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abellina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-17T19:35:38Z",
        "updated_at": "2023-10-17T19:35:38Z",
        "author_association": "COLLABORATOR",
        "body": "It seems you have 3 machines: 10.1.1.10, 10.1.1.11, 10.1.1.12. I see 1 executor in .10, 3 executors in .11, and 3 executors in .12. \r\n\r\nCould you please run ucx_info -d in each machine?\r\n\r\nCould you also, please capture the UCX log for each machine? \r\n\r\nFor the` ucx_info -d` you provided, it seems to be OK. I see both en0 and mlx5_0:1. @yosefe @petro-rudenko fyi.\r\n\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1767047032/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1767062838",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1767062838",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1767062838,
        "node_id": "IC_kwDOD7z77c5pUz02",
        "user": {
            "login": "Nikhilpa1",
            "id": 36602072,
            "node_id": "MDQ6VXNlcjM2NjAyMDcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/36602072?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Nikhilpa1",
            "html_url": "https://github.com/Nikhilpa1",
            "followers_url": "https://api.github.com/users/Nikhilpa1/followers",
            "following_url": "https://api.github.com/users/Nikhilpa1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Nikhilpa1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Nikhilpa1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Nikhilpa1/subscriptions",
            "organizations_url": "https://api.github.com/users/Nikhilpa1/orgs",
            "repos_url": "https://api.github.com/users/Nikhilpa1/repos",
            "events_url": "https://api.github.com/users/Nikhilpa1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Nikhilpa1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-17T19:48:28Z",
        "updated_at": "2023-10-17T19:48:37Z",
        "author_association": "NONE",
        "body": "> Could you please run ucx_info -d in each machine?\r\n\r\n[ucx_info.zip](https://github.com/NVIDIA/spark-rapids/files/12946785/ucx_info.zip)\r\n\r\n> Could you also, please capture the UCX log for each machine?\r\n\r\n[ucx_logs_all_executors.log](https://github.com/NVIDIA/spark-rapids/files/12947513/ucx_logs_all_executors.log)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1767062838/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1767078803",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1767078803",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1767078803,
        "node_id": "IC_kwDOD7z77c5pU3uT",
        "user": {
            "login": "abellina",
            "id": 1901059,
            "node_id": "MDQ6VXNlcjE5MDEwNTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1901059?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abellina",
            "html_url": "https://github.com/abellina",
            "followers_url": "https://api.github.com/users/abellina/followers",
            "following_url": "https://api.github.com/users/abellina/following{/other_user}",
            "gists_url": "https://api.github.com/users/abellina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abellina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abellina/subscriptions",
            "organizations_url": "https://api.github.com/users/abellina/orgs",
            "repos_url": "https://api.github.com/users/abellina/repos",
            "events_url": "https://api.github.com/users/abellina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abellina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-17T19:59:38Z",
        "updated_at": "2023-10-17T19:59:38Z",
        "author_association": "COLLABORATOR",
        "body": "Thanks @Nikhilpa1 I meant without UCX_TLS or UCX_SOCKADDR_TLS_PRIORITY changes, so it would fail. I just want to see what each executor is seeing... thank you!",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1767078803/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1767123129",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1767123129",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1767123129,
        "node_id": "IC_kwDOD7z77c5pVCi5",
        "user": {
            "login": "Nikhilpa1",
            "id": 36602072,
            "node_id": "MDQ6VXNlcjM2NjAyMDcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/36602072?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Nikhilpa1",
            "html_url": "https://github.com/Nikhilpa1",
            "followers_url": "https://api.github.com/users/Nikhilpa1/followers",
            "following_url": "https://api.github.com/users/Nikhilpa1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Nikhilpa1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Nikhilpa1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Nikhilpa1/subscriptions",
            "organizations_url": "https://api.github.com/users/Nikhilpa1/orgs",
            "repos_url": "https://api.github.com/users/Nikhilpa1/repos",
            "events_url": "https://api.github.com/users/Nikhilpa1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Nikhilpa1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-17T20:30:33Z",
        "updated_at": "2023-10-17T20:30:33Z",
        "author_association": "NONE",
        "body": "Thanks, Without UCX_TLS and UCX_SOCKADDR_TLS_PRIORITY,\r\n[1697574255.756477] [gpu10:12245:a]       wireup_cm.c:147  UCX  DIAG  client ep 0x2acf1ffbf0b0 failed to connect to 10.1.1.11:26905 using rdmacm,tcp cms\r\n[1697574269.299272] [gpu10:12245:a]       rdmacm_cm.c:712  UCX  DIAG  [cep 0x2acfa0140bf0 <invalid>->10.1.1.11:30943 client Success] got error event RDMA_CM_EVENT_ADDR_ERROR, event status No such device (-19)\r\n[1697574269.299303] [gpu10:12245:a]          uct_cm.c:100  UCX  DIAG  resolve callback failed with error: Destination is unreachable\r\n[1697574269.299329] [gpu10:12245:1]       wireup_cm.c:91   UCX  DIAG  ep 0x2acf1ffbf0b0: client switching from rdmacm to tcp in attempt to connect to the server\r\n[1697574269.299766] [gpu10:12245:a]       wireup_cm.c:147  UCX  DIAG  client ep 0x2acf1ffbf0b0 failed to connect to 10.1.1.11:30943 using rdmacm,tcp cms\r\n[1697574269.299775] [gpu10:12245:a]          uct_cm.c:100  UCX  DIAG  resolve callback failed with error: Endpoint is not connected\r\n\r\nApplication Logs:\r\n[app-20231017162403-0006.zip](https://github.com/NVIDIA/spark-rapids/files/12953420/app-20231017162403-0006.zip",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1767123129/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1767127654",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1767127654",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1767127654,
        "node_id": "IC_kwDOD7z77c5pVDpm",
        "user": {
            "login": "abellina",
            "id": 1901059,
            "node_id": "MDQ6VXNlcjE5MDEwNTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1901059?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abellina",
            "html_url": "https://github.com/abellina",
            "followers_url": "https://api.github.com/users/abellina/followers",
            "following_url": "https://api.github.com/users/abellina/following{/other_user}",
            "gists_url": "https://api.github.com/users/abellina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abellina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abellina/subscriptions",
            "organizations_url": "https://api.github.com/users/abellina/orgs",
            "repos_url": "https://api.github.com/users/abellina/repos",
            "events_url": "https://api.github.com/users/abellina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abellina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-17T20:33:32Z",
        "updated_at": "2023-10-17T20:33:32Z",
        "author_association": "COLLABORATOR",
        "body": "This is great @Nikhilpa1 !\r\n\r\n```\r\nUsing Spark's default log4j profile: org/apache/spark/log4j2-defaults.properties\r\n[gpu12:2007 :1:2106]     ib_mlx5.c:1114 Assertion `(num_bb > 0) && (num_bb <= 4)' failed: num_bb=6\r\n\r\n/home/kanaka.3/projects/sources/ucx-1.14.0/src/uct/ib/mlx5/ib_mlx5.c: [ uct_ib_mlx5_txwq_validate_always() ]\r\n      ...\r\n     1110     uint16_t hw_ci;\r\n     1111 \r\n     1112     /* num_bb must be non-zero and not larger than MAX_BB */\r\n==>  1113     ucs_assertv((num_bb > 0) && (num_bb <= UCT_IB_MLX5_MAX_BB), \"num_bb=%u\",\r\n     1114                 num_bb);\r\n     1115 \r\n     1116     /* bb_max must be smaller than the full QP length */\r\n\r\n==== backtrace (tid:   2106) ====\r\n 0 0x000000000002af1a uct_ib_mlx5_txwq_validate_always()  /home/kanaka.3/projects/sources/ucx-1.14.0/src/uct/ib/mlx5/ib_mlx5.c:1113\r\n 1 0x000000000003f024 uct_ib_mlx5_txwq_validate()  /home/kanaka.3/projects/sources/ucx-1.14.0/src/uct/ib/mlx5/ib_mlx5.inl:193\r\n 2 0x000000000003f024 uct_rc_mlx5_common_post_send()  /home/kanaka.3/projects/sources/ucx-1.14.0/src/uct/ib/rc/accel/rc_mlx5.inl:462\r\n 3 0x000000000003f024 uct_rc_mlx5_txqp_inline_iov_post()  /home/kanaka.3/projects/sources/ucx-1.14.0/src/uct/ib/rc/accel/rc_mlx5.inl:499\r\n 4 0x000000000003f024 uct_rc_mlx5_ep_am_short_iov_inline()  /home/kanaka.3/projects/sources/ucx-1.14.0/src/uct/ib/rc/accel/rc_mlx5_ep.c:111\r\n 5 0x000000000003f024 uct_rc_mlx5_ep_am_short_iov()  /home/kanaka.3/projects/sources/ucx-1.14.0/src/uct/ib/rc/accel/rc_mlx5_ep.c:309\r\n 6 0x000000000002cd78 uct_ep_am_short_iov()  /home/kanaka.3/projects/sources/ucx-1.14.0/src/uct/api/uct.h:3008\r\n 7 0x000000000002cd78 ucp_am_contig_short()  /home/kanaka.3/projects/sources/ucx-1.14.0/src/ucp/core/ucp_am.c:582\r\n 8 0x00000000000ec2b5 ucp_request_try_send()  /home/kanaka.3/projects/sources/ucx-1.14.0/src/ucp/core/ucp_request.inl:334\r\n 9 0x00000000000ec2b5 ucp_request_send()  /home/kanaka.3/projects/sources/ucx-1.14.0/src/ucp/core/ucp_request.inl:357\r\n10 0x00000000000ec2b5 ucp_wireup_replay_pending_request()  /home/kanaka.3/projects/sources/ucx-1.14.0/src/ucp/wireup/wireup.c:984\r\n11 0x00000000000ec2b5 ucp_wireup_replay_pending_requests()  /home/kanaka.3/projects/sources/ucx-1.14.0/src/ucp/wireup/wireup.c:996\r\n12 0x00000000000ec78d ucp_wireup_eps_progress()  /home/kanaka.3/projects/sources/ucx-1.14.0/src/ucp/wireup/wireup.c:503\r\n13 0x0000000000055593 ucs_callbackq_slow_proxy()  /home/kanaka.3/projects/sources/ucx-1.14.0/src/ucs/datastruct/callbackq.c:404\r\n14 0x000000000005ba5a ucs_callbackq_dispatch()  /home/kanaka.3/projects/sources/ucx-1.14.0/src/ucs/datastruct/callbackq.h:211\r\n15 0x000000000005ba5a uct_worker_progress()  /home/kanaka.3/projects/sources/ucx-1.14.0/src/uct/api/uct.h:2768\r\n16 0x000000000005ba5a ucp_worker_progress()  /home/kanaka.3/projects/sources/ucx-1.14.0/src/ucp/core/ucp_worker.c:2807\r\n=================================\r\n```\r\n^^^^ @petro-rudenko @yosefe @sameerz  FYI. I need some help from the UCX team to figure out what is wrong in this scenario, but @Nikhilpa1's environment is triggering asserts and we are seeing this stack trace in several executors. Please see logs provided.",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1767127654/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1772999137",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9386#issuecomment-1772999137",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9386",
        "id": 1772999137,
        "node_id": "IC_kwDOD7z77c5prdHh",
        "user": {
            "login": "sameerz",
            "id": 7036315,
            "node_id": "MDQ6VXNlcjcwMzYzMTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7036315?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sameerz",
            "html_url": "https://github.com/sameerz",
            "followers_url": "https://api.github.com/users/sameerz/followers",
            "following_url": "https://api.github.com/users/sameerz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sameerz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sameerz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sameerz/subscriptions",
            "organizations_url": "https://api.github.com/users/sameerz/orgs",
            "repos_url": "https://api.github.com/users/sameerz/repos",
            "events_url": "https://api.github.com/users/sameerz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sameerz/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-10-20T15:58:12Z",
        "updated_at": "2023-10-20T15:58:12Z",
        "author_association": "COLLABORATOR",
        "body": "cc: @gleon99 who also might be able to help look at the logs.  ",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1772999137/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]
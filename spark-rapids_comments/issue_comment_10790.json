[
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/2106770982",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/10790#issuecomment-2106770982",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/10790",
        "id": 2106770982,
        "node_id": "IC_kwDOD7z77c59ksYm",
        "user": {
            "login": "zhanglistar",
            "id": 985418,
            "node_id": "MDQ6VXNlcjk4NTQxOA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/985418?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zhanglistar",
            "html_url": "https://github.com/zhanglistar",
            "followers_url": "https://api.github.com/users/zhanglistar/followers",
            "following_url": "https://api.github.com/users/zhanglistar/following{/other_user}",
            "gists_url": "https://api.github.com/users/zhanglistar/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zhanglistar/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zhanglistar/subscriptions",
            "organizations_url": "https://api.github.com/users/zhanglistar/orgs",
            "repos_url": "https://api.github.com/users/zhanglistar/repos",
            "events_url": "https://api.github.com/users/zhanglistar/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zhanglistar/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2024-05-13T06:43:16Z",
        "updated_at": "2024-05-13T06:43:16Z",
        "author_association": "NONE",
        "body": "Great!",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/2106770982/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/2116563175",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/10790#issuecomment-2116563175",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/10790",
        "id": 2116563175,
        "node_id": "IC_kwDOD7z77c5-KDDn",
        "user": {
            "login": "firestarman",
            "id": 7280411,
            "node_id": "MDQ6VXNlcjcyODA0MTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7280411?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/firestarman",
            "html_url": "https://github.com/firestarman",
            "followers_url": "https://api.github.com/users/firestarman/followers",
            "following_url": "https://api.github.com/users/firestarman/following{/other_user}",
            "gists_url": "https://api.github.com/users/firestarman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/firestarman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/firestarman/subscriptions",
            "organizations_url": "https://api.github.com/users/firestarman/orgs",
            "repos_url": "https://api.github.com/users/firestarman/repos",
            "events_url": "https://api.github.com/users/firestarman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/firestarman/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2024-05-17T03:32:44Z",
        "updated_at": "2024-05-17T03:33:48Z",
        "author_association": "COLLABORATOR",
        "body": "Celeborn works as a normal Spark shuffle manager, so Plugin always works well with it.\r\nThis issue is just to track if enabling GPU slicing and compression can get better perf when working with Celeborn. Or at least get better perf from some customer queries.",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/2116563175/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/2116579685",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/10790#issuecomment-2116579685",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/10790",
        "id": 2116579685,
        "node_id": "IC_kwDOD7z77c5-KHFl",
        "user": {
            "login": "waitinfuture",
            "id": 948245,
            "node_id": "MDQ6VXNlcjk0ODI0NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/948245?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/waitinfuture",
            "html_url": "https://github.com/waitinfuture",
            "followers_url": "https://api.github.com/users/waitinfuture/followers",
            "following_url": "https://api.github.com/users/waitinfuture/following{/other_user}",
            "gists_url": "https://api.github.com/users/waitinfuture/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/waitinfuture/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/waitinfuture/subscriptions",
            "organizations_url": "https://api.github.com/users/waitinfuture/orgs",
            "repos_url": "https://api.github.com/users/waitinfuture/repos",
            "events_url": "https://api.github.com/users/waitinfuture/events{/privacy}",
            "received_events_url": "https://api.github.com/users/waitinfuture/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2024-05-17T03:57:39Z",
        "updated_at": "2024-05-17T04:00:31Z",
        "author_association": "NONE",
        "body": "Hi, as a committer from Celeborn community, I'd like to help if any features are required from Celeborn, and you're always welcome to contribute to Celeborn :)",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/2116579685/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/2116739549",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/10790#issuecomment-2116739549",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/10790",
        "id": 2116739549,
        "node_id": "IC_kwDOD7z77c5-KuHd",
        "user": {
            "login": "firestarman",
            "id": 7280411,
            "node_id": "MDQ6VXNlcjcyODA0MTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7280411?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/firestarman",
            "html_url": "https://github.com/firestarman",
            "followers_url": "https://api.github.com/users/firestarman/followers",
            "following_url": "https://api.github.com/users/firestarman/following{/other_user}",
            "gists_url": "https://api.github.com/users/firestarman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/firestarman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/firestarman/subscriptions",
            "organizations_url": "https://api.github.com/users/firestarman/orgs",
            "repos_url": "https://api.github.com/users/firestarman/repos",
            "events_url": "https://api.github.com/users/firestarman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/firestarman/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2024-05-17T05:47:44Z",
        "updated_at": "2024-05-17T05:47:44Z",
        "author_association": "COLLABORATOR",
        "body": "Really appreciate that @waitinfuture. Will let you know if any action is required from Celeborn side.",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/2116739549/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 1,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/2122732707",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/10790#issuecomment-2122732707",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/10790",
        "id": 2122732707,
        "node_id": "IC_kwDOD7z77c5-hlSj",
        "user": {
            "login": "revans2",
            "id": 3441321,
            "node_id": "MDQ6VXNlcjM0NDEzMjE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3441321?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/revans2",
            "html_url": "https://github.com/revans2",
            "followers_url": "https://api.github.com/users/revans2/followers",
            "following_url": "https://api.github.com/users/revans2/following{/other_user}",
            "gists_url": "https://api.github.com/users/revans2/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/revans2/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/revans2/subscriptions",
            "organizations_url": "https://api.github.com/users/revans2/orgs",
            "repos_url": "https://api.github.com/users/revans2/repos",
            "events_url": "https://api.github.com/users/revans2/events{/privacy}",
            "received_events_url": "https://api.github.com/users/revans2/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2024-05-21T14:11:40Z",
        "updated_at": "2024-05-21T14:11:40Z",
        "author_association": "COLLABORATOR",
        "body": "I updated the name of this issue to make it clear. Our shuffle works with Celeborn, but the goal here is to improve the performance of that shuffle.\r\n\r\n@firestarman and @winningsix If we have patches that improve the performance could you please explain how GPU compression and slicing improves the performance? In the past we tried to do compression on the GPU as a part of shuffle and the performance was generally worse because of the opportunity cost.  Generally the CPU was mostly idle waiting for the GPU to finish, and by offloading the shuffle data to the CPU for compression improved the performance, especially if we could do the compression using multiple CPU threads. I really would like to understand how this improves performance, what tests have been run so we can know which situations should enable this and which should not. ",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/2122732707/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/2134433463",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/10790#issuecomment-2134433463",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/10790",
        "id": 2134433463,
        "node_id": "IC_kwDOD7z77c5_ON63",
        "user": {
            "login": "winningsix",
            "id": 2278268,
            "node_id": "MDQ6VXNlcjIyNzgyNjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2278268?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/winningsix",
            "html_url": "https://github.com/winningsix",
            "followers_url": "https://api.github.com/users/winningsix/followers",
            "following_url": "https://api.github.com/users/winningsix/following{/other_user}",
            "gists_url": "https://api.github.com/users/winningsix/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/winningsix/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/winningsix/subscriptions",
            "organizations_url": "https://api.github.com/users/winningsix/orgs",
            "repos_url": "https://api.github.com/users/winningsix/repos",
            "events_url": "https://api.github.com/users/winningsix/events{/privacy}",
            "received_events_url": "https://api.github.com/users/winningsix/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2024-05-28T06:24:58Z",
        "updated_at": "2024-05-28T06:24:58Z",
        "author_association": "COLLABORATOR",
        "body": "> I updated the name of this issue to make it clear. Our shuffle works with Celeborn, but the goal here is to improve the performance of that shuffle.\r\n> \r\n> @firestarman and @winningsix If we have patches that improve the performance could you please explain how GPU compression and slicing improves the performance? In the past we tried to do compression on the GPU as a part of shuffle and the performance was generally worse because of the opportunity cost. Generally the CPU was mostly idle waiting for the GPU to finish, and by offloading the shuffle data to the CPU for compression improved the performance, especially if we could do the compression using multiple CPU threads. I really would like to understand how this improves performance, what tests have been run so we can know which situations should enable this and which should not.\r\n\r\nThanks for the title update. It looks more suitable. The benefiting point comes from a notable compression ratio (saying 3 ~ 10) in customer queries. If higher CR, less time spent in device-to-host. We should introduce a heuristic approach to determine GPU shuffle based on the data pattern. For current case, I would suggest to start with compression ratio per batch as the determining point. For example, if the compression ratio > 3 for 1st batch handled by current executor, it will sit on GPU shuffle, otherwise CPU shuffle compression.",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/2134433463/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]
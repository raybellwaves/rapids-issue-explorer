[
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1079275538",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/5058#issuecomment-1079275538",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/5058",
        "id": 1079275538,
        "node_id": "IC_kwDOD7z77c5AVHAS",
        "user": {
            "login": "abellina",
            "id": 1901059,
            "node_id": "MDQ6VXNlcjE5MDEwNTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1901059?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abellina",
            "html_url": "https://github.com/abellina",
            "followers_url": "https://api.github.com/users/abellina/followers",
            "following_url": "https://api.github.com/users/abellina/following{/other_user}",
            "gists_url": "https://api.github.com/users/abellina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abellina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abellina/subscriptions",
            "organizations_url": "https://api.github.com/users/abellina/orgs",
            "repos_url": "https://api.github.com/users/abellina/repos",
            "events_url": "https://api.github.com/users/abellina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abellina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-03-25T18:06:26Z",
        "updated_at": "2022-03-25T18:06:26Z",
        "author_association": "COLLABORATOR",
        "body": "I'll take the add nvtx range task and report back task for now. It seems the issue as it stands isn't helpful enough to yield a change.",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1079275538/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1079298355",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/5058#issuecomment-1079298355",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/5058",
        "id": 1079298355,
        "node_id": "IC_kwDOD7z77c5AVMkz",
        "user": {
            "login": "jbrennan333",
            "id": 69316431,
            "node_id": "MDQ6VXNlcjY5MzE2NDMx",
            "avatar_url": "https://avatars.githubusercontent.com/u/69316431?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jbrennan333",
            "html_url": "https://github.com/jbrennan333",
            "followers_url": "https://api.github.com/users/jbrennan333/followers",
            "following_url": "https://api.github.com/users/jbrennan333/following{/other_user}",
            "gists_url": "https://api.github.com/users/jbrennan333/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jbrennan333/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jbrennan333/subscriptions",
            "organizations_url": "https://api.github.com/users/jbrennan333/orgs",
            "repos_url": "https://api.github.com/users/jbrennan333/repos",
            "events_url": "https://api.github.com/users/jbrennan333/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jbrennan333/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-03-25T18:35:02Z",
        "updated_at": "2022-03-25T18:35:15Z",
        "author_association": "COLLABORATOR",
        "body": "See also #4078\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1079298355/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1080823401",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/5058#issuecomment-1080823401",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/5058",
        "id": 1080823401,
        "node_id": "IC_kwDOD7z77c5AbA5p",
        "user": {
            "login": "abellina",
            "id": 1901059,
            "node_id": "MDQ6VXNlcjE5MDEwNTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1901059?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abellina",
            "html_url": "https://github.com/abellina",
            "followers_url": "https://api.github.com/users/abellina/followers",
            "following_url": "https://api.github.com/users/abellina/following{/other_user}",
            "gists_url": "https://api.github.com/users/abellina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abellina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abellina/subscriptions",
            "organizations_url": "https://api.github.com/users/abellina/orgs",
            "repos_url": "https://api.github.com/users/abellina/repos",
            "events_url": "https://api.github.com/users/abellina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abellina/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-03-28T15:52:47Z",
        "updated_at": "2022-03-28T16:02:48Z",
        "author_association": "COLLABORATOR",
        "body": "**For q78:** Ok in this case it is a join that is pulling on either side from an aggregate. The aggregate is the one doing pulling on a shuffle coalesce iterator to get blocks from the shuffle.\r\n\r\nBecause of this the SHJ optimization doesn't kick in. By the time we get the blocks it is too late. So this is a different case that can be optimized separately. It seems we need an iterator that knows to release the semaphore in a generic way for different types of execs (aggs, joins, others?)\r\n\r\n**For q95:** it is a similar pattern, but it is not the aggregate. The SHJ is pulling the build side from another exec node, and so it is already on the GPU (it has no way to release the semaphore).\r\n\r\n![Screenshot from 2022-03-28 10-50-41](https://user-images.githubusercontent.com/1901059/160437473-04584388-eac7-4b0b-b886-52a2a87a3f55.png)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1080823401/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1080969968",
        "html_url": "https://github.com/NVIDIA/spark-rapids/issues/5058#issuecomment-1080969968",
        "issue_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/5058",
        "id": 1080969968,
        "node_id": "IC_kwDOD7z77c5Abkrw",
        "user": {
            "login": "revans2",
            "id": 3441321,
            "node_id": "MDQ6VXNlcjM0NDEzMjE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3441321?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/revans2",
            "html_url": "https://github.com/revans2",
            "followers_url": "https://api.github.com/users/revans2/followers",
            "following_url": "https://api.github.com/users/revans2/following{/other_user}",
            "gists_url": "https://api.github.com/users/revans2/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/revans2/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/revans2/subscriptions",
            "organizations_url": "https://api.github.com/users/revans2/orgs",
            "repos_url": "https://api.github.com/users/revans2/repos",
            "events_url": "https://api.github.com/users/revans2/events{/privacy}",
            "received_events_url": "https://api.github.com/users/revans2/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-03-28T18:00:20Z",
        "updated_at": "2022-03-28T18:00:20Z",
        "author_association": "COLLABORATOR",
        "body": "Like I said in #4970 I think if we try to generalize all of this to be at the task/worker level it is going to make things a lot simpler. I really like what @jlowe said about #4964 in using CPU cores that are stuck waiting on the semaphore. If we had both in place we could do something like start to fetch shuffle data for an entire task, not just the one stream we are on right now. We could also release the semaphore when we know that I/O is required to start processing data. We could even look at starting to process a subset of the data if we have it ready to go.",
        "reactions": {
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/comments/1080969968/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]
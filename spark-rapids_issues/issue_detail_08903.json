{
    "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8903",
    "repository_url": "https://api.github.com/repos/NVIDIA/spark-rapids",
    "labels_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8903/labels{/name}",
    "comments_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8903/comments",
    "events_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8903/events",
    "html_url": "https://github.com/NVIDIA/spark-rapids/issues/8903",
    "id": 1831741168,
    "node_id": "I_kwDOD7z77c5tLibw",
    "number": 8903,
    "title": "[FEA] Limit host memory usage on python UDF execs.",
    "user": {
        "login": "revans2",
        "id": 3441321,
        "node_id": "MDQ6VXNlcjM0NDEzMjE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3441321?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/revans2",
        "html_url": "https://github.com/revans2",
        "followers_url": "https://api.github.com/users/revans2/followers",
        "following_url": "https://api.github.com/users/revans2/following{/other_user}",
        "gists_url": "https://api.github.com/users/revans2/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/revans2/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/revans2/subscriptions",
        "organizations_url": "https://api.github.com/users/revans2/orgs",
        "repos_url": "https://api.github.com/users/revans2/repos",
        "events_url": "https://api.github.com/users/revans2/events{/privacy}",
        "received_events_url": "https://api.github.com/users/revans2/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2586576266,
            "node_id": "MDU6TGFiZWwyNTg2NTc2MjY2",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/task",
            "name": "task",
            "color": "65abf7",
            "default": false,
            "description": "Work required that improves the product but is not user facing"
        },
        {
            "id": 4029093938,
            "node_id": "LA_kwDOD7z77c7wJxgy",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/reliability",
            "name": "reliability",
            "color": "2654AF",
            "default": false,
            "description": "Features to improve reliability or bugs that severly impact the reliability of the plugin"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2023-08-01T17:35:59Z",
    "updated_at": "2023-11-27T17:10:09Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "**Is your feature request related to a problem? Please describe.**\r\n\r\nhttps://github.com/NVIDIA/spark-rapids/issues/9862 should add a hard limit to most off heap host memory used.\r\n\r\nThis might get to be a little complicated. Internally this goes from CUDF GPU to Arrow CPU and from Arrow CPU across the wire to python.  We also reverse it coming back. There is a small 10 MiB buffer allocated by java for this, but that is more of a bounce buffer. The CPU data allocated for arrow is where most of the memory would come from. I honestly don't know if we can insert some way to have arrow allocate the data from what we want and to reserve it/spill.  Probably not.  If we cannot figure this out, then we probably need to do something with the overhead for the tasks to try and account for this, or at least document it in some way.\r\n\r\nIf we can change how the allocation works, then we should add in retry blocks around those allocations. If we cannot, which is likely the case, then we need to document how this all works.",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8903/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8903/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
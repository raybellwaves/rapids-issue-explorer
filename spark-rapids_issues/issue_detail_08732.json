{
    "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8732",
    "repository_url": "https://api.github.com/repos/NVIDIA/spark-rapids",
    "labels_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8732/labels{/name}",
    "comments_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8732/comments",
    "events_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8732/events",
    "html_url": "https://github.com/NVIDIA/spark-rapids/issues/8732",
    "id": 1807862252,
    "node_id": "I_kwDOD7z77c5rwcns",
    "number": 8732,
    "title": "[FEA] Explore using NVML to query GPU counters at runtime",
    "user": {
        "login": "abellina",
        "id": 1901059,
        "node_id": "MDQ6VXNlcjE5MDEwNTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1901059?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/abellina",
        "html_url": "https://github.com/abellina",
        "followers_url": "https://api.github.com/users/abellina/followers",
        "following_url": "https://api.github.com/users/abellina/following{/other_user}",
        "gists_url": "https://api.github.com/users/abellina/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/abellina/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/abellina/subscriptions",
        "organizations_url": "https://api.github.com/users/abellina/orgs",
        "repos_url": "https://api.github.com/users/abellina/repos",
        "events_url": "https://api.github.com/users/abellina/events{/privacy}",
        "received_events_url": "https://api.github.com/users/abellina/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2061735884,
            "node_id": "MDU6TGFiZWwyMDYxNzM1ODg0",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/feature%20request",
            "name": "feature request",
            "color": "a2eeef",
            "default": false,
            "description": "New feature or request"
        },
        {
            "id": 3002001655,
            "node_id": "MDU6TGFiZWwzMDAyMDAxNjU1",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/ease%20of%20use",
            "name": "ease of use",
            "color": "5500FD",
            "default": false,
            "description": "Makes the product simpler to use or configure"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2023-07-17T14:02:34Z",
    "updated_at": "2023-07-18T21:06:43Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "NVML (https://developer.nvidia.com/nvidia-management-library-nvml) is a library by NVIDIA that provides methods to query a device at runtime. It is the backend of `nvidia-smi`. \r\n\r\nThis task is to look into the NVML API and limitations, performance penalties, and expected sampling error. A PoC should demonstrate the expected call pattern from the spark-rapids plugin to surface useful metrics. Note that API functions like `nvmlDeviceGetSamples` are device-centric (as I believe all functions are). As such we would need to think about ways to expose metrics to the user in the Spark UI, or via logging.\r\n\r\nThe API above can be used to query a snapshot given a `lastSeenTimeStamp`. The types of information are defined in `nvmSamplingType_t`, and can be things like: power drawn by the GPU, GPU utilization percent of time, memory utilization percent of time, and others. Also note that this ticket wouldn't be limited to `nvmlDeviceGetSamples`.\r\n",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8732/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8732/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
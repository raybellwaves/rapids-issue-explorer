{
    "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/7143",
    "repository_url": "https://api.github.com/repos/NVIDIA/spark-rapids",
    "labels_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/7143/labels{/name}",
    "comments_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/7143/comments",
    "events_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/7143/events",
    "html_url": "https://github.com/NVIDIA/spark-rapids/issues/7143",
    "id": 1460421965,
    "node_id": "I_kwDOD7z77c5XDEVN",
    "number": 7143,
    "title": "[AUDIT] Investigate change in \"partial results\" semantics for JSON read",
    "user": {
        "login": "mythrocks",
        "id": 5607330,
        "node_id": "MDQ6VXNlcjU2MDczMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5607330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mythrocks",
        "html_url": "https://github.com/mythrocks",
        "followers_url": "https://api.github.com/users/mythrocks/followers",
        "following_url": "https://api.github.com/users/mythrocks/following{/other_user}",
        "gists_url": "https://api.github.com/users/mythrocks/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mythrocks/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mythrocks/subscriptions",
        "organizations_url": "https://api.github.com/users/mythrocks/orgs",
        "repos_url": "https://api.github.com/users/mythrocks/repos",
        "events_url": "https://api.github.com/users/mythrocks/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mythrocks/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2061735874,
            "node_id": "MDU6TGFiZWwyMDYxNzM1ODc0",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/bug",
            "name": "bug",
            "color": "d73a4a",
            "default": true,
            "description": "Something isn't working"
        },
        {
            "id": 4073796705,
            "node_id": "LA_kwDOD7z77c7y0TRh",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/audit_3.4.0",
            "name": "audit_3.4.0",
            "color": "8310E8",
            "default": false,
            "description": "Audit related tasks for 3.4.0"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-11-22T19:12:23Z",
    "updated_at": "2022-11-22T20:17:18Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "**Description**\r\n[SPARK-40646](https://github.com/apache/spark/commit/31721baca4) introduces a subtle change to how partial parse results are reported when reading JSON input. If the parse on one column fails, the column that follows is also reported as null.\r\n\r\nWe need to check whether `GpuReadJsonFileFormat` produces null values in the same way.\r\n\r\n**Steps/Code to reproduce bug**\r\nFrom the commit message, reading the following input:\r\n```json\r\n{\"a\": {\"x\": 1, \"y\": true}, \"b\": {\"x\": 1}}\r\n{\"a\": {\"x\": 2}, \"b\": {\"x\": 2}}\r\n```\r\nvia the following schema:\r\n```scala\r\nval df = spark.read\r\n  .schema(\"a struct<x: int, y: struct<x: int>>, b struct<x: int>\")\r\n  .json(\"path\")\r\n```\r\nproduces the following result:\r\n```\r\na\t                b\r\n=================================\r\nnull\t                null\r\n{\"x\":2,\"y\":null}\t{\"x\":2}\r\n```\r\n\r\n**Expected behavior**\r\nThe results should have been:\r\n```\r\na\t                b\r\n=================================\r\nnull\t                {\"x\":1}\r\n{\"x\":2,\"y\":null}\t{\"x\":2}\r\n```\r\n\r\nNote: This was apparently a regression introduced by [SPARK-33134](https://issues.apache.org/jira/browse/SPARK-33134).",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/7143/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/7143/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
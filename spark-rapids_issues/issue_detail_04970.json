{
    "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/4970",
    "repository_url": "https://api.github.com/repos/NVIDIA/spark-rapids",
    "labels_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/4970/labels{/name}",
    "comments_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/4970/comments",
    "events_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/4970/events",
    "html_url": "https://github.com/NVIDIA/spark-rapids/issues/4970",
    "id": 1171602196,
    "node_id": "I_kwDOD7z77c5F1TsU",
    "number": 4970,
    "title": "[FEA] Explore worker level manager for releasing GPU semaphore",
    "user": {
        "login": "revans2",
        "id": 3441321,
        "node_id": "MDQ6VXNlcjM0NDEzMjE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3441321?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/revans2",
        "html_url": "https://github.com/revans2",
        "followers_url": "https://api.github.com/users/revans2/followers",
        "following_url": "https://api.github.com/users/revans2/following{/other_user}",
        "gists_url": "https://api.github.com/users/revans2/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/revans2/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/revans2/subscriptions",
        "organizations_url": "https://api.github.com/users/revans2/orgs",
        "repos_url": "https://api.github.com/users/revans2/repos",
        "events_url": "https://api.github.com/users/revans2/events{/privacy}",
        "received_events_url": "https://api.github.com/users/revans2/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2094500742,
            "node_id": "MDU6TGFiZWwyMDk0NTAwNzQy",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/performance",
            "name": "performance",
            "color": "d845b1",
            "default": false,
            "description": "A performance related task/issue"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-03-16T22:03:05Z",
    "updated_at": "2023-05-15T17:19:12Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "We have tried a few times to come up with a heuristic that is specific to different operations on when to release the GPU semaphore, but have never come up with a solution that actually works generally. I think that we should explore a system where the task itself will never release the semaphore. It will give information to a central controller that will decide when it is good to release the semaphore and when it is best to not.\r\n\r\nIn the first go at it I would propose that we only release the semaphore if the current task owns the semaphore and when it goes to get more data to read it is not instantly ready to be processed.  In the future we could extend the intelligence to guess at how long it might be to finish reading the data and compare it to the cost of spilling all of the data that is currently spillable by this task. Or it could even decide to process as much data as is currently cached if it is above a threshold and then let more data be collected in the background.",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/4970/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/4970/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
{
    "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6390",
    "repository_url": "https://api.github.com/repos/NVIDIA/spark-rapids",
    "labels_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6390/labels{/name}",
    "comments_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6390/comments",
    "events_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6390/events",
    "html_url": "https://github.com/NVIDIA/spark-rapids/issues/6390",
    "id": 1346791234,
    "node_id": "I_kwDOD7z77c5QRmdC",
    "number": 6390,
    "title": "[FEA] Explore performance optimizations for GpuDecimal multiply and divide",
    "user": {
        "login": "revans2",
        "id": 3441321,
        "node_id": "MDQ6VXNlcjM0NDEzMjE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3441321?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/revans2",
        "html_url": "https://github.com/revans2",
        "followers_url": "https://api.github.com/users/revans2/followers",
        "following_url": "https://api.github.com/users/revans2/following{/other_user}",
        "gists_url": "https://api.github.com/users/revans2/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/revans2/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/revans2/subscriptions",
        "organizations_url": "https://api.github.com/users/revans2/orgs",
        "repos_url": "https://api.github.com/users/revans2/repos",
        "events_url": "https://api.github.com/users/revans2/events{/privacy}",
        "received_events_url": "https://api.github.com/users/revans2/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2094500742,
            "node_id": "MDU6TGFiZWwyMDk0NTAwNzQy",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/performance",
            "name": "performance",
            "color": "d845b1",
            "default": false,
            "description": "A performance related task/issue"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-08-22T18:01:07Z",
    "updated_at": "2022-08-23T19:33:54Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "**Is your feature request related to a problem? Please describe.**\r\nThere are a number of performance optimizations that we should look into with GpuDecimalMultiply and GpuDecimalDivide.\r\n\r\nThere is a lot of overflow checking that happens as a part of these operations that is not strictly needed.  Any multiply operation where the result fits in a precision of < 38 should not need any overflow checks. It should just work. I think there are similar things with divide that we need to look into.\r\n\r\nThe other thing we should look at is if we should just move all of the multiply/divide operations to use the new custom kernels in spark-rapids-jni.  Note that this should wait until after we have optimized those kernels some more https://github.com/NVIDIA/spark-rapids/issues/6389.\r\n\r\nFrom the testing (at least for multiply) the new kernel was faster than the existing set of kernels that we used to do the multiply and to check for overflows.  If that is still true after both of them are optimized, then we should look into updating the kernel so it can read/write decimal32/decimal64 too in addition to decimal128.\r\n\r\nIf the old code is faster, then we should look into writing a custom kernel to get the value from the column that has the largest effective precision so we can figure out if we can do the multiply or divide operation as a smaller data type.",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6390/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6390/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
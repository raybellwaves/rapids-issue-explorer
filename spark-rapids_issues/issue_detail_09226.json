{
    "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9226",
    "repository_url": "https://api.github.com/repos/NVIDIA/spark-rapids",
    "labels_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9226/labels{/name}",
    "comments_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9226/comments",
    "events_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9226/events",
    "html_url": "https://github.com/NVIDIA/spark-rapids/issues/9226",
    "id": 1893122845,
    "node_id": "I_kwDOD7z77c5w1sMd",
    "number": 9226,
    "title": "Make pre-merge CI close to the nightly and release pipelines",
    "user": {
        "login": "gerashegalov",
        "id": 3187938,
        "node_id": "MDQ6VXNlcjMxODc5Mzg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3187938?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gerashegalov",
        "html_url": "https://github.com/gerashegalov",
        "followers_url": "https://api.github.com/users/gerashegalov/followers",
        "following_url": "https://api.github.com/users/gerashegalov/following{/other_user}",
        "gists_url": "https://api.github.com/users/gerashegalov/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/gerashegalov/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gerashegalov/subscriptions",
        "organizations_url": "https://api.github.com/users/gerashegalov/orgs",
        "repos_url": "https://api.github.com/users/gerashegalov/repos",
        "events_url": "https://api.github.com/users/gerashegalov/events{/privacy}",
        "received_events_url": "https://api.github.com/users/gerashegalov/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2094874947,
            "node_id": "MDU6TGFiZWwyMDk0ODc0OTQ3",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/test",
            "name": "test",
            "color": "60d6d4",
            "default": false,
            "description": "Only impacts tests"
        },
        {
            "id": 2137414845,
            "node_id": "MDU6TGFiZWwyMTM3NDE0ODQ1",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/build",
            "name": "build",
            "color": "0052cc",
            "default": false,
            "description": "Related to CI / CD or cleanly building"
        },
        {
            "id": 3444490915,
            "node_id": "LA_kwDOD7z77c7NTsKj",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/tech%20debt",
            "name": "tech debt",
            "color": "0052cc",
            "default": false,
            "description": ""
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2023-09-12T19:25:18Z",
    "updated_at": "2023-09-26T18:43:12Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "It is hard to improve and refactor our Maven build without breaking the nightly/release pipeline.\r\n\r\nThe issues with in the distributed shim build are detected late and hard to attribute to the root cause. To left-shift the detection of pretty basic (in terms of distributed build logic) build issues we should make pre-merge build done similarly to the nightly. \r\n\r\nI believe the build flow of the distributed build can be mimicked to catch the issues seen with #9213 even in the context of a single shim. Basically all targets downstream of the aggregator  and dist submodules cannot use the artifacts from the m2 cache nor from the project build directory.\r\n\r\nEven if the deploy of an intermediate artifacts to the remote  Maven snapshots repo is not in option, we should let the deploy scripts to deploy to URM_URL=file:/path/to/local/deploy-m2-repo\r\n\r\nthe downstream submodules should be built on a clean -Dmaven.repo.local and using URM_URL=file:/path/to/local/deploy-m2-repo populated using explicit deploys from deploy.sh just like the nightly build flow.",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9226/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/9226/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
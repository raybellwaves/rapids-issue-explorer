{
    "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8752",
    "repository_url": "https://api.github.com/repos/NVIDIA/spark-rapids",
    "labels_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8752/labels{/name}",
    "comments_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8752/comments",
    "events_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8752/events",
    "html_url": "https://github.com/NVIDIA/spark-rapids/issues/8752",
    "id": 1812213046,
    "node_id": "I_kwDOD7z77c5sBC02",
    "number": 8752,
    "title": "[BUG] Add leak checking in spillable framework",
    "user": {
        "login": "abellina",
        "id": 1901059,
        "node_id": "MDQ6VXNlcjE5MDEwNTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1901059?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/abellina",
        "html_url": "https://github.com/abellina",
        "followers_url": "https://api.github.com/users/abellina/followers",
        "following_url": "https://api.github.com/users/abellina/following{/other_user}",
        "gists_url": "https://api.github.com/users/abellina/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/abellina/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/abellina/subscriptions",
        "organizations_url": "https://api.github.com/users/abellina/orgs",
        "repos_url": "https://api.github.com/users/abellina/repos",
        "events_url": "https://api.github.com/users/abellina/events{/privacy}",
        "received_events_url": "https://api.github.com/users/abellina/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2061735874,
            "node_id": "MDU6TGFiZWwyMDYxNzM1ODc0",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/bug",
            "name": "bug",
            "color": "d73a4a",
            "default": true,
            "description": "Something isn't working"
        },
        {
            "id": 2094500742,
            "node_id": "MDU6TGFiZWwyMDk0NTAwNzQy",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/performance",
            "name": "performance",
            "color": "d845b1",
            "default": false,
            "description": "A performance related task/issue"
        },
        {
            "id": 4029093938,
            "node_id": "LA_kwDOD7z77c7wJxgy",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/reliability",
            "name": "reliability",
            "color": "2654AF",
            "default": false,
            "description": "Features to improve reliability or bugs that severly impact the reliability of the plugin"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2023-07-19T15:37:16Z",
    "updated_at": "2023-07-20T15:40:40Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "The spill framework doesn't check for leaks, period. In fact, it defeats the cuDF leak checker and puts the burden of leak checking on the developer and reviews solely.\r\n\r\nWe should look at adapting the MemoryCleaner in cuDF for this purpose, so we don't reuse the wheel (or parts of it). But we should have something that checks whether a `SpillableColumnarBatch` or `SpillableBuffer` was GC'ed and the handle that it should have closed wasn't. We would need to make some exceptions for broadcast here, as this is handled by the finalizer but this is not something we should rely on long term (so we should make this case explicit, \"it shall leak\" like in the cuDF MemoryCleaner impl).\r\n\r\nThis is both performance and reliability because leaking spillables can lead to host/disk filling up, and the performance loss around spilling buffers that will never be reused. ",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8752/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8752/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
{
    "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6385",
    "repository_url": "https://api.github.com/repos/NVIDIA/spark-rapids",
    "labels_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6385/labels{/name}",
    "comments_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6385/comments",
    "events_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6385/events",
    "html_url": "https://github.com/NVIDIA/spark-rapids/issues/6385",
    "id": 1346631765,
    "node_id": "I_kwDOD7z77c5QQ_hV",
    "number": 6385,
    "title": "[SPARK-37980][SQL] Extend METADATA column to support row indexes for Parquet files",
    "user": {
        "login": "amahussein",
        "id": 50450311,
        "node_id": "MDQ6VXNlcjUwNDUwMzEx",
        "avatar_url": "https://avatars.githubusercontent.com/u/50450311?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amahussein",
        "html_url": "https://github.com/amahussein",
        "followers_url": "https://api.github.com/users/amahussein/followers",
        "following_url": "https://api.github.com/users/amahussein/following{/other_user}",
        "gists_url": "https://api.github.com/users/amahussein/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/amahussein/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/amahussein/subscriptions",
        "organizations_url": "https://api.github.com/users/amahussein/orgs",
        "repos_url": "https://api.github.com/users/amahussein/repos",
        "events_url": "https://api.github.com/users/amahussein/events{/privacy}",
        "received_events_url": "https://api.github.com/users/amahussein/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2061735884,
            "node_id": "MDU6TGFiZWwyMDYxNzM1ODg0",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/feature%20request",
            "name": "feature request",
            "color": "a2eeef",
            "default": false,
            "description": "New feature or request"
        },
        {
            "id": 4073796705,
            "node_id": "LA_kwDOD7z77c7y0TRh",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/audit_3.4.0",
            "name": "audit_3.4.0",
            "color": "8310E8",
            "default": false,
            "description": "Audit related tasks for 3.4.0"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-08-22T15:53:40Z",
    "updated_at": "2022-08-23T19:47:37Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "#### Context\r\n\r\n- Spark 3.4: https://github.com/apache/spark/commit/95aebcbf10\r\n\r\n#### What changes were proposed in SPARK pull request?\r\n\r\nThis change adds `row_index` column to `_metadata` struct. This column allows us to uniquely identify\r\nrows read from a given file with an index number.\r\nThe n-th row  in a given file with be assigned `n-1` row index in every scan of the file, irrespective\r\nof file splitting and data skipping in use.\r\n\r\nThe new column requires file format specific support.\r\nThis change introduces Parquet support, and other formats can follow later.\r\n\r\n#### Why are the changes needed in Spark?\r\n\r\nRow Indexes can be used in a variety of ways. A (fileName, rowIndex) tuple uniquely identifies a row\r\nin a table. This information can be used to mark rows e.g. can be used to create an indexer.\r\n\r\n#### Does this PR introduce _any_ user-facing change?\r\n\r\nYes.\r\n- With this change the customers will be able to access `_metadata.row_index` metadata column\r\nwhen reading Parquet data.\r\n- The schema of `_matadata` column remains unchanged for file formats without\r\nrow index support.\r\n\r\n#### Why it might affect RAPIDS?\r\n\r\nYes\r\n\r\n- The plugin won't be affected reading files without row index support.\r\n- Reading the new files supporting row_index by the GPU will be affected.\r\n  - Change in schema of the format.\r\n  - If the GPU does not support the row_index, then fall back to CPU.\r\n\r\n#### Impact on Testing?\r\n\r\nYes\r\n\r\n#### Requires Doc update?\r\n\r\nNo\r\n",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6385/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6385/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
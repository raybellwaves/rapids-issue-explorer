{
    "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6552",
    "repository_url": "https://api.github.com/repos/NVIDIA/spark-rapids",
    "labels_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6552/labels{/name}",
    "comments_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6552/comments",
    "events_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6552/events",
    "html_url": "https://github.com/NVIDIA/spark-rapids/issues/6552",
    "id": 1371833996,
    "node_id": "I_kwDOD7z77c5RxIaM",
    "number": 6552,
    "title": "[FEA] Optimize GpuCachedDoublePassWindowExec for single batch",
    "user": {
        "login": "revans2",
        "id": 3441321,
        "node_id": "MDQ6VXNlcjM0NDEzMjE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3441321?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/revans2",
        "html_url": "https://github.com/revans2",
        "followers_url": "https://api.github.com/users/revans2/followers",
        "following_url": "https://api.github.com/users/revans2/following{/other_user}",
        "gists_url": "https://api.github.com/users/revans2/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/revans2/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/revans2/subscriptions",
        "organizations_url": "https://api.github.com/users/revans2/orgs",
        "repos_url": "https://api.github.com/users/revans2/repos",
        "events_url": "https://api.github.com/users/revans2/events{/privacy}",
        "received_events_url": "https://api.github.com/users/revans2/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2094500742,
            "node_id": "MDU6TGFiZWwyMDk0NTAwNzQy",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/performance",
            "name": "performance",
            "color": "d845b1",
            "default": false,
            "description": "A performance related task/issue"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-09-13T18:14:40Z",
    "updated_at": "2022-09-13T20:02:43Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "As a part of https://github.com/NVIDIA/spark-rapids/pull/6550 we added in support for doing a count with unbounded preceding to unbounded following in multiple batches. This dropped the performance of percent_rank by a non-trivial amount. One way to get some of this back (especially for the common case when there is only a single batch) is to optimize GpuCachedDoublePassWindowExec to know that there is just a single batch being output by the sort and can bypass the fixup and caching to get the right answer.  GpuRunningWindowExec already has an optimization like this, but because the double pass window exec can happen after a running window exec we need to also make sure that it too is tagging the output batch so that we know which is the last batch.",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6552/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6552/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
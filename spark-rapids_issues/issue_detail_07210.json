{
    "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/7210",
    "repository_url": "https://api.github.com/repos/NVIDIA/spark-rapids",
    "labels_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/7210/labels{/name}",
    "comments_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/7210/comments",
    "events_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/7210/events",
    "html_url": "https://github.com/NVIDIA/spark-rapids/issues/7210",
    "id": 1470000045,
    "node_id": "I_kwDOD7z77c5Xnmut",
    "number": 7210,
    "title": "[BUG] Databricks build script does not install Iceberg jars",
    "user": {
        "login": "amahussein",
        "id": 50450311,
        "node_id": "MDQ6VXNlcjUwNDUwMzEx",
        "avatar_url": "https://avatars.githubusercontent.com/u/50450311?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amahussein",
        "html_url": "https://github.com/amahussein",
        "followers_url": "https://api.github.com/users/amahussein/followers",
        "following_url": "https://api.github.com/users/amahussein/following{/other_user}",
        "gists_url": "https://api.github.com/users/amahussein/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/amahussein/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/amahussein/subscriptions",
        "organizations_url": "https://api.github.com/users/amahussein/orgs",
        "repos_url": "https://api.github.com/users/amahussein/repos",
        "events_url": "https://api.github.com/users/amahussein/events{/privacy}",
        "received_events_url": "https://api.github.com/users/amahussein/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2061735874,
            "node_id": "MDU6TGFiZWwyMDYxNzM1ODc0",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/bug",
            "name": "bug",
            "color": "d73a4a",
            "default": true,
            "description": "Something isn't working"
        },
        {
            "id": 2223784867,
            "node_id": "MDU6TGFiZWwyMjIzNzg0ODY3",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/P2",
            "name": "P2",
            "color": "8ff7b9",
            "default": false,
            "description": "Not required for release"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-11-30T17:38:05Z",
    "updated_at": "2022-12-06T21:34:11Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "**Describe the bug**\r\n\r\nWhile working on #7174, it was found that  Iceberg dependencies are not pulling the jars provided by DB.\r\n\r\nFor now, this bug does not impact the release because we do not support iceberg on Databricks.\r\n\r\nFor future purpose, we need to:\r\n\r\n- modify ./jenkins/databricks/build.sh to install the dependency jars\r\n  ```\r\n    #3.3.0\r\n    # ----ws_3_3--vendor--iceberg--iceberg-converter_2.12_deploy_shaded.jar\r\n    # ----ws_3_3--vendor--iceberg--iceberg-spark3-runtime_shaded_shaded-for-iceberg-converter.jar\r\n    #3.2.1\r\n    # /databricks/jars/----workspace_spark_3_2--vendor--iceberg--iceberg-converter_2.12_deploy_shaded.jar\r\n    # /databricks/jars/----workspace_spark_3_2--vendor--iceberg--iceberg-spark3-runtime_shaded_shaded-for-iceberg-converter.jar\r\n    #3.1.2\r\n    # /databricks/jars/----workspace_spark_3_1--vendor--iceberg--iceberg-converter_2.12_deploy_shaded.jar\r\n    # /databricks/jars/----workspace_spark_3_1--vendor--iceberg--iceberg-spark3-runtime_shaded_shaded-for-iceberg-converter.jar\r\n  ```\r\n- modify `./jenkins/databricks/test.sh` by removing the packages installation in `ICEBERG_CONFS`\r\n- modify `pom.xml` so that DB profiles would pick the correct `SPARK_VERSION` for Iceberg dependencies.\r\n- Add shims for Iceberg Databricks to handle shaded jars if necessary.",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/7210/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/7210/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
{
    "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/3106",
    "repository_url": "https://api.github.com/repos/NVIDIA/spark-rapids",
    "labels_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/3106/labels{/name}",
    "comments_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/3106/comments",
    "events_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/3106/events",
    "html_url": "https://github.com/NVIDIA/spark-rapids/issues/3106",
    "id": 956976953,
    "node_id": "MDU6SXNzdWU5NTY5NzY5NTM=",
    "number": 3106,
    "title": "[FEA] Use clientId to reject connection requests for peers with existing UCX endpoints",
    "user": {
        "login": "abellina",
        "id": 1901059,
        "node_id": "MDQ6VXNlcjE5MDEwNTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1901059?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/abellina",
        "html_url": "https://github.com/abellina",
        "followers_url": "https://api.github.com/users/abellina/followers",
        "following_url": "https://api.github.com/users/abellina/following{/other_user}",
        "gists_url": "https://api.github.com/users/abellina/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/abellina/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/abellina/subscriptions",
        "organizations_url": "https://api.github.com/users/abellina/orgs",
        "repos_url": "https://api.github.com/users/abellina/repos",
        "events_url": "https://api.github.com/users/abellina/events{/privacy}",
        "received_events_url": "https://api.github.com/users/abellina/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2061735884,
            "node_id": "MDU6TGFiZWwyMDYxNzM1ODg0",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/feature%20request",
            "name": "feature request",
            "color": "a2eeef",
            "default": false,
            "description": "New feature or request"
        },
        {
            "id": 2096543664,
            "node_id": "MDU6TGFiZWwyMDk2NTQzNjY0",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/shuffle",
            "name": "shuffle",
            "color": "67fc73",
            "default": false,
            "description": "things that impact the shuffle plugin"
        },
        {
            "id": 2223784867,
            "node_id": "MDU6TGFiZWwyMjIzNzg0ODY3",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/P2",
            "name": "P2",
            "color": "8ff7b9",
            "default": false,
            "description": "Not required for release"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-07-30T18:33:01Z",
    "updated_at": "2021-08-03T20:29:29Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "This is a tracking issue for work that is going to go into UCX 1.12, so it won't be done anytime soon. That said, I'd like to use this to track our progress testing it.\r\n\r\nThe issue is that when we connect to peer executors there are two ways of doing that: connect to peer UcpListener, or a peer is connecting to our UcpListener. When we handle a connection from a peer we do not know anything about the remote peer (we just get a \"connection request\" object from UCX but it doesn't have any id). Because of this, we need to create UCX endpoints and handshake data, which can cause us to loose a race adding extra UCX endpoints. This is not a functional bug, but a resource waste we'd like to fix.\r\n\r\nIn UCX 1.12 executor A should be able to send the executorId with the connection request to a peer (B), and the request may be rejected if executor B already had initiated a request to executor A.\r\n\r\nThis is blocked by: https://github.com/openucx/ucx/pull/7136, and the JUCX jar + UCX native libraries for 1.12 being available.",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/3106/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/3106/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
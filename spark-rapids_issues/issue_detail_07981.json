{
    "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/7981",
    "repository_url": "https://api.github.com/repos/NVIDIA/spark-rapids",
    "labels_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/7981/labels{/name}",
    "comments_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/7981/comments",
    "events_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/7981/events",
    "html_url": "https://github.com/NVIDIA/spark-rapids/issues/7981",
    "id": 1647999165,
    "node_id": "I_kwDOD7z77c5iOni9",
    "number": 7981,
    "title": "[FEA] Make rapids-4-spark-private an opt-out dependency",
    "user": {
        "login": "gerashegalov",
        "id": 3187938,
        "node_id": "MDQ6VXNlcjMxODc5Mzg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3187938?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gerashegalov",
        "html_url": "https://github.com/gerashegalov",
        "followers_url": "https://api.github.com/users/gerashegalov/followers",
        "following_url": "https://api.github.com/users/gerashegalov/following{/other_user}",
        "gists_url": "https://api.github.com/users/gerashegalov/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/gerashegalov/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gerashegalov/subscriptions",
        "organizations_url": "https://api.github.com/users/gerashegalov/orgs",
        "repos_url": "https://api.github.com/users/gerashegalov/repos",
        "events_url": "https://api.github.com/users/gerashegalov/events{/privacy}",
        "received_events_url": "https://api.github.com/users/gerashegalov/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2061735884,
            "node_id": "MDU6TGFiZWwyMDYxNzM1ODg0",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/feature%20request",
            "name": "feature request",
            "color": "a2eeef",
            "default": false,
            "description": "New feature or request"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2023-03-30T17:08:34Z",
    "updated_at": "2023-04-04T20:10:01Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "**Is your feature request related to a problem? Please describe.**\r\nI wish the RAPIDS Accelerator for Apache Spark would make rapids-4-spark-private an optional dependency. Such that a production or test deployment not requiring its features can happen without it being physically integrated into a final dist jar\r\n\r\n**Describe the solution you'd like**\r\nwe can change\r\nhttps://github.com/NVIDIA/spark-rapids/blob/08acf63728c61bfc27fa3b3f2065c012288bade6/sql-plugin/src/main/scala/com/nvidia/spark/rapids/Plugin.scala#L205-L217\r\ninstead.\r\nsuch that it can subtract classes from another list (so we don't have to reveal/hardcode what classes we want to actually exclude)\r\n\r\nThis way it should also possible to have build profiles that do not require a private jar for quicker iterations and guaranteed zero-side-effects \r\n\r\n**Describe alternatives you've considered**\r\nAs today, Implement disabling logic inside the private jar requiring it to be loadable to begin with with the side effects of anything executing prior it is able to figure out that it does not want to be loaded. \r\n\r\n**Additional context**\r\nThere are test and production scenarios where you don't need the private jar.",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/7981/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/7981/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
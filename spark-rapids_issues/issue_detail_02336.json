{
    "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/2336",
    "repository_url": "https://api.github.com/repos/NVIDIA/spark-rapids",
    "labels_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/2336/labels{/name}",
    "comments_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/2336/comments",
    "events_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/2336/events",
    "html_url": "https://github.com/NVIDIA/spark-rapids/issues/2336",
    "id": 875008974,
    "node_id": "MDU6SXNzdWU4NzUwMDg5NzQ=",
    "number": 2336,
    "title": "[FEA] consider coalescing buffers spilled to host memory/disk",
    "user": {
        "login": "rongou",
        "id": 497101,
        "node_id": "MDQ6VXNlcjQ5NzEwMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/497101?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rongou",
        "html_url": "https://github.com/rongou",
        "followers_url": "https://api.github.com/users/rongou/followers",
        "following_url": "https://api.github.com/users/rongou/following{/other_user}",
        "gists_url": "https://api.github.com/users/rongou/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/rongou/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/rongou/subscriptions",
        "organizations_url": "https://api.github.com/users/rongou/orgs",
        "repos_url": "https://api.github.com/users/rongou/repos",
        "events_url": "https://api.github.com/users/rongou/events{/privacy}",
        "received_events_url": "https://api.github.com/users/rongou/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2061735884,
            "node_id": "MDU6TGFiZWwyMDYxNzM1ODg0",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/feature%20request",
            "name": "feature request",
            "color": "a2eeef",
            "default": false,
            "description": "New feature or request"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2021-05-04T00:32:32Z",
    "updated_at": "2021-05-04T20:10:37Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "**Is your feature request related to a problem? Please describe.**\r\nWhile working on GDS spilling, I noticed that having a large number of shuffle partitions (or even the default 200) may result in many small shuffle buffers. Spilling these to disk via GDS becomes very slow, while coalescing them into large buffers with fewer writes greatly improves performance. Spilling to host memory seems to be less affected by the number of shuffle partitions (thus shuffle buffer size), but it may be worth considering coalescing when spilling to host memory as well.\r\n\r\n**Describe the solution you'd like**\r\nInvestigate coalescing small shuffle buffers when spilling them to host memory/disk.\r\n\r\n**Describe alternatives you've considered**\r\nWe may also want to consider coalescing at the spilling layer so the spillable buffers are always combined into larger buffers, regardless of the spilling destination.\r\n\r\n**Additional context**\r\nGDS spilling PR: https://github.com/NVIDIA/spark-rapids/pull/2295\r\n\r\n@jlowe @abellina @revans2 ",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/2336/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/2336/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
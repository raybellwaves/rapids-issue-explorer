{
    "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/5054",
    "repository_url": "https://api.github.com/repos/NVIDIA/spark-rapids",
    "labels_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/5054/labels{/name}",
    "comments_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/5054/comments",
    "events_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/5054/events",
    "html_url": "https://github.com/NVIDIA/spark-rapids/issues/5054",
    "id": 1181030797,
    "node_id": "I_kwDOD7z77c5GZRmN",
    "number": 5054,
    "title": "Research spike to understand q77 better",
    "user": {
        "login": "abellina",
        "id": 1901059,
        "node_id": "MDQ6VXNlcjE5MDEwNTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1901059?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/abellina",
        "html_url": "https://github.com/abellina",
        "followers_url": "https://api.github.com/users/abellina/followers",
        "following_url": "https://api.github.com/users/abellina/following{/other_user}",
        "gists_url": "https://api.github.com/users/abellina/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/abellina/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/abellina/subscriptions",
        "organizations_url": "https://api.github.com/users/abellina/orgs",
        "repos_url": "https://api.github.com/users/abellina/repos",
        "events_url": "https://api.github.com/users/abellina/events{/privacy}",
        "received_events_url": "https://api.github.com/users/abellina/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2094500742,
            "node_id": "MDU6TGFiZWwyMDk0NTAwNzQy",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/performance",
            "name": "performance",
            "color": "d845b1",
            "default": false,
            "description": "A performance related task/issue"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-03-25T17:03:36Z",
    "updated_at": "2022-03-29T20:45:37Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "q77's nsys trace shows lots of time spent not on GPU work. It is a query we normally do OK at, but given the odd trace we believe we should spend more time trying to understand it. \r\n\r\n1. There is a gap at the end of the job (please see screenshots below). We need to do java profiling to figure out what that is.\r\n\r\n2. There are gaps all over in the inside of the job. This is not a long running query (12s), but it has been tricky in the past (https://github.com/NVIDIA/spark-rapids/issues/1626). There is likely still a lot of data being returned to the driver, but this needs to be looked at in more detail. \r\n\r\nThis example shows a large green area of around 3 seconds that appears to indicate a CPU core at 100%, and no GPU work during that time. \r\n\r\n![Screenshot from 2022-03-25 11-58-58](https://user-images.githubusercontent.com/1901059/160166974-9fd441cd-3b52-4b87-9c9b-f6fa1d0b113d.png)\r\n\r\n\r\nThis second example shows the gap also, but it is not a busy processor. Did we get lucky in the prior graph and find a CPU very busy causing delays when finishing stages? \r\n\r\n![Screenshot from 2022-03-25 11-59-19](https://user-images.githubusercontent.com/1901059/160166970-87371bec-c01f-41a7-ae6a-84f82fe8aef3.png)\r\n\r\n",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/5054/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/5054/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
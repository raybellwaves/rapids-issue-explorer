{
    "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/932",
    "repository_url": "https://api.github.com/repos/NVIDIA/spark-rapids",
    "labels_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/932/labels{/name}",
    "comments_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/932/comments",
    "events_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/932/events",
    "html_url": "https://github.com/NVIDIA/spark-rapids/issues/932",
    "id": 719614844,
    "node_id": "MDU6SXNzdWU3MTk2MTQ4NDQ=",
    "number": 932,
    "title": "[FEA] Eliminate degenerate GpuColumnarToRow transition after file write",
    "user": {
        "login": "jlowe",
        "id": 1360766,
        "node_id": "MDQ6VXNlcjEzNjA3NjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1360766?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jlowe",
        "html_url": "https://github.com/jlowe",
        "followers_url": "https://api.github.com/users/jlowe/followers",
        "following_url": "https://api.github.com/users/jlowe/following{/other_user}",
        "gists_url": "https://api.github.com/users/jlowe/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jlowe/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jlowe/subscriptions",
        "organizations_url": "https://api.github.com/users/jlowe/orgs",
        "repos_url": "https://api.github.com/users/jlowe/repos",
        "events_url": "https://api.github.com/users/jlowe/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jlowe/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2061735884,
            "node_id": "MDU6TGFiZWwyMDYxNzM1ODg0",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/feature%20request",
            "name": "feature request",
            "color": "a2eeef",
            "default": false,
            "description": "New feature or request"
        },
        {
            "id": 2061735887,
            "node_id": "MDU6TGFiZWwyMDYxNzM1ODg3",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/good%20first%20issue",
            "name": "good first issue",
            "color": "7057ff",
            "default": true,
            "description": "Good for newcomers"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-10-12T19:38:15Z",
    "updated_at": "2023-10-17T20:31:48Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "**Is your feature request related to a problem? Please describe.**\r\nWhen a query ends by writing the output to a file, the SQL plan shows a trailing `GpuColumnarToRow` transition at the end of the plan.  This often confuses users examining the plan, causing them to believe something significant is running on the CPU after the write.  In reality the write produces no output to the next node in the query plan, so the transition is degenerate. \r\n\r\n**Describe the solution you'd like**\r\nIt would be nice if we could eliminate this node from appearing in query plans.  I believe a normal ColumarToRow transition is being inserted by Spark when it sees the `RDD[ColumnarBatch]` output from the write exec and this is then updated to a `GpuColumnarToRow` transition by the plugin.  I'm wondering if GPU write nodes advertise `RDD[ColumnarBatch]` inputs but `RDD[InternalRow]` outputs would avoid Spark thinking it needs to insert a transition after the GPU write node.\r\n",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/932/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/932/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
{
    "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8815",
    "repository_url": "https://api.github.com/repos/NVIDIA/spark-rapids",
    "labels_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8815/labels{/name}",
    "comments_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8815/comments",
    "events_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8815/events",
    "html_url": "https://github.com/NVIDIA/spark-rapids/issues/8815",
    "id": 1823026029,
    "node_id": "I_kwDOD7z77c5sqStt",
    "number": 8815,
    "title": "[FEA] Figure out how to monitor host memory usage in local mode for scale testing + add launch scripts",
    "user": {
        "login": "revans2",
        "id": 3441321,
        "node_id": "MDQ6VXNlcjM0NDEzMjE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3441321?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/revans2",
        "html_url": "https://github.com/revans2",
        "followers_url": "https://api.github.com/users/revans2/followers",
        "following_url": "https://api.github.com/users/revans2/following{/other_user}",
        "gists_url": "https://api.github.com/users/revans2/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/revans2/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/revans2/subscriptions",
        "organizations_url": "https://api.github.com/users/revans2/orgs",
        "repos_url": "https://api.github.com/users/revans2/repos",
        "events_url": "https://api.github.com/users/revans2/events{/privacy}",
        "received_events_url": "https://api.github.com/users/revans2/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2061735884,
            "node_id": "MDU6TGFiZWwyMDYxNzM1ODg0",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/feature%20request",
            "name": "feature request",
            "color": "a2eeef",
            "default": false,
            "description": "New feature or request"
        },
        {
            "id": 2094874947,
            "node_id": "MDU6TGFiZWwyMDk0ODc0OTQ3",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/test",
            "name": "test",
            "color": "60d6d4",
            "default": false,
            "description": "Only impacts tests"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2023-07-26T19:30:13Z",
    "updated_at": "2023-08-08T20:07:30Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "**Is your feature request related to a problem? Please describe.**\r\nSpark does not have a way to generically know how much host memory is being used when running.  Eventually we want our scale tests to run on a cluster, but in the short term we are likely going to run some tests locally with a low scale_factor, but a relatively high complexity. So we need to figure out how to monitor host memory usage locally and write some scripts that will let us wrap the query execution applications from https://github.com/NVIDIA/spark-rapids/issues/8814 and reports back if the memory usage was too high. \r\n\r\nThe goal is to write a script that can probe the current host, check to see if things are compatible with the scale testing, and warn if they are not. Then setup the environment to run the tests. Things like limiting the GPU memory to 16 GiB unless the GPU only has 16 GiB of memory. Verifying that there is enough host memory/cores to run the tests. Things like that.\r\n\r\nWhen this is done we should be able to run this script on a single node, either for a CPU run or a GPU run, and have it run the tests while timing them, monitoring the host memory usage, and report back results.\r\n\r\nThis is not intended to validate that the GPU and CPU produced the same results.  This is just to check that things went well with the queries and report back some information about them.",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8815/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/8815/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
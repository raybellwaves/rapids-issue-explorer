{
    "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6551",
    "repository_url": "https://api.github.com/repos/NVIDIA/spark-rapids",
    "labels_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6551/labels{/name}",
    "comments_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6551/comments",
    "events_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6551/events",
    "html_url": "https://github.com/NVIDIA/spark-rapids/issues/6551",
    "id": 1371827461,
    "node_id": "I_kwDOD7z77c5RxG0F",
    "number": 6551,
    "title": "[FEA] Unbounded to unbounded window as sort agg",
    "user": {
        "login": "revans2",
        "id": 3441321,
        "node_id": "MDQ6VXNlcjM0NDEzMjE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3441321?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/revans2",
        "html_url": "https://github.com/revans2",
        "followers_url": "https://api.github.com/users/revans2/followers",
        "following_url": "https://api.github.com/users/revans2/following{/other_user}",
        "gists_url": "https://api.github.com/users/revans2/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/revans2/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/revans2/subscriptions",
        "organizations_url": "https://api.github.com/users/revans2/orgs",
        "repos_url": "https://api.github.com/users/revans2/repos",
        "events_url": "https://api.github.com/users/revans2/events{/privacy}",
        "received_events_url": "https://api.github.com/users/revans2/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2094500742,
            "node_id": "MDU6TGFiZWwyMDk0NTAwNzQy",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/performance",
            "name": "performance",
            "color": "d845b1",
            "default": false,
            "description": "A performance related task/issue"
        },
        {
            "id": 2223784867,
            "node_id": "MDU6TGFiZWwyMjIzNzg0ODY3",
            "url": "https://api.github.com/repos/NVIDIA/spark-rapids/labels/P2",
            "name": "P2",
            "color": "8ff7b9",
            "default": false,
            "description": "Not required for release"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-09-13T18:08:31Z",
    "updated_at": "2022-09-13T20:03:38Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "As a part of #6550 we added in support for doing a count with unbounded preceding to unbounded following in multiple batches.  This dropped the performance of percent_rank by a non-trivial amount. One way we might want to look at getting some of the performance back is by switching from doing a window operation to doing a reduction/sorted group by aggregation followed by an a call to `repeat`.  Window operations currently assign a thread per row to calculate the aggregation. For large windows this is much much slower than doing a reduction or a sorted group by aggregation which are optimized for this type of operation.\r\n\r\nWhen doing this, though, we may want to avoid floating point operations because the order of operations can be different from run to run with reductions and aggregations compared to window operations.",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6551/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/NVIDIA/spark-rapids/issues/6551/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
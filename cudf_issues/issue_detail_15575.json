{
    "url": "https://api.github.com/repos/rapidsai/cudf/issues/15575",
    "repository_url": "https://api.github.com/repos/rapidsai/cudf",
    "labels_url": "https://api.github.com/repos/rapidsai/cudf/issues/15575/labels{/name}",
    "comments_url": "https://api.github.com/repos/rapidsai/cudf/issues/15575/comments",
    "events_url": "https://api.github.com/repos/rapidsai/cudf/issues/15575/events",
    "html_url": "https://github.com/rapidsai/cudf/issues/15575",
    "id": 2253797228,
    "node_id": "I_kwDOBWUGps6GVjds",
    "number": 15575,
    "title": "[FEA] Allow cudf::thread_pool to restrict the number of threads available.",
    "user": {
        "login": "nvdbaranec",
        "id": 56695930,
        "node_id": "MDQ6VXNlcjU2Njk1OTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/56695930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nvdbaranec",
        "html_url": "https://github.com/nvdbaranec",
        "followers_url": "https://api.github.com/users/nvdbaranec/followers",
        "following_url": "https://api.github.com/users/nvdbaranec/following{/other_user}",
        "gists_url": "https://api.github.com/users/nvdbaranec/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/nvdbaranec/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/nvdbaranec/subscriptions",
        "organizations_url": "https://api.github.com/users/nvdbaranec/orgs",
        "repos_url": "https://api.github.com/users/nvdbaranec/repos",
        "events_url": "https://api.github.com/users/nvdbaranec/events{/privacy}",
        "received_events_url": "https://api.github.com/users/nvdbaranec/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 599626561,
            "node_id": "MDU6TGFiZWw1OTk2MjY1NjE=",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/feature%20request",
            "name": "feature request",
            "color": "a2eeef",
            "default": false,
            "description": "New feature or request"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2024-04-19T19:35:34Z",
    "updated_at": "2024-04-19T19:48:25Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "I have a benchmarking use case where it would be nice to be able to use a single thread pool across multiple benchmarks for ease of viewing in nsys.  Imagine a benchmark where one of your testing axes is the number of threads used to split up the work. Say, 2, 4 and 8 threads.  The way you would do this today is you would create a new `thread_pool` in each instance of the benchmark with the appropriate number of threads.  The problem with this is that each thread gets it's own line of data in nsys.  So you end up with 14 total threads that you have to expand and hunt down.  This gets worse if you have other axes.  You can very quickly get up into 64 or more threads, which is a bit of a headache to sort through.\r\n\r\nInstead, it would be nice if we could create a thread pool and temporarily restrict the number of threads it would use for newly submitted jobs.   So what your benchmark could do is create a single global thread pool (say, 8 threads above). And then just set the thread count restriction in each benchmark.   So you would have a nice clean timeline with a tractable number of threads in nsys.\r\n\r\nAlternately, a way to sub-allocate  out of an existing pool (temporarily funding one thread_pool with the threads from another)  would work as well.",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/15575/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/rapidsai/cudf/issues/15575/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
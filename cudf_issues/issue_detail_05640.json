{
    "url": "https://api.github.com/repos/rapidsai/cudf/issues/5640",
    "repository_url": "https://api.github.com/repos/rapidsai/cudf",
    "labels_url": "https://api.github.com/repos/rapidsai/cudf/issues/5640/labels{/name}",
    "comments_url": "https://api.github.com/repos/rapidsai/cudf/issues/5640/comments",
    "events_url": "https://api.github.com/repos/rapidsai/cudf/issues/5640/events",
    "html_url": "https://github.com/rapidsai/cudf/issues/5640",
    "id": 651550925,
    "node_id": "MDU6SXNzdWU2NTE1NTA5MjU=",
    "number": 5640,
    "title": "[FEA] Hash values in nested columns",
    "user": {
        "login": "alecgunny",
        "id": 14932242,
        "node_id": "MDQ6VXNlcjE0OTMyMjQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/14932242?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alecgunny",
        "html_url": "https://github.com/alecgunny",
        "followers_url": "https://api.github.com/users/alecgunny/followers",
        "following_url": "https://api.github.com/users/alecgunny/following{/other_user}",
        "gists_url": "https://api.github.com/users/alecgunny/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/alecgunny/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/alecgunny/subscriptions",
        "organizations_url": "https://api.github.com/users/alecgunny/orgs",
        "repos_url": "https://api.github.com/users/alecgunny/repos",
        "events_url": "https://api.github.com/users/alecgunny/events{/privacy}",
        "received_events_url": "https://api.github.com/users/alecgunny/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 599626561,
            "node_id": "MDU6TGFiZWw1OTk2MjY1NjE=",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/feature%20request",
            "name": "feature request",
            "color": "a2eeef",
            "default": false,
            "description": "New feature or request"
        },
        {
            "id": 1139740666,
            "node_id": "MDU6TGFiZWwxMTM5NzQwNjY2",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/libcudf",
            "name": "libcudf",
            "color": "c5def5",
            "default": false,
            "description": "Affects libcudf (C++/CUDA) code."
        },
        {
            "id": 1139741213,
            "node_id": "MDU6TGFiZWwxMTM5NzQxMjEz",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/Python",
            "name": "Python",
            "color": "1d76db",
            "default": false,
            "description": "Affects Python cuDF API."
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2020-07-06T13:43:29Z",
    "updated_at": "2023-04-06T05:28:34Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Hashing categorical features to a fixed number of bins is a common preprocessing operation, particularly for tabular deep learning models where memory requirements scale with the number of bins. For extension of CuDF to nested columns, it would be helpful if calls to `Series.hash_values` hashed the values *in* each element's list and not the list itself. This would allow categorical hashing to extend to multi-hot categorical features.\r\n\r\nAs an example:\r\n```\r\ndf = cudf.DataFrame({'a': [[0, 1, 2], [3, 4], [], [5], [6, 7, 8, 9]]})\r\ndf['a'].hash_values()\r\n\r\n# not sure what this representation will\r\n# print like but some like this\r\n[[ 29140149,  -247539971,  1683430573],  [1098043756,  1851360991], [],\r\n        [100260016],   [154726282, -1778135556, -1793932552,   246633392]]\r\n\r\ndf['a'].hash_values() % 4\r\n[[1, 1, 1], [0, 3], [], [0], [2, 0, 0, 0]]\r\n```\r\n\r\n**Additional context**\r\nNecessary for extension of [NVTabular HashBucket op](https://github.com/NVIDIA/NVTabular/blob/9f8216a89d565e00d8356ffef62f4437f3e2dee3/nvtabular/ops.py#L498) to multi-hot categorical data\r\n",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/5640/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/rapidsai/cudf/issues/5640/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
{
    "url": "https://api.github.com/repos/rapidsai/cudf/issues/11061",
    "repository_url": "https://api.github.com/repos/rapidsai/cudf",
    "labels_url": "https://api.github.com/repos/rapidsai/cudf/issues/11061/labels{/name}",
    "comments_url": "https://api.github.com/repos/rapidsai/cudf/issues/11061/comments",
    "events_url": "https://api.github.com/repos/rapidsai/cudf/issues/11061/events",
    "html_url": "https://github.com/rapidsai/cudf/issues/11061",
    "id": 1262464527,
    "node_id": "I_kwDOBWUGps5LP64P",
    "number": 11061,
    "title": "Improve aggregations through an acyclic visitor pattern",
    "user": {
        "login": "bdice",
        "id": 3943761,
        "node_id": "MDQ6VXNlcjM5NDM3NjE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3943761?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bdice",
        "html_url": "https://github.com/bdice",
        "followers_url": "https://api.github.com/users/bdice/followers",
        "following_url": "https://api.github.com/users/bdice/following{/other_user}",
        "gists_url": "https://api.github.com/users/bdice/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/bdice/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/bdice/subscriptions",
        "organizations_url": "https://api.github.com/users/bdice/orgs",
        "repos_url": "https://api.github.com/users/bdice/repos",
        "events_url": "https://api.github.com/users/bdice/events{/privacy}",
        "received_events_url": "https://api.github.com/users/bdice/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 599626561,
            "node_id": "MDU6TGFiZWw1OTk2MjY1NjE=",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/feature%20request",
            "name": "feature request",
            "color": "a2eeef",
            "default": false,
            "description": "New feature or request"
        },
        {
            "id": 1139740666,
            "node_id": "MDU6TGFiZWwxMTM5NzQwNjY2",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/libcudf",
            "name": "libcudf",
            "color": "c5def5",
            "default": false,
            "description": "Affects libcudf (C++/CUDA) code."
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": {
        "url": "https://api.github.com/repos/rapidsai/cudf/milestones/28",
        "html_url": "https://github.com/rapidsai/cudf/milestone/28",
        "labels_url": "https://api.github.com/repos/rapidsai/cudf/milestones/28/labels",
        "id": 9686188,
        "node_id": "MI_kwDOBWUGps4Ak8ys",
        "number": 28,
        "title": "Aggregations continuous improvement",
        "description": "",
        "creator": {
            "login": "GregoryKimball",
            "id": 12725111,
            "node_id": "MDQ6VXNlcjEyNzI1MTEx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12725111?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GregoryKimball",
            "html_url": "https://github.com/GregoryKimball",
            "followers_url": "https://api.github.com/users/GregoryKimball/followers",
            "following_url": "https://api.github.com/users/GregoryKimball/following{/other_user}",
            "gists_url": "https://api.github.com/users/GregoryKimball/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GregoryKimball/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GregoryKimball/subscriptions",
            "organizations_url": "https://api.github.com/users/GregoryKimball/orgs",
            "repos_url": "https://api.github.com/users/GregoryKimball/repos",
            "events_url": "https://api.github.com/users/GregoryKimball/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GregoryKimball/received_events",
            "type": "User",
            "site_admin": false
        },
        "open_issues": 8,
        "closed_issues": 1,
        "state": "open",
        "created_at": "2023-07-22T20:30:21Z",
        "updated_at": "2024-03-08T22:50:19Z",
        "due_on": null,
        "closed_at": null
    },
    "comments": 2,
    "created_at": "2022-06-06T21:48:35Z",
    "updated_at": "2023-07-22T20:31:37Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "This issue is a longer description for a project originally proposed here: https://github.com/rapidsai/cudf/issues/10432#issuecomment-1067560695\r\n\r\n## High-level overview\r\n\r\nSeveral features in libcudf are implemented using \u201caggregations\u201d: operations that act on multiple pieces of data. Aggregations enable a wide range of computations, including scans over a column of data, reductions over a column to find quantiles or standard deviations, reductions over grouped data, rolling (windowed) averages, or segmented reductions that can find the minimum value of each list in a column. Real-world examples include computing a rolling average of sales through the year, or average sales grouped by the day of the week. Some aggregations are simple to implement (like a sum), while others require data pre-processing (like sum-of-squares, which squares each element before performing the sum across elements) or data post-processing (like a mean, which sums across elements and then divides by the number of elements). Currently, the code in libcudf implements a [visitor pattern](https://en.wikipedia.org/wiki/Visitor_pattern) for the groupby and rolling code paths using aggregation, but not for other paths such as reductions and segmented reductions.\r\n\r\n## Proposed changes\r\n\r\nThis issue proposes to:\r\n- implement the visitor pattern style of groupby/rolling for additional forms of aggregation such as reductions and segmented reductions\r\n- improve consistency and code reuse for aggregations across the library\r\n\r\nThe unified design should be benchmarked. Existing tests should be adapted to ensure complete coverage. Aggregation design documentation should be written for the libcudf developer docs so these patterns can be recognized and reused where appropriate.\r\n\r\nIdeally, we would like to use an _acyclic visitor pattern_ to reduce the amount of boilerplate code needed. References:\r\n- https://condor.depaul.edu/dmumaugh/OOT/Design-Principles/acv.pdf\r\n- https://codecrafter.blogspot.com/2012/12/the-acyclic-visitor-pattern.html\r\n\r\nSee also this table overview of [aggregation algorithms and operations](https://gist.github.com/codereport/b747c8cad4026fa1defc422411afbcbc).",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/11061/reactions",
        "total_count": 2,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 2,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/rapidsai/cudf/issues/11061/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
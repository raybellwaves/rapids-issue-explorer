{
    "url": "https://api.github.com/repos/rapidsai/cudf/issues/14324",
    "repository_url": "https://api.github.com/repos/rapidsai/cudf",
    "labels_url": "https://api.github.com/repos/rapidsai/cudf/issues/14324/labels{/name}",
    "comments_url": "https://api.github.com/repos/rapidsai/cudf/issues/14324/comments",
    "events_url": "https://api.github.com/repos/rapidsai/cudf/issues/14324/events",
    "html_url": "https://github.com/rapidsai/cudf/issues/14324",
    "id": 1960048147,
    "node_id": "I_kwDOBWUGps500_YT",
    "number": 14324,
    "title": "[BUG] AST Limitation: Unable to Handle Single String Literal Expressions",
    "user": {
        "login": "aocsa",
        "id": 3615859,
        "node_id": "MDQ6VXNlcjM2MTU4NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3615859?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aocsa",
        "html_url": "https://github.com/aocsa",
        "followers_url": "https://api.github.com/users/aocsa/followers",
        "following_url": "https://api.github.com/users/aocsa/following{/other_user}",
        "gists_url": "https://api.github.com/users/aocsa/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/aocsa/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/aocsa/subscriptions",
        "organizations_url": "https://api.github.com/users/aocsa/orgs",
        "repos_url": "https://api.github.com/users/aocsa/repos",
        "events_url": "https://api.github.com/users/aocsa/events{/privacy}",
        "received_events_url": "https://api.github.com/users/aocsa/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 599626559,
            "node_id": "MDU6TGFiZWw1OTk2MjY1NTk=",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/bug",
            "name": "bug",
            "color": "d73a4a",
            "default": true,
            "description": "Something isn't working"
        },
        {
            "id": 1013987352,
            "node_id": "MDU6TGFiZWwxMDEzOTg3MzUy",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/0%20-%20Backlog",
            "name": "0 - Backlog",
            "color": "d4c5f9",
            "default": false,
            "description": "In queue waiting for assignment"
        },
        {
            "id": 1139740666,
            "node_id": "MDU6TGFiZWwxMTM5NzQwNjY2",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/libcudf",
            "name": "libcudf",
            "color": "c5def5",
            "default": false,
            "description": "Affects libcudf (C++/CUDA) code."
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": {
        "url": "https://api.github.com/repos/rapidsai/cudf/milestones/21",
        "html_url": "https://github.com/rapidsai/cudf/milestone/21",
        "labels_url": "https://api.github.com/repos/rapidsai/cudf/milestones/21/labels",
        "id": 8576365,
        "node_id": "MI_kwDOBWUGps4Agt1t",
        "number": 21,
        "title": "Expression evaluation",
        "description": "",
        "creator": {
            "login": "GregoryKimball",
            "id": 12725111,
            "node_id": "MDQ6VXNlcjEyNzI1MTEx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12725111?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GregoryKimball",
            "html_url": "https://github.com/GregoryKimball",
            "followers_url": "https://api.github.com/users/GregoryKimball/followers",
            "following_url": "https://api.github.com/users/GregoryKimball/following{/other_user}",
            "gists_url": "https://api.github.com/users/GregoryKimball/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GregoryKimball/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GregoryKimball/subscriptions",
            "organizations_url": "https://api.github.com/users/GregoryKimball/orgs",
            "repos_url": "https://api.github.com/users/GregoryKimball/repos",
            "events_url": "https://api.github.com/users/GregoryKimball/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GregoryKimball/received_events",
            "type": "User",
            "site_admin": false
        },
        "open_issues": 9,
        "closed_issues": 22,
        "state": "open",
        "created_at": "2022-10-24T21:39:12Z",
        "updated_at": "2024-05-16T17:06:31Z",
        "due_on": null,
        "closed_at": null
    },
    "comments": 1,
    "created_at": "2023-10-24T20:46:43Z",
    "updated_at": "2023-11-09T17:56:23Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "**Describe the bug**\r\n\r\nThe AST evaluator currently encounters a limitation where it is unable to handle an expression consisting of just one string literal, this is not a problem with other data types. While this scenario may be considered an edge case, it would be nice to address it for consistency with how other libraries, such as Pandas, handle similar situations.  \r\n\r\n```\r\ndf.eval(\" 'alex' \")\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/alexander/envs/cudf_dev/lib/python3.10/site-packages/nvtx/nvtx.py\", line 101, in inner\r\n    result = func(*args, **kwargs)\r\n  File \"/home/alexander/envs/cudf_dev/lib/python3.10/site-packages/cudf/core/dataframe.py\", line 7065, in eval\r\n    None: libcudf.transform.compute_column(\r\n  File \"/home/alexander/envs/cudf_dev/lib/python3.10/contextlib.py\", line 79, in inner\r\n    return func(*args, **kwds)\r\n  File \"transform.pyx\", line 196, in cudf._lib.transform.compute_column\r\nRuntimeError: CUDF failure at: /opt/mambaforge/conda-bld/libcudf-ext_1692118605400/work/cpp/src/column/column_factories.cpp:161: Invalid, non-fixed-width type.\r\n\r\n```\r\n**Steps/Code to reproduce bug**\r\n```\r\nimport cudf\r\ndf = cudf.DataFrame({'A': [], 'B': []})\r\ndf.eval(\" 'alex' \")\r\n```\r\n\r\n`RuntimeError: CUDF failure at: /opt/mambaforge/conda-bld/libcudf-ext_1692118605400/work/cpp/src/column/column_factories.cpp:161: Invalid, non-fixed-width type.`\r\n\r\n**Expected behavior**\r\n\r\nFor a similar  example but with other data types. \r\n\r\n```\r\nimport cudf\r\ndf = cudf.DataFrame({'A': [], 'B': []})\r\ndf.eval(\" 123 \")\r\n```\r\n\r\n**Environment overview (please complete the following information)**\r\n - Environment location: conda\r\n - Method of cuDF install: conda\r\n -  branch-23.10, origin/branch-23.10\r\n \r\n",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/14324/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/rapidsai/cudf/issues/14324/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
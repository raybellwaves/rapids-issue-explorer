{
    "url": "https://api.github.com/repos/rapidsai/cudf/issues/11948",
    "repository_url": "https://api.github.com/repos/rapidsai/cudf",
    "labels_url": "https://api.github.com/repos/rapidsai/cudf/issues/11948/labels{/name}",
    "comments_url": "https://api.github.com/repos/rapidsai/cudf/issues/11948/comments",
    "events_url": "https://api.github.com/repos/rapidsai/cudf/issues/11948/events",
    "html_url": "https://github.com/rapidsai/cudf/issues/11948",
    "id": 1415563951,
    "node_id": "I_kwDOBWUGps5UX8qv",
    "number": 11948,
    "title": "[BUG] CSV reader cannot handle unquoted quote character appearing in a field",
    "user": {
        "login": "revans2",
        "id": 3441321,
        "node_id": "MDQ6VXNlcjM0NDEzMjE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3441321?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/revans2",
        "html_url": "https://github.com/revans2",
        "followers_url": "https://api.github.com/users/revans2/followers",
        "following_url": "https://api.github.com/users/revans2/following{/other_user}",
        "gists_url": "https://api.github.com/users/revans2/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/revans2/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/revans2/subscriptions",
        "organizations_url": "https://api.github.com/users/revans2/orgs",
        "repos_url": "https://api.github.com/users/revans2/repos",
        "events_url": "https://api.github.com/users/revans2/events{/privacy}",
        "received_events_url": "https://api.github.com/users/revans2/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 599626559,
            "node_id": "MDU6TGFiZWw1OTk2MjY1NTk=",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/bug",
            "name": "bug",
            "color": "d73a4a",
            "default": true,
            "description": "Something isn't working"
        },
        {
            "id": 1013987352,
            "node_id": "MDU6TGFiZWwxMDEzOTg3MzUy",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/0%20-%20Backlog",
            "name": "0 - Backlog",
            "color": "d4c5f9",
            "default": false,
            "description": "In queue waiting for assignment"
        },
        {
            "id": 1139740666,
            "node_id": "MDU6TGFiZWwxMTM5NzQwNjY2",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/libcudf",
            "name": "libcudf",
            "color": "c5def5",
            "default": false,
            "description": "Affects libcudf (C++/CUDA) code."
        },
        {
            "id": 1185244142,
            "node_id": "MDU6TGFiZWwxMTg1MjQ0MTQy",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/cuIO",
            "name": "cuIO",
            "color": "fef2c0",
            "default": false,
            "description": "cuIO issue"
        },
        {
            "id": 1405146975,
            "node_id": "MDU6TGFiZWwxNDA1MTQ2OTc1",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/Spark",
            "name": "Spark",
            "color": "7400ff",
            "default": false,
            "description": "Functionality that helps Spark RAPIDS"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
        "login": "vuule",
        "id": 16005690,
        "node_id": "MDQ6VXNlcjE2MDA1Njkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16005690?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vuule",
        "html_url": "https://github.com/vuule",
        "followers_url": "https://api.github.com/users/vuule/followers",
        "following_url": "https://api.github.com/users/vuule/following{/other_user}",
        "gists_url": "https://api.github.com/users/vuule/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/vuule/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/vuule/subscriptions",
        "organizations_url": "https://api.github.com/users/vuule/orgs",
        "repos_url": "https://api.github.com/users/vuule/repos",
        "events_url": "https://api.github.com/users/vuule/events{/privacy}",
        "received_events_url": "https://api.github.com/users/vuule/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "vuule",
            "id": 16005690,
            "node_id": "MDQ6VXNlcjE2MDA1Njkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/16005690?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vuule",
            "html_url": "https://github.com/vuule",
            "followers_url": "https://api.github.com/users/vuule/followers",
            "following_url": "https://api.github.com/users/vuule/following{/other_user}",
            "gists_url": "https://api.github.com/users/vuule/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vuule/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vuule/subscriptions",
            "organizations_url": "https://api.github.com/users/vuule/orgs",
            "repos_url": "https://api.github.com/users/vuule/repos",
            "events_url": "https://api.github.com/users/vuule/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vuule/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": {
        "url": "https://api.github.com/repos/rapidsai/cudf/milestones/12",
        "html_url": "https://github.com/rapidsai/cudf/milestone/12",
        "labels_url": "https://api.github.com/repos/rapidsai/cudf/milestones/12/labels",
        "id": 8136720,
        "node_id": "MI_kwDOBWUGps4AfCgQ",
        "number": 12,
        "title": "CSV continuous improvement",
        "description": "",
        "creator": {
            "login": "GregoryKimball",
            "id": 12725111,
            "node_id": "MDQ6VXNlcjEyNzI1MTEx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12725111?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GregoryKimball",
            "html_url": "https://github.com/GregoryKimball",
            "followers_url": "https://api.github.com/users/GregoryKimball/followers",
            "following_url": "https://api.github.com/users/GregoryKimball/following{/other_user}",
            "gists_url": "https://api.github.com/users/GregoryKimball/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GregoryKimball/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GregoryKimball/subscriptions",
            "organizations_url": "https://api.github.com/users/GregoryKimball/orgs",
            "repos_url": "https://api.github.com/users/GregoryKimball/repos",
            "events_url": "https://api.github.com/users/GregoryKimball/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GregoryKimball/received_events",
            "type": "User",
            "site_admin": false
        },
        "open_issues": 32,
        "closed_issues": 5,
        "state": "open",
        "created_at": "2022-06-27T23:01:53Z",
        "updated_at": "2024-05-22T20:21:00Z",
        "due_on": null,
        "closed_at": null
    },
    "comments": 5,
    "created_at": "2022-10-19T20:45:58Z",
    "updated_at": "2023-08-16T22:18:17Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "**Describe the bug**\r\nThis is directly from https://github.com/NVIDIA/spark-rapids/issues/6435 If you have a field like `abc\"\"` in a CSV file the cudf CSV parser stops processing more data.\r\n\r\n**Steps/Code to reproduce bug**\r\nCreate a file `test.csv` with the following data in it.\r\n\r\n```\r\n134324937434,#1991 N Grayhawk,\"\",Menlo Park,89025,AB,United States,US\r\n208564744937,\"63,trevion Way\",\"\",st Lothian,h7f4h8,\"\",United Kingdom,GB\r\n132709376823,16 Oakland PARK RD,\"\",ring,l1w1e4,South,Canada,CA\r\n224867848652,7 kingwell Court,\"\",United,s7jd9,South United,United Kingdom,GB\r\n169636884295,30 cartuja Road,\"\",Halifax,L0R 9p2,ON,Canada,CA\r\n859473321609,Street,\"\",Manchester,92220,OR,United States,US\r\n141096112545,99 rue des,\"\",Australia,jsd9je,\"\",France,FR\r\n160397658930,5 Rise,\"\",walligshngton,RY6 8LT,FORT,United Kingdom,GB\r\n726367494002,1852 Townsend st,666,Wallsend,90382,CA,United States,US\r\n187644735867,B\u00e4rbel-HAMPDEN-Ping 37,\"\",Miami,13355,\"\",Kingdom,ZZ\r\n948475348324,155 sw City ct,Rochdale,Germany,30864,FL,Australia,QQ\r\n164083193213,abc\"\",\"\",Jerez Fra.,11401,Cadiz,Spain,ES\r\n198732413077,3p Grove Rochdale road,BAW,Fulifax,HX4 trW,\"\",Israel,GB\r\n227433927227,95 novem blvd,\"\",RAW VILLAGE,3173,XYZ,Australia,IL\r\n```\r\n\r\nNow try to read it using CUDF.  The last two rows are skipped, and the `acb\"\"` is read back missing the last `\"`\r\n\r\n(From spark using the rapids plugin for apache spark)\r\n\r\n```\r\n+------------+--------------------+--------+-------------+-------+------------+--------------+---+\r\n|         _c0|                 _c1|     _c2|          _c3|    _c4|         _c5|           _c6|_c7|\r\n+------------+--------------------+--------+-------------+-------+------------+--------------+---+\r\n|134324937434|    #1991 N Grayhawk|    null|   Menlo Park|  89025|          AB| United States| US|\r\n|208564744937|      63,trevion Way|    null|   st Lothian| h7f4h8|        null|United Kingdom| GB|\r\n|132709376823|  16 Oakland PARK RD|    null|         ring| l1w1e4|       South|        Canada| CA|\r\n|224867848652|    7 kingwell Court|    null|       United|  s7jd9|South United|United Kingdom| GB|\r\n|169636884295|     30 cartuja Road|    null|      Halifax|L0R 9p2|          ON|        Canada| CA|\r\n|859473321609|              Street|    null|   Manchester|  92220|          OR| United States| US|\r\n|141096112545|          99 rue des|    null|    Australia| jsd9je|        null|        France| FR|\r\n|160397658930|              5 Rise|    null|walligshngton|RY6 8LT|        FORT|United Kingdom| GB|\r\n|726367494002|    1852 Townsend st|     666|     Wallsend|  90382|          CA| United States| US|\r\n|187644735867|B\u00e4rbel-HAMPDEN-Pi...|    null|        Miami|  13355|        null|       Kingdom| ZZ|\r\n|948475348324|      155 sw City ct|Rochdale|      Germany|  30864|          FL|     Australia| QQ|\r\n|164083193213|                abc\"|    null|   Jerez Fra.|  11401|       Cadiz|         Spain| ES|\r\n+------------+--------------------+--------+-------------+-------+------------+--------------+---+\r\n```\r\n\r\nWithout the plugin I get back\r\n```\r\n+------------+--------------------+--------+-------------+-------+------------+--------------+---+\r\n|         _c0|                 _c1|     _c2|          _c3|    _c4|         _c5|           _c6|_c7|\r\n+------------+--------------------+--------+-------------+-------+------------+--------------+---+\r\n|134324937434|    #1991 N Grayhawk|    null|   Menlo Park|  89025|          AB| United States| US|\r\n|208564744937|      63,trevion Way|    null|   st Lothian| h7f4h8|        null|United Kingdom| GB|\r\n|132709376823|  16 Oakland PARK RD|    null|         ring| l1w1e4|       South|        Canada| CA|\r\n|224867848652|    7 kingwell Court|    null|       United|  s7jd9|South United|United Kingdom| GB|\r\n|169636884295|     30 cartuja Road|    null|      Halifax|L0R 9p2|          ON|        Canada| CA|\r\n|859473321609|              Street|    null|   Manchester|  92220|          OR| United States| US|\r\n|141096112545|          99 rue des|    null|    Australia| jsd9je|        null|        France| FR|\r\n|160397658930|              5 Rise|    null|walligshngton|RY6 8LT|        FORT|United Kingdom| GB|\r\n|726367494002|    1852 Townsend st|     666|     Wallsend|  90382|          CA| United States| US|\r\n|187644735867|B\u00e4rbel-HAMPDEN-Pi...|    null|        Miami|  13355|        null|       Kingdom| ZZ|\r\n|948475348324|      155 sw City ct|Rochdale|      Germany|  30864|          FL|     Australia| QQ|\r\n|164083193213|               abc\"\"|    null|   Jerez Fra.|  11401|       Cadiz|         Spain| ES|\r\n|198732413077|3p Grove Rochdale...|     BAW|      Fulifax|HX4 trW|        null|        Israel| GB|\r\n|227433927227|       95 novem blvd|    null|  RAW VILLAGE|   3173|         XYZ|     Australia| IL|\r\n+------------+--------------------+--------+-------------+-------+------------+--------------+---+\r\n```\r\n\r\nWhich is also what I get back from pandas.\r\n\r\n```\r\n>>> pd.read_csv(\"./test.csv\", header=None)\r\n               0                       1         2              3        4             5               6   7\r\n0   134324937434        #1991 N Grayhawk       NaN     Menlo Park    89025            AB   United States  US\r\n1   208564744937          63,trevion Way       NaN     st Lothian   h7f4h8           NaN  United Kingdom  GB\r\n2   132709376823      16 Oakland PARK RD       NaN           ring   l1w1e4         South          Canada  CA\r\n3   224867848652        7 kingwell Court       NaN         United    s7jd9  South United  United Kingdom  GB\r\n4   169636884295         30 cartuja Road       NaN        Halifax  L0R 9p2            ON          Canada  CA\r\n5   859473321609                  Street       NaN     Manchester    92220            OR   United States  US\r\n6   141096112545              99 rue des       NaN      Australia   jsd9je           NaN          France  FR\r\n7   160397658930                  5 Rise       NaN  walligshngton  RY6 8LT          FORT  United Kingdom  GB\r\n8   726367494002        1852 Townsend st       666       Wallsend    90382            CA   United States  US\r\n9   187644735867  B\u00e4rbel-HAMPDEN-Ping 37       NaN          Miami    13355           NaN         Kingdom  ZZ\r\n10  948475348324          155 sw City ct  Rochdale        Germany    30864            FL       Australia  QQ\r\n11  164083193213                   abc\"\"       NaN     Jerez Fra.    11401         Cadiz           Spain  ES\r\n12  198732413077  3p Grove Rochdale road       BAW        Fulifax  HX4 trW           NaN          Israel  GB\r\n13  227433927227           95 novem blvd       NaN    RAW VILLAGE     3173           XYZ       Australia  IL\r\n```\r\n\r\n**Expected behavior**\r\nCUDF returns the same result as Pandas and Spark.",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/11948/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/rapidsai/cudf/issues/11948/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
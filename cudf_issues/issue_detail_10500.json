{
    "url": "https://api.github.com/repos/rapidsai/cudf/issues/10500",
    "repository_url": "https://api.github.com/repos/rapidsai/cudf",
    "labels_url": "https://api.github.com/repos/rapidsai/cudf/issues/10500/labels{/name}",
    "comments_url": "https://api.github.com/repos/rapidsai/cudf/issues/10500/comments",
    "events_url": "https://api.github.com/repos/rapidsai/cudf/issues/10500/events",
    "html_url": "https://github.com/rapidsai/cudf/issues/10500",
    "id": 1178568688,
    "node_id": "I_kwDOBWUGps5GP4fw",
    "number": 10500,
    "title": "Remove partial support for duplicate MultIindex names unless they are all None",
    "user": {
        "login": "vyasr",
        "id": 1538165,
        "node_id": "MDQ6VXNlcjE1MzgxNjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1538165?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vyasr",
        "html_url": "https://github.com/vyasr",
        "followers_url": "https://api.github.com/users/vyasr/followers",
        "following_url": "https://api.github.com/users/vyasr/following{/other_user}",
        "gists_url": "https://api.github.com/users/vyasr/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/vyasr/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/vyasr/subscriptions",
        "organizations_url": "https://api.github.com/users/vyasr/orgs",
        "repos_url": "https://api.github.com/users/vyasr/repos",
        "events_url": "https://api.github.com/users/vyasr/events{/privacy}",
        "received_events_url": "https://api.github.com/users/vyasr/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 1139741213,
            "node_id": "MDU6TGFiZWwxMTM5NzQxMjEz",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/Python",
            "name": "Python",
            "color": "1d76db",
            "default": false,
            "description": "Affects Python cuDF API."
        },
        {
            "id": 2546521024,
            "node_id": "MDU6TGFiZWwyNTQ2NTIxMDI0",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/improvement",
            "name": "improvement",
            "color": "bfd4f2",
            "default": false,
            "description": "Improvement / enhancement to an existing function"
        },
        {
            "id": 2546521049,
            "node_id": "MDU6TGFiZWwyNTQ2NTIxMDQ5",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/breaking",
            "name": "breaking",
            "color": "d93f0b",
            "default": false,
            "description": "Breaking change"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": {
        "url": "https://api.github.com/repos/rapidsai/cudf/milestones/6",
        "html_url": "https://github.com/rapidsai/cudf/milestone/6",
        "labels_url": "https://api.github.com/repos/rapidsai/cudf/milestones/6/labels",
        "id": 6996925,
        "node_id": "MI_kwDOBWUGps4AasO9",
        "number": 6,
        "title": "cuDF Python Refactoring",
        "description": "Refactor Python layers to improve performance, robustness, and extensibility. Ongoing development is being guided by the roadmap and evolving development guide.",
        "creator": {
            "login": "vyasr",
            "id": 1538165,
            "node_id": "MDQ6VXNlcjE1MzgxNjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1538165?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vyasr",
            "html_url": "https://github.com/vyasr",
            "followers_url": "https://api.github.com/users/vyasr/followers",
            "following_url": "https://api.github.com/users/vyasr/following{/other_user}",
            "gists_url": "https://api.github.com/users/vyasr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vyasr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vyasr/subscriptions",
            "organizations_url": "https://api.github.com/users/vyasr/orgs",
            "repos_url": "https://api.github.com/users/vyasr/repos",
            "events_url": "https://api.github.com/users/vyasr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vyasr/received_events",
            "type": "User",
            "site_admin": false
        },
        "open_issues": 14,
        "closed_issues": 101,
        "state": "open",
        "created_at": "2021-07-22T17:26:09Z",
        "updated_at": "2024-05-17T14:59:01Z",
        "due_on": null,
        "closed_at": null
    },
    "comments": 10,
    "created_at": "2022-03-23T19:26:15Z",
    "updated_at": "2024-05-21T00:15:12Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Currently our MultiIndex class supports duplicate names, while DataFrames do not. The MultiIndex support is buggy, however, and we are frequently finding new edge cases that break it. Since pandas DataFrames do support duplicate names and [we explicitly choose not to](https://github.com/rapidsai/cudf/blob/branch-22.04/python/cudf/cudf/core/dataframe.py#L4377), I think it makes sense to do the same for MultiIndex. It improves our internal consistency and helps us write much more robust code. Making this change would probably fix a number of currently unknown/hidden bugs.\r\n\r\nThe major caveat here is that we do need to support MultiIndexes where all the names are None. However, handling this case would potentially be much simpler since we could use a sentinel or another class attribute to track whether names are meaningful or not. Default names could be integers, and any setting of names would require setting all column names to unique values.\r\n\r\nAn aside: If we ever did want to support duplicate names properly, it would involve a refactoring at the level of `ColumnAccessor`, which currently uses a dictionary as the underlying data structure to map names to columns. We would then need to update all of our functions that rely on `_from_data` to populate a new object that could support duplicate names rather than a dictionary. This is a substantial undertaking and out of scope for this issue.",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/10500/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/rapidsai/cudf/issues/10500/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
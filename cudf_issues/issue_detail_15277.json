{
    "url": "https://api.github.com/repos/rapidsai/cudf/issues/15277",
    "repository_url": "https://api.github.com/repos/rapidsai/cudf",
    "labels_url": "https://api.github.com/repos/rapidsai/cudf/issues/15277/labels{/name}",
    "comments_url": "https://api.github.com/repos/rapidsai/cudf/issues/15277/comments",
    "events_url": "https://api.github.com/repos/rapidsai/cudf/issues/15277/events",
    "html_url": "https://github.com/rapidsai/cudf/issues/15277",
    "id": 2181842237,
    "node_id": "I_kwDOBWUGps6CDEU9",
    "number": 15277,
    "title": "[FEA] Find a way to support String column input/fixup for JSON parsing",
    "user": {
        "login": "revans2",
        "id": 3441321,
        "node_id": "MDQ6VXNlcjM0NDEzMjE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3441321?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/revans2",
        "html_url": "https://github.com/revans2",
        "followers_url": "https://api.github.com/users/revans2/followers",
        "following_url": "https://api.github.com/users/revans2/following{/other_user}",
        "gists_url": "https://api.github.com/users/revans2/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/revans2/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/revans2/subscriptions",
        "organizations_url": "https://api.github.com/users/revans2/orgs",
        "repos_url": "https://api.github.com/users/revans2/repos",
        "events_url": "https://api.github.com/users/revans2/events{/privacy}",
        "received_events_url": "https://api.github.com/users/revans2/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 599626561,
            "node_id": "MDU6TGFiZWw1OTk2MjY1NjE=",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/feature%20request",
            "name": "feature request",
            "color": "a2eeef",
            "default": false,
            "description": "New feature or request"
        },
        {
            "id": 1185244142,
            "node_id": "MDU6TGFiZWwxMTg1MjQ0MTQy",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/cuIO",
            "name": "cuIO",
            "color": "fef2c0",
            "default": false,
            "description": "cuIO issue"
        },
        {
            "id": 1405146975,
            "node_id": "MDU6TGFiZWwxNDA1MTQ2OTc1",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/Spark",
            "name": "Spark",
            "color": "7400ff",
            "default": false,
            "description": "Functionality that helps Spark RAPIDS"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
        "login": "shrshi",
        "id": 7304582,
        "node_id": "MDQ6VXNlcjczMDQ1ODI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7304582?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shrshi",
        "html_url": "https://github.com/shrshi",
        "followers_url": "https://api.github.com/users/shrshi/followers",
        "following_url": "https://api.github.com/users/shrshi/following{/other_user}",
        "gists_url": "https://api.github.com/users/shrshi/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/shrshi/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/shrshi/subscriptions",
        "organizations_url": "https://api.github.com/users/shrshi/orgs",
        "repos_url": "https://api.github.com/users/shrshi/repos",
        "events_url": "https://api.github.com/users/shrshi/events{/privacy}",
        "received_events_url": "https://api.github.com/users/shrshi/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "shrshi",
            "id": 7304582,
            "node_id": "MDQ6VXNlcjczMDQ1ODI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7304582?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shrshi",
            "html_url": "https://github.com/shrshi",
            "followers_url": "https://api.github.com/users/shrshi/followers",
            "following_url": "https://api.github.com/users/shrshi/following{/other_user}",
            "gists_url": "https://api.github.com/users/shrshi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shrshi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shrshi/subscriptions",
            "organizations_url": "https://api.github.com/users/shrshi/orgs",
            "repos_url": "https://api.github.com/users/shrshi/repos",
            "events_url": "https://api.github.com/users/shrshi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shrshi/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": {
        "url": "https://api.github.com/repos/rapidsai/cudf/milestones/13",
        "html_url": "https://github.com/rapidsai/cudf/milestone/13",
        "labels_url": "https://api.github.com/repos/rapidsai/cudf/milestones/13/labels",
        "id": 8139578,
        "node_id": "MI_kwDOBWUGps4AfDM6",
        "number": 13,
        "title": "Nested JSON reader",
        "description": "Data-parallel reader for nested JSON text data",
        "creator": {
            "login": "GregoryKimball",
            "id": 12725111,
            "node_id": "MDQ6VXNlcjEyNzI1MTEx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12725111?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GregoryKimball",
            "html_url": "https://github.com/GregoryKimball",
            "followers_url": "https://api.github.com/users/GregoryKimball/followers",
            "following_url": "https://api.github.com/users/GregoryKimball/following{/other_user}",
            "gists_url": "https://api.github.com/users/GregoryKimball/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GregoryKimball/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GregoryKimball/subscriptions",
            "organizations_url": "https://api.github.com/users/GregoryKimball/orgs",
            "repos_url": "https://api.github.com/users/GregoryKimball/repos",
            "events_url": "https://api.github.com/users/GregoryKimball/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GregoryKimball/received_events",
            "type": "User",
            "site_admin": false
        },
        "open_issues": 14,
        "closed_issues": 63,
        "state": "open",
        "created_at": "2022-06-28T04:14:28Z",
        "updated_at": "2024-05-31T22:24:52Z",
        "due_on": null,
        "closed_at": null
    },
    "comments": 0,
    "created_at": "2024-03-12T14:59:44Z",
    "updated_at": "2024-05-03T18:57:52Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "**Is your feature request related to a problem? Please describe.**\r\nIn Spark we have a requirement to be able to pass in a column of strings and parse them as JSON. Ideally we would just pass this directly to CUDF, but none of the input formats really support this, and neither do any of the pre-processing steps that the JSON reader has put in for us. What we do today is first check to see if a line separator (carriage return) is in the data set. If there is one, then we throw an exception. If not, then we concat the lines together into a single buffer with a line separator in between the inputs. (we do some fixup for NULLs/empty rows too).\r\n\r\nThis has the problem that we throw an exception when we see a bad character in the data, which is valid for Spark to have in the data.\r\n\r\nI think that there are a few options that we have to fix this kind of a problem.\r\n\r\n1. Expose the API that removes unneeded white space. We could then remove the unneeded data from the buffer and replace any remaining line separators with '\\n' because then they should only be in quoted strings. (we might need to do single quote normalization too because I am not sure which one comes first)\r\n2. Provide a way to set a different line separator (Ideally something really unlikely to show up NUL \\0). This would not fix the problem 100%, but it would make it super rare, and I would feel okay with a solution like this.\r\n3. Do nothing and we just take the hit when we see a line with this in it. We would then have to pull back those lines to the CPU and process them on the CPU, and push them back to the GPU afterwards.\r\n\r\nI personally like option 2, but I am likely to implement option 3 in the short term unless I hear from CUDF that this is simple to do and can be done really quickly.",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/15277/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/rapidsai/cudf/issues/15277/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
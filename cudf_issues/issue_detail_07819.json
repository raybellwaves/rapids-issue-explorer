{
    "url": "https://api.github.com/repos/rapidsai/cudf/issues/7819",
    "repository_url": "https://api.github.com/repos/rapidsai/cudf",
    "labels_url": "https://api.github.com/repos/rapidsai/cudf/issues/7819/labels{/name}",
    "comments_url": "https://api.github.com/repos/rapidsai/cudf/issues/7819/comments",
    "events_url": "https://api.github.com/repos/rapidsai/cudf/issues/7819/events",
    "html_url": "https://github.com/rapidsai/cudf/issues/7819",
    "id": 848677913,
    "node_id": "MDU6SXNzdWU4NDg2Nzc5MTM=",
    "number": 7819,
    "title": "[FEA] Improve cudf tests for hash_partition",
    "user": {
        "login": "magnatelee",
        "id": 331175,
        "node_id": "MDQ6VXNlcjMzMTE3NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/331175?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/magnatelee",
        "html_url": "https://github.com/magnatelee",
        "followers_url": "https://api.github.com/users/magnatelee/followers",
        "following_url": "https://api.github.com/users/magnatelee/following{/other_user}",
        "gists_url": "https://api.github.com/users/magnatelee/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/magnatelee/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/magnatelee/subscriptions",
        "organizations_url": "https://api.github.com/users/magnatelee/orgs",
        "repos_url": "https://api.github.com/users/magnatelee/repos",
        "events_url": "https://api.github.com/users/magnatelee/events{/privacy}",
        "received_events_url": "https://api.github.com/users/magnatelee/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 599626561,
            "node_id": "MDU6TGFiZWw1OTk2MjY1NjE=",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/feature%20request",
            "name": "feature request",
            "color": "a2eeef",
            "default": false,
            "description": "New feature or request"
        },
        {
            "id": 1016342567,
            "node_id": "MDU6TGFiZWwxMDE2MzQyNTY3",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/tests",
            "name": "tests",
            "color": "204ea3",
            "default": false,
            "description": "Unit testing for project"
        },
        {
            "id": 1139741213,
            "node_id": "MDU6TGFiZWwxMTM5NzQxMjEz",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/Python",
            "name": "Python",
            "color": "1d76db",
            "default": false,
            "description": "Affects Python cuDF API."
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2021-04-01T18:05:31Z",
    "updated_at": "2024-02-23T18:43:02Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "**Is your feature request related to a problem? Please describe.**\r\n\r\nAs `cudf::hash_partition` now can use a hash function other than Murmur3 or take a custom seed value, I think the tests should be improved for better coverage.\r\n\r\n**Describe the solution you'd like**\r\n\r\nAs described in [this comment](https://github.com/rapidsai/cudf/pull/7771#issuecomment-811692022), two key properties of `cudf::hash_partition` are\r\n\r\n1. Output partitions are disjoint; and\r\n2. Rows having the same key are always assigned the same partition id, even when they appear in different dataframes (when the number of partitions is fixed).\r\n\r\nWe need to check these properties for some combinations of hash function types and seed values. Property 1 is checked in [this Python test](https://github.com/rapidsai/cudf/blob/b9415cae362882380e14b5baa6af49275021356e/python/cudf/cudf/tests/test_dataframe.py#L1106-L1135), but only with the default hash function and seed value, and I believe there are no tests for property 2 yet.\r\n\r\nAdditionally, we should remove [this test](https://github.com/rapidsai/cudf/blob/branch-0.19/python/cudf/cudf/tests/test_dataframe.py#L1181-L1200). The test is comparing a hard-coded value with the result of `hash_partition` for a test input, but this is over-constraining, as `hash_partition` in general has no guarantee on the order in which the keys appear in the output partitions. If we later decide to change the `row_hasher` in any way, this test will start to fail.",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/7819/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/rapidsai/cudf/issues/7819/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}
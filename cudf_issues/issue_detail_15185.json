{
    "url": "https://api.github.com/repos/rapidsai/cudf/issues/15185",
    "repository_url": "https://api.github.com/repos/rapidsai/cudf",
    "labels_url": "https://api.github.com/repos/rapidsai/cudf/issues/15185/labels{/name}",
    "comments_url": "https://api.github.com/repos/rapidsai/cudf/issues/15185/comments",
    "events_url": "https://api.github.com/repos/rapidsai/cudf/issues/15185/events",
    "html_url": "https://github.com/rapidsai/cudf/issues/15185",
    "id": 2160216448,
    "node_id": "I_kwDOBWUGps6AwkmA",
    "number": 15185,
    "title": "Reduce IO when `byte_range` option is used in `read_json`",
    "user": {
        "login": "vuule",
        "id": 16005690,
        "node_id": "MDQ6VXNlcjE2MDA1Njkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16005690?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vuule",
        "html_url": "https://github.com/vuule",
        "followers_url": "https://api.github.com/users/vuule/followers",
        "following_url": "https://api.github.com/users/vuule/following{/other_user}",
        "gists_url": "https://api.github.com/users/vuule/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/vuule/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/vuule/subscriptions",
        "organizations_url": "https://api.github.com/users/vuule/orgs",
        "repos_url": "https://api.github.com/users/vuule/repos",
        "events_url": "https://api.github.com/users/vuule/events{/privacy}",
        "received_events_url": "https://api.github.com/users/vuule/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 1139740666,
            "node_id": "MDU6TGFiZWwxMTM5NzQwNjY2",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/libcudf",
            "name": "libcudf",
            "color": "c5def5",
            "default": false,
            "description": "Affects libcudf (C++/CUDA) code."
        },
        {
            "id": 1185244142,
            "node_id": "MDU6TGFiZWwxMTg1MjQ0MTQy",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/cuIO",
            "name": "cuIO",
            "color": "fef2c0",
            "default": false,
            "description": "cuIO issue"
        },
        {
            "id": 1322252617,
            "node_id": "MDU6TGFiZWwxMzIyMjUyNjE3",
            "url": "https://api.github.com/repos/rapidsai/cudf/labels/Performance",
            "name": "Performance",
            "color": "C2E0C6",
            "default": false,
            "description": "Performance related issue"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": {
        "url": "https://api.github.com/repos/rapidsai/cudf/milestones/13",
        "html_url": "https://github.com/rapidsai/cudf/milestone/13",
        "labels_url": "https://api.github.com/repos/rapidsai/cudf/milestones/13/labels",
        "id": 8139578,
        "node_id": "MI_kwDOBWUGps4AfDM6",
        "number": 13,
        "title": "Nested JSON reader",
        "description": "Data-parallel reader for nested JSON text data",
        "creator": {
            "login": "GregoryKimball",
            "id": 12725111,
            "node_id": "MDQ6VXNlcjEyNzI1MTEx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12725111?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GregoryKimball",
            "html_url": "https://github.com/GregoryKimball",
            "followers_url": "https://api.github.com/users/GregoryKimball/followers",
            "following_url": "https://api.github.com/users/GregoryKimball/following{/other_user}",
            "gists_url": "https://api.github.com/users/GregoryKimball/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GregoryKimball/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GregoryKimball/subscriptions",
            "organizations_url": "https://api.github.com/users/GregoryKimball/orgs",
            "repos_url": "https://api.github.com/users/GregoryKimball/repos",
            "events_url": "https://api.github.com/users/GregoryKimball/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GregoryKimball/received_events",
            "type": "User",
            "site_admin": false
        },
        "open_issues": 14,
        "closed_issues": 63,
        "state": "open",
        "created_at": "2022-06-28T04:14:28Z",
        "updated_at": "2024-05-31T22:24:52Z",
        "due_on": null,
        "closed_at": null
    },
    "comments": 1,
    "created_at": "2024-02-29T02:13:59Z",
    "updated_at": "2024-02-29T21:39:11Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "When reading a byte range from a file, JSON reader has to read data beyond the actual byte range to get the remainder of the last row that starts within the range. In order to find the end of this row, current implementation reads the next byte range. Once the reader finds the delimiter, it reads the full required range of data, discarding everything previously read.\r\nThis leads to 3x data read in most cases: \r\nhttps://github.com/rapidsai/cudf/blob/branch-24.04/cpp/src/io/json/read_json.cu#L162-L202\r\nWe could implement a solution that reads additional data in smaller chunks and does not discard the byte range that was initially read. Once we find the next delimiter, we can concatenate all required data into a single buffer. This does include a D2D copy of all data, but this will be a lot faster than IO or the H2D copy that we now make. With this, we can limit the IO to just the requested byte range + few extra KBs. ",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/rapidsai/cudf/issues/15185/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/rapidsai/cudf/issues/15185/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}